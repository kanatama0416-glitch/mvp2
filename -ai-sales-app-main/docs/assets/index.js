(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),s}var zu={exports:{}},Ii={},Fu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=Symbol.for("react.element"),If=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Ff=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),tc=Symbol.iterator;function Wf(t){return t===null||typeof t!="object"?null:(t=tc&&t[tc]||t["@@iterator"],typeof t=="function"?t:null)}var Bu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wu=Object.assign,Hu={};function ur(t,e,s){this.props=t,this.context=e,this.refs=Hu,this.updater=s||Bu}ur.prototype.isReactComponent={};ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vu(){}Vu.prototype=ur.prototype;function Gl(t,e,s){this.props=t,this.context=e,this.refs=Hu,this.updater=s||Bu}var Jl=Gl.prototype=new Vu;Jl.constructor=Gl;Wu(Jl,ur.prototype);Jl.isPureReactComponent=!0;var sc=Array.isArray,Ku=Object.prototype.hasOwnProperty,Ql={current:null},qu={key:!0,ref:!0,__self:!0,__source:!0};function Gu(t,e,s){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)Ku.call(e,r)&&!qu.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:dn,type:t,key:a,ref:l,props:i,_owner:Ql.current}}function Hf(t,e){return{$$typeof:dn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yl(t){return typeof t=="object"&&t!==null&&t.$$typeof===dn}function Vf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var rc=/\/+/g;function aa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vf(""+t.key):e.toString(36)}function Vn(t,e,s,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case dn:case If:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+aa(l,0):r,sc(i)?(s="",t!=null&&(s=t.replace(rc,"$&/")+"/"),Vn(i,e,s,"",function(u){return u})):i!=null&&(Yl(i)&&(i=Hf(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(rc,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",sc(t))for(var o=0;o<t.length;o++){a=t[o];var c=r+aa(a,o);l+=Vn(a,e,s,c,i)}else if(c=Wf(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=r+aa(a,o++),l+=Vn(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Nn(t,e,s){if(t==null)return t;var r=[],i=0;return Vn(t,r,"","",function(a){return e.call(s,a,i++)}),r}function Kf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Kn={transition:null},qf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Kn,ReactCurrentOwner:Ql};function Ju(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Nn,forEach:function(t,e,s){Nn(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return Nn(t,function(){e++}),e},toArray:function(t){return Nn(t,function(e){return e})||[]},only:function(t){if(!Yl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=ur;V.Fragment=$f;V.Profiler=Lf;V.PureComponent=Gl;V.StrictMode=Rf;V.Suspense=zf;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qf;V.act=Ju;V.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wu({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=Ql.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Ku.call(e,c)&&!qu.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:dn,type:t.type,key:i,ref:a,props:r,_owner:l}};V.createContext=function(t){return t={$$typeof:Mf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Df,_context:t},t.Consumer=t};V.createElement=Gu;V.createFactory=function(t){var e=Gu.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Uf,render:t}};V.isValidElement=Yl;V.lazy=function(t){return{$$typeof:Bf,_payload:{_status:-1,_result:t},_init:Kf}};V.memo=function(t,e){return{$$typeof:Ff,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Kn.transition;Kn.transition={};try{t()}finally{Kn.transition=e}};V.unstable_act=Ju;V.useCallback=function(t,e){return Ce.current.useCallback(t,e)};V.useContext=function(t){return Ce.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};V.useEffect=function(t,e){return Ce.current.useEffect(t,e)};V.useId=function(){return Ce.current.useId()};V.useImperativeHandle=function(t,e,s){return Ce.current.useImperativeHandle(t,e,s)};V.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Ce.current.useMemo(t,e)};V.useReducer=function(t,e,s){return Ce.current.useReducer(t,e,s)};V.useRef=function(t){return Ce.current.useRef(t)};V.useState=function(t){return Ce.current.useState(t)};V.useSyncExternalStore=function(t,e,s){return Ce.current.useSyncExternalStore(t,e,s)};V.useTransition=function(){return Ce.current.useTransition()};V.version="18.3.1";Fu.exports=V;var N=Fu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=N,Jf=Symbol.for("react.element"),Qf=Symbol.for("react.fragment"),Yf=Object.prototype.hasOwnProperty,Xf=Gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zf={key:!0,ref:!0,__self:!0,__source:!0};function Qu(t,e,s){var r,i={},a=null,l=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Yf.call(e,r)&&!Zf.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Jf,type:t,key:a,ref:l,props:i,_owner:Xf.current}}Ii.Fragment=Qf;Ii.jsx=Qu;Ii.jsxs=Qu;zu.exports=Ii;var n=zu.exports,Yu={exports:{}},We={},Xu={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,z){var F=T.length;T.push(z);e:for(;0<F;){var O=F-1>>>1,M=T[O];if(0<i(M,z))T[O]=z,T[F]=M,F=O;else break e}}function s(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var z=T[0],F=T.pop();if(F!==z){T[0]=F;e:for(var O=0,M=T.length,W=M>>>1;O<W;){var te=2*(O+1)-1,yt=T[te],S=te+1,K=T[S];if(0>i(yt,F))S<M&&0>i(K,yt)?(T[O]=K,T[S]=F,O=S):(T[O]=yt,T[te]=F,O=te);else if(S<M&&0>i(K,F))T[O]=K,T[S]=F,O=S;else break e}}return z}function i(T,z){var F=T.sortIndex-z.sortIndex;return F!==0?F:T.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,f=3,w=!1,g=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var z=s(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=T)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=s(u)}}function y(T){if(v=!1,p(T),!g)if(s(c)!==null)g=!0,ke(j);else{var z=s(u);z!==null&&Me(y,z.startTime-T)}}function j(T,z){g=!1,v&&(v=!1,x(b),b=-1),w=!0;var F=f;try{for(p(z),h=s(c);h!==null&&(!(h.expirationTime>z)||T&&!G());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var M=O(h.expirationTime<=z);z=t.unstable_now(),typeof M=="function"?h.callback=M:h===s(c)&&r(c),p(z)}else r(c);h=s(c)}if(h!==null)var W=!0;else{var te=s(u);te!==null&&Me(y,te.startTime-z),W=!1}return W}finally{h=null,f=F,w=!1}}var _=!1,E=null,b=-1,$=5,R=-1;function G(){return!(t.unstable_now()-R<$)}function P(){if(E!==null){var T=t.unstable_now();R=T;var z=!0;try{z=E(!0,T)}finally{z?I():(_=!1,E=null)}}else _=!1}var I;if(typeof m=="function")I=function(){m(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Q=D.port2;D.port1.onmessage=P,I=function(){Q.postMessage(null)}}else I=function(){k(P,0)};function ke(T){E=T,_||(_=!0,I())}function Me(T,z){b=k(function(){T(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||w||(g=!0,ke(j))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var F=f;f=z;try{return T()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=f;f=T;try{return z()}finally{f=F}},t.unstable_scheduleCallback=function(T,z,F){var O=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,T){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,T={id:d++,callback:z,priorityLevel:T,startTime:F,expirationTime:M,sortIndex:-1},F>O?(T.sortIndex=F,e(u,T),s(c)===null&&T===s(u)&&(v?(x(b),b=-1):v=!0,Me(y,F-O))):(T.sortIndex=M,e(c,T),g||w||(g=!0,ke(j))),T},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(T){var z=f;return function(){var F=f;f=z;try{return T.apply(this,arguments)}finally{f=F}}}})(Zu);Xu.exports=Zu;var em=Xu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=N,Be=em;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ed=new Set,Vr={};function Ns(t,e){Zs(t,e),Zs(t+"Capture",e)}function Zs(t,e){for(Vr[t]=e,t=0;t<e.length;t++)ed.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},ic={};function rm(t){return Fa.call(ic,t)?!0:Fa.call(nc,t)?!1:sm.test(t)?ic[t]=!0:(nc[t]=!0,!1)}function nm(t,e,s,r){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function im(t,e,s,r){if(e===null||typeof e>"u"||nm(t,e,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,s,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xl=/[\-:]([a-z])/g;function Zl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xl,Zl);ve[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xl,Zl);ve[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xl,Zl);ve[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function eo(t,e,s,r){var i=ve.hasOwnProperty(e)?ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(im(e,s,i,r)&&(s=null),r||i===null?rm(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,r=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?t.setAttributeNS(r,e,s):t.setAttribute(e,s))))}var It=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kn=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),to=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),td=Symbol.for("react.provider"),sd=Symbol.for("react.context"),so=Symbol.for("react.forward_ref"),Wa=Symbol.for("react.suspense"),Ha=Symbol.for("react.suspense_list"),ro=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),rd=Symbol.for("react.offscreen"),ac=Symbol.iterator;function gr(t){return t===null||typeof t!="object"?null:(t=ac&&t[ac]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,la;function Cr(t){if(la===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);la=e&&e[1]||""}return`
`+la+t}var oa=!1;function ca(t,e){if(!t||oa)return"";oa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{oa=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Cr(t):""}function am(t){switch(t.tag){case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return t=ca(t.type,!1),t;case 11:return t=ca(t.type.render,!1),t;case 1:return t=ca(t.type,!0),t;default:return""}}function Va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ls:return"Fragment";case Rs:return"Portal";case Ba:return"Profiler";case to:return"StrictMode";case Wa:return"Suspense";case Ha:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sd:return(t.displayName||"Context")+".Consumer";case td:return(t._context.displayName||"Context")+".Provider";case so:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ro:return e=t.displayName||null,e!==null?e:Va(t.type)||"Memo";case Mt:e=t._payload,t=t._init;try{return Va(t(e))}catch{}}return null}function lm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Va(e);case 8:return e===to?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function om(t){var e=nd(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _n(t){t._valueTracker||(t._valueTracker=om(t))}function id(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=nd(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ka(t,e){var s=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function lc(t,e){var s=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;s=Zt(e.value!=null?e.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ad(t,e){e=e.checked,e!=null&&eo(t,"checked",e,!1)}function qa(t,e){ad(t,e);var s=Zt(e.value),r=e.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ga(t,e.type,s):e.hasOwnProperty("defaultValue")&&Ga(t,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oc(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Ga(t,e,s){(e!=="number"||ni(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Pr=Array.isArray;function qs(t,e,s,r){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&r&&(t[s].defaultSelected=!0)}else{for(s=""+Zt(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ja(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cc(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(C(92));if(Pr(s)){if(1<s.length)throw Error(C(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:Zt(s)}}function ld(t,e){var s=Zt(e.value),r=Zt(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function uc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function od(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?od(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sn,cd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sn=Sn||document.createElement("div"),Sn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kr(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cm=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(t){cm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ir[e]=Ir[t]})});function ud(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Ir.hasOwnProperty(t)&&Ir[t]?(""+e).trim():e+"px"}function dd(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=ud(s,e[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,i):t[s]=i}}var um=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(t,e){if(e){if(um[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Xa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Za=null;function no(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var el=null,Gs=null,Js=null;function dc(t){if(t=mn(t)){if(typeof el!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Mi(e),el(t.stateNode,t.type,e))}}function hd(t){Gs?Js?Js.push(t):Js=[t]:Gs=t}function fd(){if(Gs){var t=Gs,e=Js;if(Js=Gs=null,dc(t),e)for(t=0;t<e.length;t++)dc(e[t])}}function md(t,e){return t(e)}function pd(){}var ua=!1;function gd(t,e,s){if(ua)return t(e,s);ua=!0;try{return md(t,e,s)}finally{ua=!1,(Gs!==null||Js!==null)&&(pd(),fd())}}function qr(t,e){var s=t.stateNode;if(s===null)return null;var r=Mi(s);if(r===null)return null;s=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(C(231,e,typeof s));return s}var tl=!1;if(Pt)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){tl=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{tl=!1}function dm(t,e,s,r,i,a,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(s,u)}catch(d){this.onError(d)}}var $r=!1,ii=null,ai=!1,sl=null,hm={onError:function(t){$r=!0,ii=t}};function fm(t,e,s,r,i,a,l,o,c){$r=!1,ii=null,dm.apply(hm,arguments)}function mm(t,e,s,r,i,a,l,o,c){if(fm.apply(this,arguments),$r){if($r){var u=ii;$r=!1,ii=null}else throw Error(C(198));ai||(ai=!0,sl=u)}}function ks(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function xd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hc(t){if(ks(t)!==t)throw Error(C(188))}function pm(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(C(188));return e!==t?null:t}for(var s=t,r=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return hc(i),t;if(a===r)return hc(i),e;a=a.sibling}throw Error(C(188))}if(s.return!==r.return)s=i,r=a;else{for(var l=!1,o=i.child;o;){if(o===s){l=!0,s=i,r=a;break}if(o===r){l=!0,r=i,s=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===s){l=!0,s=a,r=i;break}if(o===r){l=!0,r=a,s=i;break}o=o.sibling}if(!l)throw Error(C(189))}}if(s.alternate!==r)throw Error(C(190))}if(s.tag!==3)throw Error(C(188));return s.stateNode.current===s?t:e}function yd(t){return t=pm(t),t!==null?vd(t):null}function vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vd(t);if(e!==null)return e;t=t.sibling}return null}var wd=Be.unstable_scheduleCallback,fc=Be.unstable_cancelCallback,gm=Be.unstable_shouldYield,xm=Be.unstable_requestPaint,le=Be.unstable_now,ym=Be.unstable_getCurrentPriorityLevel,io=Be.unstable_ImmediatePriority,bd=Be.unstable_UserBlockingPriority,li=Be.unstable_NormalPriority,vm=Be.unstable_LowPriority,jd=Be.unstable_IdlePriority,$i=null,gt=null;function wm(t){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Nm,bm=Math.log,jm=Math.LN2;function Nm(t){return t>>>=0,t===0?32:31-(bm(t)/jm|0)|0}var En=64,Cn=4194304;function Tr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oi(t,e){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=s&268435455;if(l!==0){var o=l&~i;o!==0?r=Tr(o):(a&=l,a!==0&&(r=Tr(a)))}else l=s&~i,l!==0?r=Tr(l):a!==0&&(r=Tr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)s=31-at(e),i=1<<s,r|=t[s],e&=~i;return r}function km(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-at(a),o=1<<l,c=i[l];c===-1?(!(o&s)||o&r)&&(i[l]=km(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function rl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nd(){var t=En;return En<<=1,!(En&4194240)&&(En=64),t}function da(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function hn(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-at(e),t[e]=s}function Sm(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-at(s),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,s&=~a}}function ao(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-at(s),i=1<<r;i&e|t[r]&e&&(t[r]|=e),s&=~i}}var J=0;function kd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _d,lo,Sd,Ed,Cd,nl=!1,Pn=[],Vt=null,Kt=null,qt=null,Gr=new Map,Jr=new Map,zt=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(t,e){switch(t){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Gr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(e.pointerId)}}function yr(t,e,s,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=mn(e),e!==null&&lo(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Cm(t,e,s,r,i){switch(e){case"focusin":return Vt=yr(Vt,t,e,s,r,i),!0;case"dragenter":return Kt=yr(Kt,t,e,s,r,i),!0;case"mouseover":return qt=yr(qt,t,e,s,r,i),!0;case"pointerover":var a=i.pointerId;return Gr.set(a,yr(Gr.get(a)||null,t,e,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Jr.set(a,yr(Jr.get(a)||null,t,e,s,r,i)),!0}return!1}function Pd(t){var e=hs(t.target);if(e!==null){var s=ks(e);if(s!==null){if(e=s.tag,e===13){if(e=xd(s),e!==null){t.blockedOn=e,Cd(t.priority,function(){Sd(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qn(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=il(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Za=r,s.target.dispatchEvent(r),Za=null}else return e=mn(s),e!==null&&lo(e),t.blockedOn=s,!1;e.shift()}return!0}function pc(t,e,s){qn(t)&&s.delete(e)}function Pm(){nl=!1,Vt!==null&&qn(Vt)&&(Vt=null),Kt!==null&&qn(Kt)&&(Kt=null),qt!==null&&qn(qt)&&(qt=null),Gr.forEach(pc),Jr.forEach(pc)}function vr(t,e){t.blockedOn===e&&(t.blockedOn=null,nl||(nl=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Pm)))}function Qr(t){function e(i){return vr(i,t)}if(0<Pn.length){vr(Pn[0],t);for(var s=1;s<Pn.length;s++){var r=Pn[s];r.blockedOn===t&&(r.blockedOn=null)}}for(Vt!==null&&vr(Vt,t),Kt!==null&&vr(Kt,t),qt!==null&&vr(qt,t),Gr.forEach(e),Jr.forEach(e),s=0;s<zt.length;s++)r=zt[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<zt.length&&(s=zt[0],s.blockedOn===null);)Pd(s),s.blockedOn===null&&zt.shift()}var Qs=It.ReactCurrentBatchConfig,ci=!0;function Tm(t,e,s,r){var i=J,a=Qs.transition;Qs.transition=null;try{J=1,oo(t,e,s,r)}finally{J=i,Qs.transition=a}}function Am(t,e,s,r){var i=J,a=Qs.transition;Qs.transition=null;try{J=4,oo(t,e,s,r)}finally{J=i,Qs.transition=a}}function oo(t,e,s,r){if(ci){var i=il(t,e,s,r);if(i===null)ba(t,e,r,ui,s),mc(t,r);else if(Cm(i,t,e,s,r))r.stopPropagation();else if(mc(t,r),e&4&&-1<Em.indexOf(t)){for(;i!==null;){var a=mn(i);if(a!==null&&_d(a),a=il(t,e,s,r),a===null&&ba(t,e,r,ui,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else ba(t,e,r,null,s)}}var ui=null;function il(t,e,s,r){if(ui=null,t=no(r),t=hs(t),t!==null)if(e=ks(t),e===null)t=null;else if(s=e.tag,s===13){if(t=xd(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ui=t,null}function Td(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ym()){case io:return 1;case bd:return 4;case li:case vm:return 16;case jd:return 536870912;default:return 16}default:return 16}}var Wt=null,co=null,Gn=null;function Ad(){if(Gn)return Gn;var t,e=co,s=e.length,r,i="value"in Wt?Wt.value:Wt.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var l=s-t;for(r=1;r<=l&&e[s-r]===i[a-r];r++);return Gn=i.slice(t,1<r?1-r:void 0)}function Jn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tn(){return!0}function gc(){return!1}function He(t){function e(s,r,i,a,l){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(s=t[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tn:gc,this.isPropagationStopped=gc,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),e}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=He(dr),fn=ie({},dr,{view:0,detail:0}),Om=He(fn),ha,fa,wr,Ri=ie({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(ha=t.screenX-wr.screenX,fa=t.screenY-wr.screenY):fa=ha=0,wr=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),xc=He(Ri),Im=ie({},Ri,{dataTransfer:0}),$m=He(Im),Rm=ie({},fn,{relatedTarget:0}),ma=He(Rm),Lm=ie({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=He(Lm),Mm=ie({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Um=He(Mm),zm=ie({},dr,{data:0}),yc=He(zm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wm[t])?!!e[t]:!1}function ho(){return Hm}var Vm=ie({},fn,{key:function(t){if(t.key){var e=Fm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Km=He(Vm),qm=ie({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=He(qm),Gm=ie({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),Jm=He(Gm),Qm=ie({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=He(Qm),Xm=ie({},Ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zm=He(Xm),ep=[9,13,27,32],fo=Pt&&"CompositionEvent"in window,Rr=null;Pt&&"documentMode"in document&&(Rr=document.documentMode);var tp=Pt&&"TextEvent"in window&&!Rr,Od=Pt&&(!fo||Rr&&8<Rr&&11>=Rr),wc=" ",bc=!1;function Id(t,e){switch(t){case"keyup":return ep.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function sp(t,e){switch(t){case"compositionend":return $d(e);case"keypress":return e.which!==32?null:(bc=!0,wc);case"textInput":return t=e.data,t===wc&&bc?null:t;default:return null}}function rp(t,e){if(Ds)return t==="compositionend"||!fo&&Id(t,e)?(t=Ad(),Gn=co=Wt=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Od&&e.locale!=="ko"?null:e.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!np[t.type]:e==="textarea"}function Rd(t,e,s,r){hd(r),e=di(e,"onChange"),0<e.length&&(s=new uo("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var Lr=null,Yr=null;function ip(t){Kd(t,0)}function Li(t){var e=zs(t);if(id(e))return t}function ap(t,e){if(t==="change")return e}var Ld=!1;if(Pt){var pa;if(Pt){var ga="oninput"in document;if(!ga){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),ga=typeof Nc.oninput=="function"}pa=ga}else pa=!1;Ld=pa&&(!document.documentMode||9<document.documentMode)}function kc(){Lr&&(Lr.detachEvent("onpropertychange",Dd),Yr=Lr=null)}function Dd(t){if(t.propertyName==="value"&&Li(Yr)){var e=[];Rd(e,Yr,t,no(t)),gd(ip,e)}}function lp(t,e,s){t==="focusin"?(kc(),Lr=e,Yr=s,Lr.attachEvent("onpropertychange",Dd)):t==="focusout"&&kc()}function op(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Li(Yr)}function cp(t,e){if(t==="click")return Li(e)}function up(t,e){if(t==="input"||t==="change")return Li(e)}function dp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:dp;function Xr(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!Fa.call(e,i)||!ot(t[i],e[i]))return!1}return!0}function _c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sc(t,e){var s=_c(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_c(s)}}function Md(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Md(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ud(){for(var t=window,e=ni();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=ni(t.document)}return e}function mo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hp(t){var e=Ud(),s=t.focusedElem,r=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&Md(s.ownerDocument.documentElement,s)){if(r!==null&&mo(s)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Sc(s,a);var l=Sc(s,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fp=Pt&&"documentMode"in document&&11>=document.documentMode,Ms=null,al=null,Dr=null,ll=!1;function Ec(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ll||Ms==null||Ms!==ni(r)||(r=Ms,"selectionStart"in r&&mo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dr&&Xr(Dr,r)||(Dr=r,r=di(al,"onSelect"),0<r.length&&(e=new uo("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=Ms)))}function An(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Us={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionend:An("Transition","TransitionEnd")},xa={},zd={};Pt&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Di(t){if(xa[t])return xa[t];if(!Us[t])return t;var e=Us[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in zd)return xa[t]=e[s];return t}var Fd=Di("animationend"),Bd=Di("animationiteration"),Wd=Di("animationstart"),Hd=Di("transitionend"),Vd=new Map,Cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){Vd.set(t,e),Ns(e,[t])}for(var ya=0;ya<Cc.length;ya++){var va=Cc[ya],mp=va.toLowerCase(),pp=va[0].toUpperCase()+va.slice(1);ts(mp,"on"+pp)}ts(Fd,"onAnimationEnd");ts(Bd,"onAnimationIteration");ts(Wd,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(Hd,"onTransitionEnd");Zs("onMouseEnter",["mouseout","mouseover"]);Zs("onMouseLeave",["mouseout","mouseover"]);Zs("onPointerEnter",["pointerout","pointerover"]);Zs("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Pc(t,e,s){var r=t.type||"unknown-event";t.currentTarget=s,mm(r,e,void 0,t),t.currentTarget=null}function Kd(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Pc(i,o,u),a=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Pc(i,o,u),a=c}}}if(ai)throw t=sl,ai=!1,sl=null,t}function Z(t,e){var s=e[hl];s===void 0&&(s=e[hl]=new Set);var r=t+"__bubble";s.has(r)||(qd(e,t,2,!1),s.add(r))}function wa(t,e,s){var r=0;e&&(r|=4),qd(s,t,r,e)}var On="_reactListening"+Math.random().toString(36).slice(2);function Zr(t){if(!t[On]){t[On]=!0,ed.forEach(function(s){s!=="selectionchange"&&(gp.has(s)||wa(s,!1,t),wa(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[On]||(e[On]=!0,wa("selectionchange",!1,e))}}function qd(t,e,s,r){switch(Td(e)){case 1:var i=Tm;break;case 4:i=Am;break;default:i=oo}s=i.bind(null,e,s,t),i=void 0,!tl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function ba(t,e,s,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=hs(o),l===null)return;if(c=l.tag,c===5||c===6){r=a=l;continue e}o=o.parentNode}}r=r.return}gd(function(){var u=a,d=no(s),h=[];e:{var f=Vd.get(t);if(f!==void 0){var w=uo,g=t;switch(t){case"keypress":if(Jn(s)===0)break e;case"keydown":case"keyup":w=Km;break;case"focusin":g="focus",w=ma;break;case"focusout":g="blur",w=ma;break;case"beforeblur":case"afterblur":w=ma;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Jm;break;case Fd:case Bd:case Wd:w=Dm;break;case Hd:w=Ym;break;case"scroll":w=Om;break;case"wheel":w=Zm;break;case"copy":case"cut":case"paste":w=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=vc}var v=(e&4)!==0,k=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,p;m!==null;){p=m;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,x!==null&&(y=qr(m,x),y!=null&&v.push(en(m,y,p)))),k)break;m=m.return}0<v.length&&(f=new w(f,g,null,s,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&s!==Za&&(g=s.relatedTarget||s.fromElement)&&(hs(g)||g[Tt]))break e;if((w||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,w?(g=s.relatedTarget||s.toElement,w=u,g=g?hs(g):null,g!==null&&(k=ks(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=u),w!==g)){if(v=xc,y="onMouseLeave",x="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=vc,y="onPointerLeave",x="onPointerEnter",m="pointer"),k=w==null?f:zs(w),p=g==null?f:zs(g),f=new v(y,m+"leave",w,s,d),f.target=k,f.relatedTarget=p,y=null,hs(d)===u&&(v=new v(x,m+"enter",g,s,d),v.target=p,v.relatedTarget=k,y=v),k=y,w&&g)t:{for(v=w,x=g,m=0,p=v;p;p=Es(p))m++;for(p=0,y=x;y;y=Es(y))p++;for(;0<m-p;)v=Es(v),m--;for(;0<p-m;)x=Es(x),p--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=Es(v),x=Es(x)}v=null}else v=null;w!==null&&Tc(h,f,w,v,!1),g!==null&&k!==null&&Tc(h,k,g,v,!0)}}e:{if(f=u?zs(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var j=ap;else if(jc(f))if(Ld)j=up;else{j=op;var _=lp}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=cp);if(j&&(j=j(t,u))){Rd(h,j,s,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Ga(f,"number",f.value)}switch(_=u?zs(u):window,t){case"focusin":(jc(_)||_.contentEditable==="true")&&(Ms=_,al=u,Dr=null);break;case"focusout":Dr=al=Ms=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,Ec(h,s,d);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":Ec(h,s,d)}var E;if(fo)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ds?Id(t,s)&&(b="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(b="onCompositionStart");b&&(Od&&s.locale!=="ko"&&(Ds||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ds&&(E=Ad()):(Wt=d,co="value"in Wt?Wt.value:Wt.textContent,Ds=!0)),_=di(u,b),0<_.length&&(b=new yc(b,t,null,s,d),h.push({event:b,listeners:_}),E?b.data=E:(E=$d(s),E!==null&&(b.data=E)))),(E=tp?sp(t,s):rp(t,s))&&(u=di(u,"onBeforeInput"),0<u.length&&(d=new yc("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:u}),d.data=E))}Kd(h,e)})}function en(t,e,s){return{instance:t,listener:e,currentTarget:s}}function di(t,e){for(var s=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qr(t,s),a!=null&&r.unshift(en(t,a,i)),a=qr(t,e),a!=null&&r.push(en(t,a,i))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tc(t,e,s,r,i){for(var a=e._reactName,l=[];s!==null&&s!==r;){var o=s,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=qr(s,a),c!=null&&l.unshift(en(s,c,o))):i||(c=qr(s,a),c!=null&&l.push(en(s,c,o)))),s=s.return}l.length!==0&&t.push({event:e,listeners:l})}var xp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function Ac(t){return(typeof t=="string"?t:""+t).replace(xp,`
`).replace(yp,"")}function In(t,e,s){if(e=Ac(e),Ac(t)!==e&&s)throw Error(C(425))}function hi(){}var ol=null,cl=null;function ul(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,vp=typeof clearTimeout=="function"?clearTimeout:void 0,Oc=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Oc<"u"?function(t){return Oc.resolve(null).then(t).catch(bp)}:dl;function bp(t){setTimeout(function(){throw t})}function ja(t,e){var s=e,r=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){t.removeChild(i),Qr(e);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);Qr(e)}function Gt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ic(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),pt="__reactFiber$"+hr,tn="__reactProps$"+hr,Tt="__reactContainer$"+hr,hl="__reactEvents$"+hr,jp="__reactListeners$"+hr,Np="__reactHandles$"+hr;function hs(t){var e=t[pt];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Tt]||s[pt]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Ic(t);t!==null;){if(s=t[pt])return s;t=Ic(t)}return e}t=s,s=t.parentNode}return null}function mn(t){return t=t[pt]||t[Tt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Mi(t){return t[tn]||null}var fl=[],Fs=-1;function ss(t){return{current:t}}function ee(t){0>Fs||(t.current=fl[Fs],fl[Fs]=null,Fs--)}function X(t,e){Fs++,fl[Fs]=t.current,t.current=e}var es={},Ne=ss(es),Re=ss(!1),xs=es;function er(t,e){var s=t.type.contextTypes;if(!s)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Le(t){return t=t.childContextTypes,t!=null}function fi(){ee(Re),ee(Ne)}function $c(t,e,s){if(Ne.current!==es)throw Error(C(168));X(Ne,e),X(Re,s)}function Gd(t,e,s){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,lm(t)||"Unknown",i));return ie({},s,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,xs=Ne.current,X(Ne,t),X(Re,Re.current),!0}function Rc(t,e,s){var r=t.stateNode;if(!r)throw Error(C(169));s?(t=Gd(t,e,xs),r.__reactInternalMemoizedMergedChildContext=t,ee(Re),ee(Ne),X(Ne,t)):ee(Re),X(Re,s)}var kt=null,Ui=!1,Na=!1;function Jd(t){kt===null?kt=[t]:kt.push(t)}function kp(t){Ui=!0,Jd(t)}function rs(){if(!Na&&kt!==null){Na=!0;var t=0,e=J;try{var s=kt;for(J=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}kt=null,Ui=!1}catch(i){throw kt!==null&&(kt=kt.slice(t+1)),wd(io,rs),i}finally{J=e,Na=!1}}return null}var Bs=[],Ws=0,pi=null,gi=0,Ke=[],qe=0,ys=null,St=1,Et="";function os(t,e){Bs[Ws++]=gi,Bs[Ws++]=pi,pi=t,gi=e}function Qd(t,e,s){Ke[qe++]=St,Ke[qe++]=Et,Ke[qe++]=ys,ys=t;var r=St;t=Et;var i=32-at(r)-1;r&=~(1<<i),s+=1;var a=32-at(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,St=1<<32-at(e)+i|s<<i|r,Et=a+t}else St=1<<a|s<<i|r,Et=t}function po(t){t.return!==null&&(os(t,1),Qd(t,1,0))}function go(t){for(;t===pi;)pi=Bs[--Ws],Bs[Ws]=null,gi=Bs[--Ws],Bs[Ws]=null;for(;t===ys;)ys=Ke[--qe],Ke[qe]=null,Et=Ke[--qe],Ke[qe]=null,St=Ke[--qe],Ke[qe]=null}var Fe=null,ze=null,se=!1,nt=null;function Yd(t,e){var s=Ge(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Lc(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,ze=Gt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=ys!==null?{id:St,overflow:Et}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Ge(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Fe=t,ze=null,!0):!1;default:return!1}}function ml(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pl(t){if(se){var e=ze;if(e){var s=e;if(!Lc(t,e)){if(ml(t))throw Error(C(418));e=Gt(s.nextSibling);var r=Fe;e&&Lc(t,e)?Yd(r,s):(t.flags=t.flags&-4097|2,se=!1,Fe=t)}}else{if(ml(t))throw Error(C(418));t.flags=t.flags&-4097|2,se=!1,Fe=t}}}function Dc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function $n(t){if(t!==Fe)return!1;if(!se)return Dc(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ul(t.type,t.memoizedProps)),e&&(e=ze)){if(ml(t))throw Xd(),Error(C(418));for(;e;)Yd(t,e),e=Gt(e.nextSibling)}if(Dc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){ze=Gt(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Fe?Gt(t.stateNode.nextSibling):null;return!0}function Xd(){for(var t=ze;t;)t=Gt(t.nextSibling)}function tr(){ze=Fe=null,se=!1}function xo(t){nt===null?nt=[t]:nt.push(t)}var _p=It.ReactCurrentBatchConfig;function br(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(C(309));var r=s.stateNode}if(!r)throw Error(C(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(C(284));if(!s._owner)throw Error(C(290,t))}return t}function Rn(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mc(t){var e=t._init;return e(t._payload)}function Zd(t){function e(x,m){if(t){var p=x.deletions;p===null?(x.deletions=[m],x.flags|=16):p.push(m)}}function s(x,m){if(!t)return null;for(;m!==null;)e(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function i(x,m){return x=Xt(x,m),x.index=0,x.sibling=null,x}function a(x,m,p){return x.index=p,t?(p=x.alternate,p!==null?(p=p.index,p<m?(x.flags|=2,m):p):(x.flags|=2,m)):(x.flags|=1048576,m)}function l(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,m,p,y){return m===null||m.tag!==6?(m=Ta(p,x.mode,y),m.return=x,m):(m=i(m,p),m.return=x,m)}function c(x,m,p,y){var j=p.type;return j===Ls?d(x,m,p.props.children,y,p.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mt&&Mc(j)===m.type)?(y=i(m,p.props),y.ref=br(x,m,p),y.return=x,y):(y=si(p.type,p.key,p.props,null,x.mode,y),y.ref=br(x,m,p),y.return=x,y)}function u(x,m,p,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Aa(p,x.mode,y),m.return=x,m):(m=i(m,p.children||[]),m.return=x,m)}function d(x,m,p,y,j){return m===null||m.tag!==7?(m=gs(p,x.mode,y,j),m.return=x,m):(m=i(m,p),m.return=x,m)}function h(x,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ta(""+m,x.mode,p),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case kn:return p=si(m.type,m.key,m.props,null,x.mode,p),p.ref=br(x,null,m),p.return=x,p;case Rs:return m=Aa(m,x.mode,p),m.return=x,m;case Mt:var y=m._init;return h(x,y(m._payload),p)}if(Pr(m)||gr(m))return m=gs(m,x.mode,p,null),m.return=x,m;Rn(x,m)}return null}function f(x,m,p,y){var j=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:o(x,m,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case kn:return p.key===j?c(x,m,p,y):null;case Rs:return p.key===j?u(x,m,p,y):null;case Mt:return j=p._init,f(x,m,j(p._payload),y)}if(Pr(p)||gr(p))return j!==null?null:d(x,m,p,y,null);Rn(x,p)}return null}function w(x,m,p,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return x=x.get(p)||null,o(m,x,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kn:return x=x.get(y.key===null?p:y.key)||null,c(m,x,y,j);case Rs:return x=x.get(y.key===null?p:y.key)||null,u(m,x,y,j);case Mt:var _=y._init;return w(x,m,p,_(y._payload),j)}if(Pr(y)||gr(y))return x=x.get(p)||null,d(m,x,y,j,null);Rn(m,y)}return null}function g(x,m,p,y){for(var j=null,_=null,E=m,b=m=0,$=null;E!==null&&b<p.length;b++){E.index>b?($=E,E=null):$=E.sibling;var R=f(x,E,p[b],y);if(R===null){E===null&&(E=$);break}t&&E&&R.alternate===null&&e(x,E),m=a(R,m,b),_===null?j=R:_.sibling=R,_=R,E=$}if(b===p.length)return s(x,E),se&&os(x,b),j;if(E===null){for(;b<p.length;b++)E=h(x,p[b],y),E!==null&&(m=a(E,m,b),_===null?j=E:_.sibling=E,_=E);return se&&os(x,b),j}for(E=r(x,E);b<p.length;b++)$=w(E,x,b,p[b],y),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?b:$.key),m=a($,m,b),_===null?j=$:_.sibling=$,_=$);return t&&E.forEach(function(G){return e(x,G)}),se&&os(x,b),j}function v(x,m,p,y){var j=gr(p);if(typeof j!="function")throw Error(C(150));if(p=j.call(p),p==null)throw Error(C(151));for(var _=j=null,E=m,b=m=0,$=null,R=p.next();E!==null&&!R.done;b++,R=p.next()){E.index>b?($=E,E=null):$=E.sibling;var G=f(x,E,R.value,y);if(G===null){E===null&&(E=$);break}t&&E&&G.alternate===null&&e(x,E),m=a(G,m,b),_===null?j=G:_.sibling=G,_=G,E=$}if(R.done)return s(x,E),se&&os(x,b),j;if(E===null){for(;!R.done;b++,R=p.next())R=h(x,R.value,y),R!==null&&(m=a(R,m,b),_===null?j=R:_.sibling=R,_=R);return se&&os(x,b),j}for(E=r(x,E);!R.done;b++,R=p.next())R=w(E,x,b,R.value,y),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?b:R.key),m=a(R,m,b),_===null?j=R:_.sibling=R,_=R);return t&&E.forEach(function(P){return e(x,P)}),se&&os(x,b),j}function k(x,m,p,y){if(typeof p=="object"&&p!==null&&p.type===Ls&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case kn:e:{for(var j=p.key,_=m;_!==null;){if(_.key===j){if(j=p.type,j===Ls){if(_.tag===7){s(x,_.sibling),m=i(_,p.props.children),m.return=x,x=m;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mt&&Mc(j)===_.type){s(x,_.sibling),m=i(_,p.props),m.ref=br(x,_,p),m.return=x,x=m;break e}s(x,_);break}else e(x,_);_=_.sibling}p.type===Ls?(m=gs(p.props.children,x.mode,y,p.key),m.return=x,x=m):(y=si(p.type,p.key,p.props,null,x.mode,y),y.ref=br(x,m,p),y.return=x,x=y)}return l(x);case Rs:e:{for(_=p.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){s(x,m.sibling),m=i(m,p.children||[]),m.return=x,x=m;break e}else{s(x,m);break}else e(x,m);m=m.sibling}m=Aa(p,x.mode,y),m.return=x,x=m}return l(x);case Mt:return _=p._init,k(x,m,_(p._payload),y)}if(Pr(p))return g(x,m,p,y);if(gr(p))return v(x,m,p,y);Rn(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(s(x,m.sibling),m=i(m,p),m.return=x,x=m):(s(x,m),m=Ta(p,x.mode,y),m.return=x,x=m),l(x)):s(x,m)}return k}var sr=Zd(!0),eh=Zd(!1),xi=ss(null),yi=null,Hs=null,yo=null;function vo(){yo=Hs=yi=null}function wo(t){var e=xi.current;ee(xi),t._currentValue=e}function gl(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function Ys(t,e){yi=t,yo=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function Xe(t){var e=t._currentValue;if(yo!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(yi===null)throw Error(C(308));Hs=t,yi.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var fs=null;function bo(t){fs===null?fs=[t]:fs.push(t)}function th(t,e,s,r){var i=e.interleaved;return i===null?(s.next=s,bo(e)):(s.next=i.next,i.next=s),e.interleaved=s,At(t,r)}function At(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ut=!1;function jo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ct(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,At(t,s)}return i=r.interleaved,i===null?(e.next=e,bo(r)):(e.next=i.next,i.next=e),r.interleaved=e,At(t,s)}function Qn(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,ao(t,s)}}function Uc(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=l:a=a.next=l,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function vi(t,e,s,r){var i=t.updateQueue;Ut=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,d=u=c=null,o=a;do{var f=o.lane,w=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(f=e,w=s,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(w,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(w,h,f):g,f==null)break e;h=ie({},h,f);break e;case 2:Ut=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else w={eventTime:w,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=w,c=h):d=d.next=w,l|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ws|=l,t.lanes=l,t.memoizedState=h}}function zc(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var pn={},xt=ss(pn),sn=ss(pn),rn=ss(pn);function ms(t){if(t===pn)throw Error(C(174));return t}function No(t,e){switch(X(rn,e),X(sn,t),X(xt,pn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qa(e,t)}ee(xt),X(xt,e)}function rr(){ee(xt),ee(sn),ee(rn)}function rh(t){ms(rn.current);var e=ms(xt.current),s=Qa(e,t.type);e!==s&&(X(sn,t),X(xt,s))}function ko(t){sn.current===t&&(ee(xt),ee(sn))}var re=ss(0);function wi(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ka=[];function _o(){for(var t=0;t<ka.length;t++)ka[t]._workInProgressVersionPrimary=null;ka.length=0}var Yn=It.ReactCurrentDispatcher,_a=It.ReactCurrentBatchConfig,vs=0,ne=null,he=null,me=null,bi=!1,Mr=!1,nn=0,Sp=0;function we(){throw Error(C(321))}function So(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!ot(t[s],e[s]))return!1;return!0}function Eo(t,e,s,r,i,a){if(vs=a,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yn.current=t===null||t.memoizedState===null?Tp:Ap,t=s(r,i),Mr){a=0;do{if(Mr=!1,nn=0,25<=a)throw Error(C(301));a+=1,me=he=null,e.updateQueue=null,Yn.current=Op,t=s(r,i)}while(Mr)}if(Yn.current=ji,e=he!==null&&he.next!==null,vs=0,me=he=ne=null,bi=!1,e)throw Error(C(300));return t}function Co(){var t=nn!==0;return nn=0,t}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=t:me=me.next=t,me}function Ze(){if(he===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=me===null?ne.memoizedState:me.next;if(e!==null)me=e,he=t;else{if(t===null)throw Error(C(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},me===null?ne.memoizedState=me=t:me=me.next=t}return me}function an(t,e){return typeof e=="function"?e(t):e}function Sa(t){var e=Ze(),s=e.queue;if(s===null)throw Error(C(311));s.lastRenderedReducer=t;var r=he,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=l=null,c=null,u=a;do{var d=u.lane;if((vs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=r):c=c.next=h,ne.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==a);c===null?l=r:c.next=o,ot(r,e.memoizedState)||($e=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,s.lastRenderedState=r}if(t=s.interleaved,t!==null){i=t;do a=i.lane,ne.lanes|=a,ws|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Ea(t){var e=Ze(),s=e.queue;if(s===null)throw Error(C(311));s.lastRenderedReducer=t;var r=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);ot(a,e.memoizedState)||($e=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,r]}function nh(){}function ih(t,e){var s=ne,r=Ze(),i=e(),a=!ot(r.memoizedState,i);if(a&&(r.memoizedState=i,$e=!0),r=r.queue,Po(oh.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||me!==null&&me.memoizedState.tag&1){if(s.flags|=2048,ln(9,lh.bind(null,s,r,i,e),void 0,null),pe===null)throw Error(C(349));vs&30||ah(s,e,i)}return i}function ah(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function lh(t,e,s,r){e.value=s,e.getSnapshot=r,ch(e)&&uh(t)}function oh(t,e,s){return s(function(){ch(e)&&uh(t)})}function ch(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!ot(t,s)}catch{return!0}}function uh(t){var e=At(t,1);e!==null&&lt(e,t,1,-1)}function Fc(t){var e=ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:t},e.queue=t,t=t.dispatch=Pp.bind(null,ne,t),[e.memoizedState,t]}function ln(t,e,s,r){return t={tag:t,create:e,destroy:s,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t)),t}function dh(){return Ze().memoizedState}function Xn(t,e,s,r){var i=ft();ne.flags|=t,i.memoizedState=ln(1|e,s,void 0,r===void 0?null:r)}function zi(t,e,s,r){var i=Ze();r=r===void 0?null:r;var a=void 0;if(he!==null){var l=he.memoizedState;if(a=l.destroy,r!==null&&So(r,l.deps)){i.memoizedState=ln(e,s,a,r);return}}ne.flags|=t,i.memoizedState=ln(1|e,s,a,r)}function Bc(t,e){return Xn(8390656,8,t,e)}function Po(t,e){return zi(2048,8,t,e)}function hh(t,e){return zi(4,2,t,e)}function fh(t,e){return zi(4,4,t,e)}function mh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ph(t,e,s){return s=s!=null?s.concat([t]):null,zi(4,4,mh.bind(null,e,t),s)}function To(){}function gh(t,e){var s=Ze();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&So(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function xh(t,e){var s=Ze();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&So(e,r[1])?r[0]:(t=t(),s.memoizedState=[t,e],t)}function yh(t,e,s){return vs&21?(ot(s,e)||(s=Nd(),ne.lanes|=s,ws|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=s)}function Ep(t,e){var s=J;J=s!==0&&4>s?s:4,t(!0);var r=_a.transition;_a.transition={};try{t(!1),e()}finally{J=s,_a.transition=r}}function vh(){return Ze().memoizedState}function Cp(t,e,s){var r=Yt(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},wh(t))bh(e,s);else if(s=th(t,e,s,r),s!==null){var i=Ee();lt(s,t,r,i),jh(s,e,r)}}function Pp(t,e,s){var r=Yt(t),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(wh(t))bh(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,s);if(i.hasEagerState=!0,i.eagerState=o,ot(o,l)){var c=e.interleaved;c===null?(i.next=i,bo(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=th(t,e,i,r),s!==null&&(i=Ee(),lt(s,t,r,i),jh(s,e,r))}}function wh(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function bh(t,e){Mr=bi=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function jh(t,e,s){if(s&4194240){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,ao(t,s)}}var ji={readContext:Xe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Tp={readContext:Xe,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:Xe,useEffect:Bc,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,Xn(4194308,4,mh.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Xn(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xn(4,2,t,e)},useMemo:function(t,e){var s=ft();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var r=ft();return e=s!==void 0?s(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cp.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:Fc,useDebugValue:To,useDeferredValue:function(t){return ft().memoizedState=t},useTransition:function(){var t=Fc(!1),e=t[0];return t=Ep.bind(null,t[1]),ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var r=ne,i=ft();if(se){if(s===void 0)throw Error(C(407));s=s()}else{if(s=e(),pe===null)throw Error(C(349));vs&30||ah(r,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,Bc(oh.bind(null,r,a,t),[t]),r.flags|=2048,ln(9,lh.bind(null,r,a,s,e),void 0,null),s},useId:function(){var t=ft(),e=pe.identifierPrefix;if(se){var s=Et,r=St;s=(r&~(1<<32-at(r)-1)).toString(32)+s,e=":"+e+"R"+s,s=nn++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Sp++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ap={readContext:Xe,useCallback:gh,useContext:Xe,useEffect:Po,useImperativeHandle:ph,useInsertionEffect:hh,useLayoutEffect:fh,useMemo:xh,useReducer:Sa,useRef:dh,useState:function(){return Sa(an)},useDebugValue:To,useDeferredValue:function(t){var e=Ze();return yh(e,he.memoizedState,t)},useTransition:function(){var t=Sa(an)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:nh,useSyncExternalStore:ih,useId:vh,unstable_isNewReconciler:!1},Op={readContext:Xe,useCallback:gh,useContext:Xe,useEffect:Po,useImperativeHandle:ph,useInsertionEffect:hh,useLayoutEffect:fh,useMemo:xh,useReducer:Ea,useRef:dh,useState:function(){return Ea(an)},useDebugValue:To,useDeferredValue:function(t){var e=Ze();return he===null?e.memoizedState=t:yh(e,he.memoizedState,t)},useTransition:function(){var t=Ea(an)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:nh,useSyncExternalStore:ih,useId:vh,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function xl(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:ie({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Fi={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var r=Ee(),i=Yt(t),a=Ct(r,i);a.payload=e,s!=null&&(a.callback=s),e=Jt(t,a,i),e!==null&&(lt(e,t,i,r),Qn(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=Ee(),i=Yt(t),a=Ct(r,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Jt(t,a,i),e!==null&&(lt(e,t,i,r),Qn(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Ee(),r=Yt(t),i=Ct(s,r);i.tag=2,e!=null&&(i.callback=e),e=Jt(t,i,r),e!==null&&(lt(e,t,r,s),Qn(e,t,r))}};function Wc(t,e,s,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!Xr(s,r)||!Xr(i,a):!0}function Nh(t,e,s){var r=!1,i=es,a=e.contextType;return typeof a=="object"&&a!==null?a=Xe(a):(i=Le(e)?xs:Ne.current,r=e.contextTypes,a=(r=r!=null)?er(t,i):es),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Hc(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&Fi.enqueueReplaceState(e,e.state,null)}function yl(t,e,s,r){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},jo(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xe(a):(a=Le(e)?xs:Ne.current,i.context=er(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(xl(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fi.enqueueReplaceState(i,i.state,null),vi(t,s,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nr(t,e){try{var s="",r=e;do s+=am(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ca(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function vl(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function kh(t,e,s){s=Ct(-1,s),s.tag=3,s.payload={element:null};var r=e.value;return s.callback=function(){ki||(ki=!0,Pl=r),vl(t,e)},s}function _h(t,e,s){s=Ct(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;s.payload=function(){return r(i)},s.callback=function(){vl(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){vl(t,e),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),s}function Vc(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new Ip;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(s)||(i.add(s),t=qp.bind(null,t,e,s),e.then(t,t))}function Kc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qc(t,e,s,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Ct(-1,1),e.tag=2,Jt(s,e,1))),s.lanes|=1),t)}var $p=It.ReactCurrentOwner,$e=!1;function Se(t,e,s,r){e.child=t===null?eh(e,null,s,r):sr(e,t.child,s,r)}function Gc(t,e,s,r,i){s=s.render;var a=e.ref;return Ys(e,i),r=Eo(t,e,s,r,a,i),s=Co(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ot(t,e,i)):(se&&s&&po(e),e.flags|=1,Se(t,e,r,i),e.child)}function Jc(t,e,s,r,i){if(t===null){var a=s.type;return typeof a=="function"&&!Mo(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,Sh(t,e,a,r,i)):(t=si(s.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var l=a.memoizedProps;if(s=s.compare,s=s!==null?s:Xr,s(l,r)&&t.ref===e.ref)return Ot(t,e,i)}return e.flags|=1,t=Xt(a,r),t.ref=e.ref,t.return=e,e.child=t}function Sh(t,e,s,r,i){if(t!==null){var a=t.memoizedProps;if(Xr(a,r)&&t.ref===e.ref)if($e=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Ot(t,e,i)}return wl(t,e,s,r,i)}function Eh(t,e,s){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Ks,Ue),Ue|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Ks,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,X(Ks,Ue),Ue|=r}else a!==null?(r=a.baseLanes|s,e.memoizedState=null):r=s,X(Ks,Ue),Ue|=r;return Se(t,e,i,s),e.child}function Ch(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function wl(t,e,s,r,i){var a=Le(s)?xs:Ne.current;return a=er(e,a),Ys(e,i),s=Eo(t,e,s,r,a,i),r=Co(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ot(t,e,i)):(se&&r&&po(e),e.flags|=1,Se(t,e,s,i),e.child)}function Qc(t,e,s,r,i){if(Le(s)){var a=!0;mi(e)}else a=!1;if(Ys(e,i),e.stateNode===null)Zn(t,e),Nh(e,s,r),yl(e,s,r,i),r=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,u=s.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=Le(s)?xs:Ne.current,u=er(e,u));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Hc(e,l,r,u),Ut=!1;var f=e.memoizedState;l.state=f,vi(e,r,l,i),c=e.memoizedState,o!==r||f!==c||Re.current||Ut?(typeof d=="function"&&(xl(e,s,d,r),c=e.memoizedState),(o=Ut||Wc(e,s,o,r,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,sh(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:tt(e.type,o),l.props=u,h=e.pendingProps,f=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=Le(s)?xs:Ne.current,c=er(e,c));var w=s.getDerivedStateFromProps;(d=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Hc(e,l,r,c),Ut=!1,f=e.memoizedState,l.state=f,vi(e,r,l,i);var g=e.memoizedState;o!==h||f!==g||Re.current||Ut?(typeof w=="function"&&(xl(e,s,w,r),g=e.memoizedState),(u=Ut||Wc(e,s,u,r,f,g,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,g,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),l.props=r,l.state=g,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bl(t,e,s,r,a,i)}function bl(t,e,s,r,i,a){Ch(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Rc(e,s,!1),Ot(t,e,a);r=e.stateNode,$p.current=e;var o=l&&typeof s.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=sr(e,t.child,null,a),e.child=sr(e,null,o,a)):Se(t,e,o,a),e.memoizedState=r.state,i&&Rc(e,s,!0),e.child}function Ph(t){var e=t.stateNode;e.pendingContext?$c(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$c(t,e.context,!1),No(t,e.containerInfo)}function Yc(t,e,s,r,i){return tr(),xo(i),e.flags|=256,Se(t,e,s,r),e.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Nl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Th(t,e,s){var r=e.pendingProps,i=re.current,a=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),X(re,i&1),t===null)return pl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Hi(l,r,0,null),t=gs(t,r,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Nl(s),e.memoizedState=jl,t):Ao(e,l));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Rp(t,e,l,r,o,i,s);if(a){a=r.fallback,l=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Xt(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Xt(o,a):(a=gs(a,l,s,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?Nl(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~s,e.memoizedState=jl,r}return a=t.child,t=a.sibling,r=Xt(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=s),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r}function Ao(t,e){return e=Hi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ln(t,e,s,r){return r!==null&&xo(r),sr(e,t.child,null,s),t=Ao(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rp(t,e,s,r,i,a,l){if(s)return e.flags&256?(e.flags&=-257,r=Ca(Error(C(422))),Ln(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Hi({mode:"visible",children:r.children},i,0,null),a=gs(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&sr(e,t.child,null,l),e.child.memoizedState=Nl(l),e.memoizedState=jl,a);if(!(e.mode&1))return Ln(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(C(419)),r=Ca(a,r,void 0),Ln(t,e,l,r)}if(o=(l&t.childLanes)!==0,$e||o){if(r=pe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,At(t,i),lt(r,t,i,-1))}return Do(),r=Ca(Error(C(421))),Ln(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Gp.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ze=Gt(i.nextSibling),Fe=e,se=!0,nt=null,t!==null&&(Ke[qe++]=St,Ke[qe++]=Et,Ke[qe++]=ys,St=t.id,Et=t.overflow,ys=e),e=Ao(e,r.children),e.flags|=4096,e)}function Xc(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gl(t.return,e,s)}function Pa(t,e,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function Ah(t,e,s){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Se(t,e,r.children,s),r=re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xc(t,s,e);else if(t.tag===19)Xc(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&wi(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),Pa(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wi(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}Pa(e,!0,s,null,a);break;case"together":Pa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zn(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ot(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,s=Xt(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Xt(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function Lp(t,e,s){switch(e.tag){case 3:Ph(e),tr();break;case 5:rh(e);break;case 1:Le(e.type)&&mi(e);break;case 4:No(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;X(xi,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(re,re.current&1),e.flags|=128,null):s&e.child.childLanes?Th(t,e,s):(X(re,re.current&1),t=Ot(t,e,s),t!==null?t.sibling:null);X(re,re.current&1);break;case 19:if(r=(s&e.childLanes)!==0,t.flags&128){if(r)return Ah(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(re,re.current),r)break;return null;case 22:case 23:return e.lanes=0,Eh(t,e,s)}return Ot(t,e,s)}var Oh,kl,Ih,$h;Oh=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};kl=function(){};Ih=function(t,e,s,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(xt.current);var a=null;switch(s){case"input":i=Ka(t,i),r=Ka(t,r),a=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),a=[];break;case"textarea":i=Ja(t,i),r=Ja(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hi)}Ya(s,r);var l;s=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(a||(a=[]),a.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Z("scroll",t),a||o===c||(a=[])):(a=a||[]).push(u,c))}s&&(a=a||[]).push("style",s);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};$h=function(t,e,s,r){s!==r&&(e.flags|=4)};function jr(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function Dp(t,e,s){var r=e.pendingProps;switch(go(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return Le(e.type)&&fi(),be(e),null;case 3:return r=e.stateNode,rr(),ee(Re),ee(Ne),_o(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($n(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(Ol(nt),nt=null))),kl(t,e),be(e),null;case 5:ko(e);var i=ms(rn.current);if(s=e.type,t!==null&&e.stateNode!=null)Ih(t,e,s,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return be(e),null}if(t=ms(xt.current),$n(e)){r=e.stateNode,s=e.type;var a=e.memoizedProps;switch(r[pt]=e,r[tn]=a,t=(e.mode&1)!==0,s){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)Z(Ar[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":lc(r,a),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Z("invalid",r);break;case"textarea":cc(r,a),Z("invalid",r)}Ya(s,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&In(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&In(r.textContent,o,t),i=["children",""+o]):Vr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Z("scroll",r)}switch(s){case"input":_n(r),oc(r,a,!0);break;case"textarea":_n(r),uc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=hi)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=od(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(s,{is:r.is}):(t=l.createElement(s),s==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,s),t[pt]=e,t[tn]=r,Oh(t,e,!1,!1),e.stateNode=t;e:{switch(l=Xa(s,r),s){case"dialog":Z("cancel",t),Z("close",t),i=r;break;case"iframe":case"object":case"embed":Z("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)Z(Ar[i],t);i=r;break;case"source":Z("error",t),i=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),i=r;break;case"details":Z("toggle",t),i=r;break;case"input":lc(t,r),i=Ka(t,r),Z("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),Z("invalid",t);break;case"textarea":cc(t,r),i=Ja(t,r),Z("invalid",t);break;default:i=r}Ya(s,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?dd(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cd(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Kr(t,c):typeof c=="number"&&Kr(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Z("scroll",t):c!=null&&eo(t,a,c,l))}switch(s){case"input":_n(t),oc(t,r,!1);break;case"textarea":_n(t),uc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zt(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?qs(t,!!r.multiple,a,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hi)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)$h(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(s=ms(rn.current),ms(xt.current),$n(e)){if(r=e.stateNode,s=e.memoizedProps,r[pt]=e,(a=r.nodeValue!==s)&&(t=Fe,t!==null))switch(t.tag){case 3:In(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&In(r.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[pt]=e,e.stateNode=r}return be(e),null;case 13:if(ee(re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&ze!==null&&e.mode&1&&!(e.flags&128))Xd(),tr(),e.flags|=98560,a=!1;else if(a=$n(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(C(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[pt]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),a=!1}else nt!==null&&(Ol(nt),nt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?fe===0&&(fe=3):Do())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return rr(),kl(t,e),t===null&&Zr(e.stateNode.containerInfo),be(e),null;case 10:return wo(e.type._context),be(e),null;case 17:return Le(e.type)&&fi(),be(e),null;case 19:if(ee(re),a=e.memoizedState,a===null)return be(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)jr(a,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=wi(t),l!==null){for(e.flags|=128,jr(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=s,s=e.child;s!==null;)a=s,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return X(re,re.current&1|2),e.child}t=t.sibling}a.tail!==null&&le()>ir&&(e.flags|=128,r=!0,jr(a,!1),e.lanes=4194304)}else{if(!r)if(t=wi(l),t!==null){if(e.flags|=128,r=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!se)return be(e),null}else 2*le()-a.renderingStartTime>ir&&s!==1073741824&&(e.flags|=128,r=!0,jr(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(s=a.last,s!==null?s.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=le(),e.sibling=null,s=re.current,X(re,r?s&1|2:s&1),e):(be(e),null);case 22:case 23:return Lo(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Mp(t,e){switch(go(e),e.tag){case 1:return Le(e.type)&&fi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(),ee(Re),ee(Ne),_o(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ko(e),null;case 13:if(ee(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(re),null;case 4:return rr(),null;case 10:return wo(e.type._context),null;case 22:case 23:return Lo(),null;case 24:return null;default:return null}}var Dn=!1,je=!1,Up=typeof WeakSet=="function"?WeakSet:Set,A=null;function Vs(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ae(t,e,r)}else s.current=null}function _l(t,e,s){try{s()}catch(r){ae(t,e,r)}}var Zc=!1;function zp(t,e){if(ol=ci,t=Ud(),mo(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var w;h!==s||i!==0&&h.nodeType!==3||(o=l+i),h!==a||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(w=h.firstChild)!==null;)f=h,h=w;for(;;){if(h===t)break t;if(f===s&&++u===i&&(o=l),f===a&&++d===r&&(c=l),(w=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=w}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(cl={focusedElem:t,selectionRange:s},ci=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,k=g.memoizedState,x=e.stateNode,m=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:tt(e.type,v),k);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(y){ae(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return g=Zc,Zc=!1,g}function Ur(t,e,s){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&_l(e,s,a)}i=i.next}while(i!==r)}}function Bi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==e)}}function Sl(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function Rh(t){var e=t.alternate;e!==null&&(t.alternate=null,Rh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pt],delete e[tn],delete e[hl],delete e[jp],delete e[Np])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lh(t){return t.tag===5||t.tag===3||t.tag===4}function eu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function El(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=hi));else if(r!==4&&(t=t.child,t!==null))for(El(t,e,s),t=t.sibling;t!==null;)El(t,e,s),t=t.sibling}function Cl(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cl(t,e,s),t=t.sibling;t!==null;)Cl(t,e,s),t=t.sibling}var ge=null,st=!1;function Rt(t,e,s){for(s=s.child;s!==null;)Dh(t,e,s),s=s.sibling}function Dh(t,e,s){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount($i,s)}catch{}switch(s.tag){case 5:je||Vs(s,e);case 6:var r=ge,i=st;ge=null,Rt(t,e,s),ge=r,st=i,ge!==null&&(st?(t=ge,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ge.removeChild(s.stateNode));break;case 18:ge!==null&&(st?(t=ge,s=s.stateNode,t.nodeType===8?ja(t.parentNode,s):t.nodeType===1&&ja(t,s),Qr(t)):ja(ge,s.stateNode));break;case 4:r=ge,i=st,ge=s.stateNode.containerInfo,st=!0,Rt(t,e,s),ge=r,st=i;break;case 0:case 11:case 14:case 15:if(!je&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&_l(s,e,l),i=i.next}while(i!==r)}Rt(t,e,s);break;case 1:if(!je&&(Vs(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){ae(s,e,o)}Rt(t,e,s);break;case 21:Rt(t,e,s);break;case 22:s.mode&1?(je=(r=je)||s.memoizedState!==null,Rt(t,e,s),je=r):Rt(t,e,s);break;default:Rt(t,e,s)}}function tu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Up),e.forEach(function(r){var i=Jp.bind(null,t,r);s.has(r)||(s.add(r),r.then(i,i))})}}function et(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,st=!1;break e;case 3:ge=o.stateNode.containerInfo,st=!0;break e;case 4:ge=o.stateNode.containerInfo,st=!0;break e}o=o.return}if(ge===null)throw Error(C(160));Dh(a,l,i),ge=null,st=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ae(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mh(e,t),e=e.sibling}function Mh(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(et(e,t),dt(t),r&4){try{Ur(3,t,t.return),Bi(3,t)}catch(v){ae(t,t.return,v)}try{Ur(5,t,t.return)}catch(v){ae(t,t.return,v)}}break;case 1:et(e,t),dt(t),r&512&&s!==null&&Vs(s,s.return);break;case 5:if(et(e,t),dt(t),r&512&&s!==null&&Vs(s,s.return),t.flags&32){var i=t.stateNode;try{Kr(i,"")}catch(v){ae(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=s!==null?s.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ad(i,a),Xa(o,l);var u=Xa(o,a);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?dd(i,h):d==="dangerouslySetInnerHTML"?cd(i,h):d==="children"?Kr(i,h):eo(i,d,h,u)}switch(o){case"input":qa(i,a);break;case"textarea":ld(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?qs(i,!!a.multiple,w,!1):f!==!!a.multiple&&(a.defaultValue!=null?qs(i,!!a.multiple,a.defaultValue,!0):qs(i,!!a.multiple,a.multiple?[]:"",!1))}i[tn]=a}catch(v){ae(t,t.return,v)}}break;case 6:if(et(e,t),dt(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){ae(t,t.return,v)}}break;case 3:if(et(e,t),dt(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Qr(e.containerInfo)}catch(v){ae(t,t.return,v)}break;case 4:et(e,t),dt(t);break;case 13:et(e,t),dt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($o=le())),r&4&&tu(t);break;case 22:if(d=s!==null&&s.memoizedState!==null,t.mode&1?(je=(u=je)||d,et(e,t),je=u):et(e,t),dt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(A=t,d=t.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,w=f.child,f.tag){case 0:case 11:case 14:case 15:Ur(4,f,f.return);break;case 1:Vs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,s=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ae(r,s,v)}}break;case 5:Vs(f,f.return);break;case 22:if(f.memoizedState!==null){ru(h);continue}}w!==null?(w.return=f,A=w):ru(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ud("display",l))}catch(v){ae(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ae(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:et(e,t),dt(t),r&4&&tu(t);break;case 21:break;default:et(e,t),dt(t)}}function dt(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(Lh(s)){var r=s;break e}s=s.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kr(i,""),r.flags&=-33);var a=eu(t);Cl(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,o=eu(t);El(t,o,l);break;default:throw Error(C(161))}}catch(c){ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fp(t,e,s){A=t,Uh(t)}function Uh(t,e,s){for(var r=(t.mode&1)!==0;A!==null;){var i=A,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Dn;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||je;o=Dn;var u=je;if(Dn=l,(je=c)&&!u)for(A=i;A!==null;)l=A,c=l.child,l.tag===22&&l.memoizedState!==null?nu(i):c!==null?(c.return=l,A=c):nu(i);for(;a!==null;)A=a,Uh(a),a=a.sibling;A=i,Dn=o,je=u}su(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,A=a):su(t)}}function su(t){for(;A!==null;){var e=A;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Bi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!je)if(s===null)r.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:tt(e.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&zc(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}zc(e,l,s)}break;case 5:var o=e.stateNode;if(s===null&&e.flags&4){s=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}je||e.flags&512&&Sl(e)}catch(f){ae(e,e.return,f)}}if(e===t){A=null;break}if(s=e.sibling,s!==null){s.return=e.return,A=s;break}A=e.return}}function ru(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var s=e.sibling;if(s!==null){s.return=e.return,A=s;break}A=e.return}}function nu(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Bi(4,e)}catch(c){ae(e,s,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ae(e,i,c)}}var a=e.return;try{Sl(e)}catch(c){ae(e,a,c)}break;case 5:var l=e.return;try{Sl(e)}catch(c){ae(e,l,c)}}}catch(c){ae(e,e.return,c)}if(e===t){A=null;break}var o=e.sibling;if(o!==null){o.return=e.return,A=o;break}A=e.return}}var Bp=Math.ceil,Ni=It.ReactCurrentDispatcher,Oo=It.ReactCurrentOwner,Je=It.ReactCurrentBatchConfig,q=0,pe=null,ce=null,ye=0,Ue=0,Ks=ss(0),fe=0,on=null,ws=0,Wi=0,Io=0,zr=null,Oe=null,$o=0,ir=1/0,jt=null,ki=!1,Pl=null,Qt=null,Mn=!1,Ht=null,_i=0,Fr=0,Tl=null,ei=-1,ti=0;function Ee(){return q&6?le():ei!==-1?ei:ei=le()}function Yt(t){return t.mode&1?q&2&&ye!==0?ye&-ye:_p.transition!==null?(ti===0&&(ti=Nd()),ti):(t=J,t!==0||(t=window.event,t=t===void 0?16:Td(t.type)),t):1}function lt(t,e,s,r){if(50<Fr)throw Fr=0,Tl=null,Error(C(185));hn(t,s,r),(!(q&2)||t!==pe)&&(t===pe&&(!(q&2)&&(Wi|=s),fe===4&&Ft(t,ye)),De(t,r),s===1&&q===0&&!(e.mode&1)&&(ir=le()+500,Ui&&rs()))}function De(t,e){var s=t.callbackNode;_m(t,e);var r=oi(t,t===pe?ye:0);if(r===0)s!==null&&fc(s),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(s!=null&&fc(s),e===1)t.tag===0?kp(iu.bind(null,t)):Jd(iu.bind(null,t)),wp(function(){!(q&6)&&rs()}),s=null;else{switch(kd(r)){case 1:s=io;break;case 4:s=bd;break;case 16:s=li;break;case 536870912:s=jd;break;default:s=li}s=qh(s,zh.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function zh(t,e){if(ei=-1,ti=0,q&6)throw Error(C(327));var s=t.callbackNode;if(Xs()&&t.callbackNode!==s)return null;var r=oi(t,t===pe?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Si(t,r);else{e=r;var i=q;q|=2;var a=Bh();(pe!==t||ye!==e)&&(jt=null,ir=le()+500,ps(t,e));do try{Vp();break}catch(o){Fh(t,o)}while(!0);vo(),Ni.current=a,q=i,ce!==null?e=0:(pe=null,ye=0,e=fe)}if(e!==0){if(e===2&&(i=rl(t),i!==0&&(r=i,e=Al(t,i))),e===1)throw s=on,ps(t,0),Ft(t,r),De(t,le()),s;if(e===6)Ft(t,r);else{if(i=t.current.alternate,!(r&30)&&!Wp(i)&&(e=Si(t,r),e===2&&(a=rl(t),a!==0&&(r=a,e=Al(t,a))),e===1))throw s=on,ps(t,0),Ft(t,r),De(t,le()),s;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:cs(t,Oe,jt);break;case 3:if(Ft(t,r),(r&130023424)===r&&(e=$o+500-le(),10<e)){if(oi(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ee(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dl(cs.bind(null,t,Oe,jt),e);break}cs(t,Oe,jt);break;case 4:if(Ft(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-at(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bp(r/1960))-r,10<r){t.timeoutHandle=dl(cs.bind(null,t,Oe,jt),r);break}cs(t,Oe,jt);break;case 5:cs(t,Oe,jt);break;default:throw Error(C(329))}}}return De(t,le()),t.callbackNode===s?zh.bind(null,t):null}function Al(t,e){var s=zr;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=Si(t,e),t!==2&&(e=Oe,Oe=s,e!==null&&Ol(e)),t}function Ol(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function Wp(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!ot(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ft(t,e){for(e&=~Io,e&=~Wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-at(e),r=1<<s;t[s]=-1,e&=~r}}function iu(t){if(q&6)throw Error(C(327));Xs();var e=oi(t,0);if(!(e&1))return De(t,le()),null;var s=Si(t,e);if(t.tag!==0&&s===2){var r=rl(t);r!==0&&(e=r,s=Al(t,r))}if(s===1)throw s=on,ps(t,0),Ft(t,e),De(t,le()),s;if(s===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,Oe,jt),De(t,le()),null}function Ro(t,e){var s=q;q|=1;try{return t(e)}finally{q=s,q===0&&(ir=le()+500,Ui&&rs())}}function bs(t){Ht!==null&&Ht.tag===0&&!(q&6)&&Xs();var e=q;q|=1;var s=Je.transition,r=J;try{if(Je.transition=null,J=1,t)return t()}finally{J=r,Je.transition=s,q=e,!(q&6)&&rs()}}function Lo(){Ue=Ks.current,ee(Ks)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,vp(s)),ce!==null)for(s=ce.return;s!==null;){var r=s;switch(go(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fi();break;case 3:rr(),ee(Re),ee(Ne),_o();break;case 5:ko(r);break;case 4:rr();break;case 13:ee(re);break;case 19:ee(re);break;case 10:wo(r.type._context);break;case 22:case 23:Lo()}s=s.return}if(pe=t,ce=t=Xt(t.current,null),ye=Ue=e,fe=0,on=null,Io=Wi=ws=0,Oe=zr=null,fs!==null){for(e=0;e<fs.length;e++)if(s=fs[e],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}s.pending=r}fs=null}return t}function Fh(t,e){do{var s=ce;try{if(vo(),Yn.current=ji,bi){for(var r=ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bi=!1}if(vs=0,me=he=ne=null,Mr=!1,nn=0,Oo.current=null,s===null||s.return===null){fe=1,on=e,ce=null;break}e:{var a=t,l=s.return,o=s,c=e;if(e=ye,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Kc(l);if(w!==null){w.flags&=-257,qc(w,l,o,a,e),w.mode&1&&Vc(a,u,e),e=w,c=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){Vc(a,u,e),Do();break e}c=Error(C(426))}}else if(se&&o.mode&1){var k=Kc(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),qc(k,l,o,a,e),xo(nr(c,o));break e}}a=c=nr(c,o),fe!==4&&(fe=2),zr===null?zr=[a]:zr.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=kh(a,c,e);Uc(a,x);break e;case 1:o=c;var m=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Qt===null||!Qt.has(p)))){a.flags|=65536,e&=-e,a.lanes|=e;var y=_h(a,o,e);Uc(a,y);break e}}a=a.return}while(a!==null)}Hh(s)}catch(j){e=j,ce===s&&s!==null&&(ce=s=s.return);continue}break}while(!0)}function Bh(){var t=Ni.current;return Ni.current=ji,t===null?ji:t}function Do(){(fe===0||fe===3||fe===2)&&(fe=4),pe===null||!(ws&268435455)&&!(Wi&268435455)||Ft(pe,ye)}function Si(t,e){var s=q;q|=2;var r=Bh();(pe!==t||ye!==e)&&(jt=null,ps(t,e));do try{Hp();break}catch(i){Fh(t,i)}while(!0);if(vo(),q=s,Ni.current=r,ce!==null)throw Error(C(261));return pe=null,ye=0,fe}function Hp(){for(;ce!==null;)Wh(ce)}function Vp(){for(;ce!==null&&!gm();)Wh(ce)}function Wh(t){var e=Kh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Hh(t):ce=e,Oo.current=null}function Hh(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=Mp(s,e),s!==null){s.flags&=32767,ce=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ce=null;return}}else if(s=Dp(s,e,Ue),s!==null){ce=s;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);fe===0&&(fe=5)}function cs(t,e,s){var r=J,i=Je.transition;try{Je.transition=null,J=1,Kp(t,e,s,r)}finally{Je.transition=i,J=r}return null}function Kp(t,e,s,r){do Xs();while(Ht!==null);if(q&6)throw Error(C(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(Sm(t,a),t===pe&&(ce=pe=null,ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Mn||(Mn=!0,qh(li,function(){return Xs(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Je.transition,Je.transition=null;var l=J;J=1;var o=q;q|=4,Oo.current=null,zp(t,s),Mh(s,t),hp(cl),ci=!!ol,cl=ol=null,t.current=s,Fp(s),xm(),q=o,J=l,Je.transition=a}else t.current=s;if(Mn&&(Mn=!1,Ht=t,_i=i),a=t.pendingLanes,a===0&&(Qt=null),wm(s.stateNode),De(t,le()),e!==null)for(r=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(ki)throw ki=!1,t=Pl,Pl=null,t;return _i&1&&t.tag!==0&&Xs(),a=t.pendingLanes,a&1?t===Tl?Fr++:(Fr=0,Tl=t):Fr=0,rs(),null}function Xs(){if(Ht!==null){var t=kd(_i),e=Je.transition,s=J;try{if(Je.transition=null,J=16>t?16:t,Ht===null)var r=!1;else{if(t=Ht,Ht=null,_i=0,q&6)throw Error(C(331));var i=q;for(q|=4,A=t.current;A!==null;){var a=A,l=a.child;if(A.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Ur(8,d,a)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,w=d.return;if(Rh(d),d===u){A=null;break}if(f!==null){f.return=w,A=f;break}A=w}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}A=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,A=l;else e:for(;A!==null;){if(a=A,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ur(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,A=x;break e}A=a.return}}var m=t.current;for(A=m;A!==null;){l=A;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,A=p;else e:for(l=m;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bi(9,o)}}catch(j){ae(o,o.return,j)}if(o===l){A=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,A=y;break e}A=o.return}}if(q=i,rs(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot($i,t)}catch{}r=!0}return r}finally{J=s,Je.transition=e}}return!1}function au(t,e,s){e=nr(s,e),e=kh(t,e,1),t=Jt(t,e,1),e=Ee(),t!==null&&(hn(t,1,e),De(t,e))}function ae(t,e,s){if(t.tag===3)au(t,t,s);else for(;e!==null;){if(e.tag===3){au(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){t=nr(s,t),t=_h(e,t,1),e=Jt(e,t,1),t=Ee(),e!==null&&(hn(e,1,t),De(e,t));break}}e=e.return}}function qp(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&s,pe===t&&(ye&s)===s&&(fe===4||fe===3&&(ye&130023424)===ye&&500>le()-$o?ps(t,0):Io|=s),De(t,e)}function Vh(t,e){e===0&&(t.mode&1?(e=Cn,Cn<<=1,!(Cn&130023424)&&(Cn=4194304)):e=1);var s=Ee();t=At(t,e),t!==null&&(hn(t,e,s),De(t,s))}function Gp(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Vh(t,s)}function Jp(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Vh(t,s)}var Kh;Kh=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)$e=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return $e=!1,Lp(t,e,s);$e=!!(t.flags&131072)}else $e=!1,se&&e.flags&1048576&&Qd(e,gi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zn(t,e),t=e.pendingProps;var i=er(e,Ne.current);Ys(e,s),i=Eo(null,e,r,t,i,s);var a=Co();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(r)?(a=!0,mi(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jo(e),i.updater=Fi,e.stateNode=i,i._reactInternals=e,yl(e,r,t,s),e=bl(null,e,r,!0,a,s)):(e.tag=0,se&&a&&po(e),Se(null,e,i,s),e=e.child),e;case 16:r=e.elementType;e:{switch(Zn(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Yp(r),t=tt(r,t),i){case 0:e=wl(null,e,r,t,s);break e;case 1:e=Qc(null,e,r,t,s);break e;case 11:e=Gc(null,e,r,t,s);break e;case 14:e=Jc(null,e,r,tt(r.type,t),s);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),wl(t,e,r,i,s);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Qc(t,e,r,i,s);case 3:e:{if(Ph(e),t===null)throw Error(C(387));r=e.pendingProps,a=e.memoizedState,i=a.element,sh(t,e),vi(e,r,null,s);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=nr(Error(C(423)),e),e=Yc(t,e,r,s,i);break e}else if(r!==i){i=nr(Error(C(424)),e),e=Yc(t,e,r,s,i);break e}else for(ze=Gt(e.stateNode.containerInfo.firstChild),Fe=e,se=!0,nt=null,s=eh(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(tr(),r===i){e=Ot(t,e,s);break e}Se(t,e,r,s)}e=e.child}return e;case 5:return rh(e),t===null&&pl(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,ul(r,i)?l=null:a!==null&&ul(r,a)&&(e.flags|=32),Ch(t,e),Se(t,e,l,s),e.child;case 6:return t===null&&pl(e),null;case 13:return Th(t,e,s);case 4:return No(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sr(e,null,r,s):Se(t,e,r,s),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Gc(t,e,r,i,s);case 7:return Se(t,e,e.pendingProps,s),e.child;case 8:return Se(t,e,e.pendingProps.children,s),e.child;case 12:return Se(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,X(xi,r._currentValue),r._currentValue=l,a!==null)if(ot(a.value,l)){if(a.children===i.children&&!Re.current){e=Ot(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ct(-1,s&-s),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),gl(a.return,s,e),o.lanes|=s;break}c=c.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(C(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),gl(l,s,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Se(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ys(e,s),i=Xe(i),r=r(i),e.flags|=1,Se(t,e,r,s),e.child;case 14:return r=e.type,i=tt(r,e.pendingProps),i=tt(r.type,i),Jc(t,e,r,i,s);case 15:return Sh(t,e,e.type,e.pendingProps,s);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Zn(t,e),e.tag=1,Le(r)?(t=!0,mi(e)):t=!1,Ys(e,s),Nh(e,r,i),yl(e,r,i,s),bl(null,e,r,!0,t,s);case 19:return Ah(t,e,s);case 22:return Eh(t,e,s)}throw Error(C(156,e.tag))};function qh(t,e){return wd(t,e)}function Qp(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,s,r){return new Qp(t,e,s,r)}function Mo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yp(t){if(typeof t=="function")return Mo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===so)return 11;if(t===ro)return 14}return 2}function Xt(t,e){var s=t.alternate;return s===null?(s=Ge(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function si(t,e,s,r,i,a){var l=2;if(r=t,typeof t=="function")Mo(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ls:return gs(s.children,i,a,e);case to:l=8,i|=8;break;case Ba:return t=Ge(12,s,e,i|2),t.elementType=Ba,t.lanes=a,t;case Wa:return t=Ge(13,s,e,i),t.elementType=Wa,t.lanes=a,t;case Ha:return t=Ge(19,s,e,i),t.elementType=Ha,t.lanes=a,t;case rd:return Hi(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case td:l=10;break e;case sd:l=9;break e;case so:l=11;break e;case ro:l=14;break e;case Mt:l=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Ge(l,s,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function gs(t,e,s,r){return t=Ge(7,t,r,e),t.lanes=s,t}function Hi(t,e,s,r){return t=Ge(22,t,r,e),t.elementType=rd,t.lanes=s,t.stateNode={isHidden:!1},t}function Ta(t,e,s){return t=Ge(6,t,null,e),t.lanes=s,t}function Aa(t,e,s){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xp(t,e,s,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=da(0),this.expirationTimes=da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uo(t,e,s,r,i,a,l,o,c){return t=new Xp(t,e,s,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ge(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(a),t}function Zp(t,e,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:s}}function Gh(t){if(!t)return es;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var s=t.type;if(Le(s))return Gd(t,s,e)}return e}function Jh(t,e,s,r,i,a,l,o,c){return t=Uo(s,r,!0,t,i,a,l,o,c),t.context=Gh(null),s=t.current,r=Ee(),i=Yt(s),a=Ct(r,i),a.callback=e??null,Jt(s,a,i),t.current.lanes=i,hn(t,i,r),De(t,r),t}function Vi(t,e,s,r){var i=e.current,a=Ee(),l=Yt(i);return s=Gh(s),e.context===null?e.context=s:e.pendingContext=s,e=Ct(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jt(i,e,l),t!==null&&(lt(t,i,l,a),Qn(t,i,l)),l}function Ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function zo(t,e){lu(t,e),(t=t.alternate)&&lu(t,e)}function e0(){return null}var Qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fo(t){this._internalRoot=t}Ki.prototype.render=Fo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Vi(t,e,null,null)};Ki.prototype.unmount=Fo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){Vi(null,t,null,null)}),e[Tt]=null}};function Ki(t){this._internalRoot=t}Ki.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ed();t={blockedOn:null,target:t,priority:e};for(var s=0;s<zt.length&&e!==0&&e<zt[s].priority;s++);zt.splice(s,0,t),s===0&&Pd(t)}};function Bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ou(){}function t0(t,e,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Ei(l);a.call(u)}}var l=Jh(e,r,t,0,null,!1,!1,"",ou);return t._reactRootContainer=l,t[Tt]=l.current,Zr(t.nodeType===8?t.parentNode:t),bs(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Ei(c);o.call(u)}}var c=Uo(t,0,!1,null,null,!1,!1,"",ou);return t._reactRootContainer=c,t[Tt]=c.current,Zr(t.nodeType===8?t.parentNode:t),bs(function(){Vi(e,c,s,r)}),c}function Gi(t,e,s,r,i){var a=s._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=Ei(l);o.call(c)}}Vi(e,l,t,i)}else l=t0(s,e,t,i,r);return Ei(l)}_d=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Tr(e.pendingLanes);s!==0&&(ao(e,s|1),De(e,le()),!(q&6)&&(ir=le()+500,rs()))}break;case 13:bs(function(){var r=At(t,1);if(r!==null){var i=Ee();lt(r,t,1,i)}}),zo(t,1)}};lo=function(t){if(t.tag===13){var e=At(t,134217728);if(e!==null){var s=Ee();lt(e,t,134217728,s)}zo(t,134217728)}};Sd=function(t){if(t.tag===13){var e=Yt(t),s=At(t,e);if(s!==null){var r=Ee();lt(s,t,e,r)}zo(t,e)}};Ed=function(){return J};Cd=function(t,e){var s=J;try{return J=t,e()}finally{J=s}};el=function(t,e,s){switch(e){case"input":if(qa(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var i=Mi(r);if(!i)throw Error(C(90));id(r),qa(r,i)}}}break;case"textarea":ld(t,s);break;case"select":e=s.value,e!=null&&qs(t,!!s.multiple,e,!1)}};md=Ro;pd=bs;var s0={usingClientEntryPoint:!1,Events:[mn,zs,Mi,hd,fd,Ro]},Nr={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yd(t),t===null?null:t.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||e0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Un=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Un.isDisabled&&Un.supportsFiber)try{$i=Un.inject(r0),gt=Un}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;We.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bo(e))throw Error(C(200));return Zp(t,e,null,s)};We.createRoot=function(t,e){if(!Bo(t))throw Error(C(299));var s=!1,r="",i=Qh;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uo(t,1,!1,null,null,s,!1,r,i),t[Tt]=e.current,Zr(t.nodeType===8?t.parentNode:t),new Fo(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=yd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return bs(t)};We.hydrate=function(t,e,s){if(!qi(e))throw Error(C(200));return Gi(null,t,e,!0,s)};We.hydrateRoot=function(t,e,s){if(!Bo(t))throw Error(C(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",l=Qh;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),e=Jh(e,null,t,1,s??null,i,!1,a,l),t[Tt]=e.current,Zr(t),r)for(t=0;t<r.length;t++)s=r[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new Ki(e)};We.render=function(t,e,s){if(!qi(e))throw Error(C(200));return Gi(null,t,e,!1,s)};We.unmountComponentAtNode=function(t){if(!qi(t))throw Error(C(40));return t._reactRootContainer?(bs(function(){Gi(null,null,t,!1,function(){t._reactRootContainer=null,t[Tt]=null})}),!0):!1};We.unstable_batchedUpdates=Ro;We.unstable_renderSubtreeIntoContainer=function(t,e,s,r){if(!qi(s))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Gi(t,e,s,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yh)}catch(t){console.error(t)}}Yh(),Yu.exports=We;var n0=Yu.exports,Xh,cu=n0;Xh=cu.createRoot,cu.hydrateRoot;const i0="modulepreload",a0=function(t){return"/mvp3/"+t},uu={},gn=function(e,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=a0(c),c in uu)return;uu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":i0,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,w)=>{h.addEventListener("load",f),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},l0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>fr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Wo extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class du extends Wo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hu extends Wo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fu extends Wo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Il;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Il||(Il={}));var o0=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class c0{constructor(e,{headers:s={},customFetch:r,region:i=Il.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=l0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return o0(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l,signal:o}=s;let c={},{region:u}=s;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:o}).catch(k=>{throw k.name==="AbortError"?k:new du(k)}),w=f.headers.get("x-relay-error");if(w&&w==="true")throw new hu(f);if(!f.ok)throw new fu(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield f.json():g==="application/octet-stream"?v=yield f.blob():g==="text/event-stream"?v=f:g==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new du(i)}:{data:null,error:i,response:i instanceof fu||i instanceof hu?i.context:void 0}}})}}var Ie={},Ho={},Ji={},xn={},Qi={},Yi={},u0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ar=u0();const d0=ar.fetch,Zh=ar.fetch.bind(ar),ef=ar.Headers,h0=ar.Request,f0=ar.Response,fr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ef,Request:h0,Response:f0,default:Zh,fetch:d0},Symbol.toStringTag,{value:"Module"})),m0=Of(fr);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});let p0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xi.default=p0;var tf=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});const g0=tf(m0),x0=tf(Xi);let y0=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=g0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c,u;let d=null,h=null,f=null,w=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const m=await a.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const k=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,w=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await a.text();try{d=JSON.parse(k),Array.isArray(d)&&a.status===404&&(h=[],d=null,w=200,g="OK")}catch{a.status===404&&k===""?(w=204,g="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,w=200,g="OK"),d&&this.shouldThrowOnError)throw new x0.default(d)}return{error:d,data:h,count:f,status:w,statusText:g}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};Yi.default=y0;var v0=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const w0=v0(Yi);let b0=class extends w0.default{select(e){let s=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Qi.default=b0;var j0=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});const N0=j0(Qi);let k0=class extends N0.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${l}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};xn.default=k0;var _0=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const kr=_0(xn);let S0=class{constructor(e,{headers:s={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=i}select(e,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new kr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var i;const a="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new kr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new kr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:s}={}){var r;const i="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new kr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new kr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Ji.default=S0;var sf=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ho,"__esModule",{value:!0});const E0=sf(Ji),C0=sf(xn);let P0=class rf{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new E0.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:a}={}){var l;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(o="POST",u=s);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new C0.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Ho.default=P0;var mr=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const nf=mr(Ho);Ie.PostgrestClient=nf.default;const af=mr(Ji);Ie.PostgrestQueryBuilder=af.default;const lf=mr(xn);Ie.PostgrestFilterBuilder=lf.default;const of=mr(Qi);Ie.PostgrestTransformBuilder=of.default;const cf=mr(Yi);Ie.PostgrestBuilder=cf.default;const uf=mr(Xi);Ie.PostgrestError=uf.default;var T0=Ie.default={PostgrestClient:nf.default,PostgrestQueryBuilder:af.default,PostgrestFilterBuilder:lf.default,PostgrestTransformBuilder:of.default,PostgrestBuilder:cf.default,PostgrestError:uf.default};const{PostgrestClient:A0,PostgrestQueryBuilder:qy,PostgrestFilterBuilder:Gy,PostgrestTransformBuilder:Jy,PostgrestBuilder:Qy,PostgrestError:Yy}=T0;class O0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const I0="2.15.5",$0=`realtime-js/${I0}`,R0="1.0.0",$l=1e4,L0=1e3,D0=100;var Br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Br||(Br={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var Rl;(function(t){t.websocket="websocket"})(Rl||(Rl={}));var ds;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ds||(ds={}));class M0{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const i=s.getUint8(1),a=s.getUint8(2);let l=this.HEADER_LENGTH+2;const o=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+a));l=l+a;const u=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class df{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const mu=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=U0(l,t,e,i),a),{})},U0=(t,e,s,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,l=s[t];return a&&!r.includes(a)?hf(a,l):Ll(l)},hf=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return W0(e,s)}switch(t){case Y.bool:return z0(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return F0(e);case Y.json:case Y.jsonb:return B0(e);case Y.timestamp:return H0(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Ll(e);default:return Ll(e)}},Ll=t=>t,z0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},F0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W0=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,s);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>hf(e,o))}return t},H0=t=>typeof t=="string"?t.replace(" ","T"):t,ff=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Oa{constructor(e,s,r={},i=$l){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pu||(pu={}));class Wr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wr.syncState(this.state,i,a,l),this.pendingDiffs.forEach(c=>{this.state=Wr.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Wr.syncDiff(this.state,i,a,l),o())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const a=this.cloneDeep(e),l=this.transformState(s),o={},c={};return this.map(a,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=a[u];if(h){const f=d.map(k=>k.presence_ref),w=h.map(k=>k.presence_ref),g=d.filter(k=>w.indexOf(k.presence_ref)<0),v=h.filter(k=>f.indexOf(k.presence_ref)<0);g.length>0&&(o[u]=g),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},r,i)}static syncDiff(e,s,r,i){const{joins:a,leaves:l}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(w=>w.presence_ref),f=d.filter(w=>h.indexOf(w.presence_ref)<0);e[o].unshift(...f)}r(o,d,c)}),this.map(l,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,c),u.length===0&&delete e[o]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gu||(gu={}));var Hr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Hr||(Hr={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Vo{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Oa(this,rt.join,this.params,this.timeout),this.rejoinTimer=new df(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Wr(this),this.broadcastEndpointURL=ff(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Hr.PRESENCE]&&this.bindings[Hr.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Nt.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var g;if(this.socket.setAuth(),w===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,k=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,x=[];for(let m=0;m<k;m++){const p=v[m],{filter:{event:y,schema:j,table:_,filter:E}}=p,b=w&&w[m];if(b&&b.event===y&&b.schema===j&&b.table===_&&b.filter===E)x.push(Object.assign(Object.assign({},p),{id:b.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Nt.SUBSCRIBED);return}}).receive("error",w=>{this.state=de.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===de.joined&&e===Hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Oa(this,rt.leave,{},e),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),l}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Oa(this,e,s,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>D0){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,a;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=rt;if(r&&[o,c,u,d].indexOf(l)>=0&&r!==this._joinRef())return;let f=this._onMessage(l,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var g,v,k;return((g=w.filter)===null||g===void 0?void 0:g.event)==="*"||((k=(v=w.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(w=>w.callback(f,r)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var g,v,k,x,m,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const y=w.id,j=(g=w.filter)===null||g===void 0?void 0:g.event;return y&&((v=s.ids)===null||v===void 0?void 0:v.includes(y))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const y=(m=(x=w==null?void 0:w.filter)===null||x===void 0?void 0:x.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return y==="*"||y===((p=s==null?void 0:s.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:k,commit_timestamp:x,type:m,errors:p}=g;f=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:x,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(g))}w.callback(f,r)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Vo.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=mu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=mu(e.columns,e.old_record)),s}}const Ia=()=>{},zn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V0=[1e3,2e3,5e3,1e4],K0=1e4,q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G0{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$l,this.transport=null,this.heartbeatIntervalMs=zn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ia,this.ref=0,this.reconnectTimer=null,this.logger=Ia,this.conn=null,this.sendBuffer=[],this.serializer=new M0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>gn(async()=>{const{default:o}=await Promise.resolve().then(()=>fr);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Rl.websocket}`,this.httpEndpoint=ff(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:R0}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return ds.Connecting;case Br.open:return ds.Open;case Br.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Vo(`realtime:${e}`,s,this);return this.channels.push(a),a}}push(e){const{topic:s,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L0,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},zn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=s,o=l?`(${l})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,l)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([q0],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:$0};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new df(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,i,a,l,o,c,u,d;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:$l,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:zn.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Ia,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>V0[h-1]||K0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ko extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class J0 extends Ko{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dl extends Ko{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Q0=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const mf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>fr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Y0=()=>Q0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>fr),void 0)).Response:Response}),Ml=t=>{if(Array.isArray(t))return t.map(s=>Ml(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Ml(r)}),e},X0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var _s=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const $a=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z0=(t,e,s)=>_s(void 0,void 0,void 0,function*(){const r=yield Y0();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new J0($a(i),a,l))}).catch(i=>{e(new Dl($a(i),i))}):e(new Dl($a(t),t))}),eg=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(X0(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),s))};function yn(t,e,s,r,i,a){return _s(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(s,eg(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Z0(c,o,r))})})}function Ci(t,e,s,r){return _s(this,void 0,void 0,function*(){return yn(t,"GET",e,s,r)})}function mt(t,e,s,r,i){return _s(this,void 0,void 0,function*(){return yn(t,"POST",e,r,i,s)})}function Ul(t,e,s,r,i){return _s(this,void 0,void 0,function*(){return yn(t,"PUT",e,r,i,s)})}function tg(t,e,s,r){return _s(this,void 0,void 0,function*(){return yn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function pf(t,e,s,r,i){return _s(this,void 0,void 0,function*(){return yn(t,"DELETE",e,r,i,s)})}var sg=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class rg{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return sg(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}}var ng=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class ig{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new rg(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return ng(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}}var Te=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const ag={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lg{constructor(e,s={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=mf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,i){return Te(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},xu),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield(e=="PUT"?Ul:mt)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}upload(e,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,i){return Te(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:xu.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Ul(this.fetch,o.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(oe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new Ko("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}update(e,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Te(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}copy(e,s,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,r){return Te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield mt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,r){return Te(this,void 0,void 0,function*(){try{const i=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}download(e,s){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),l=a?`?${a}`:"",o=this._getFinalPath(e),c=()=>Ci(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new ig(c,this.shouldThrowOnError)}info(e){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ci(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ml(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}exists(e){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield tg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r)&&r instanceof Dl){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const o=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}list(e,s,r){return Te(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ag),s),{prefix:e||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}listV2(e,s){return Te(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const og="2.12.2",cg={"X-Client-Info":`storage-js/${og}`};var Cs=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class ug{constructor(e,s={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},cg),s),this.fetch=mf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Cs(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}getBucket(e){return Cs(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Cs(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Cs(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Cs(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Cs(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}}class dg extends ug{constructor(e,s={},r,i){super(e,s,r,i)}from(e){return new lg(this.url,this.headers,e,this.fetch)}}const hg="2.58.0";let Or="";typeof Deno<"u"?Or="deno":typeof document<"u"?Or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Or="react-native":Or="node";const fg={"X-Client-Info":`supabase-js-${Or}/${hg}`},mg={headers:fg},pg={schema:"public"},gg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xg={};var yg=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};const vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zh:e=fetch,(...s)=>e(...s)},wg=()=>typeof Headers>"u"?ef:Headers,bg=(t,e,s)=>{const r=vg(s),i=wg();return(a,l)=>yg(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},l),{headers:u}))})};var jg=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};function Ng(t){return t.endsWith("/")?t:t+"/"}function kg(t,e){var s,r;const{db:i,auth:a,realtime:l,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>jg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function _g(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ng(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gf="2.72.0",Is=30*1e3,zl=3,Ra=zl*Is,Sg="http://localhost:9999",Eg="supabase.auth.token",Cg={"X-Client-Info":`gotrue-js/${gf}`},Fl="X-Supabase-Api-Version",xf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tg=10*60*1e3;class qo extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ag extends qo{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Og(t){return B(t)&&t.name==="AuthApiError"}class yf extends qo{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ns extends qo{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class Dt extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ig(t){return B(t)&&t.name==="AuthSessionMissingError"}class _r extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fn extends ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bn extends ns{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $g(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class yu extends ns{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bl extends ns{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function La(t){return B(t)&&t.name==="AuthRetryableFetchError"}class vu extends ns{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Wl extends ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wu=` 	
\r=`.split(""),Rg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wu.length;e+=1)t[wu[e].charCodeAt(0)]=-2;for(let e=0;e<Pi.length;e+=1)t[Pi[e].charCodeAt(0)]=e;return t})();function bu(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pi[r]),e.queuedBits-=6}}function vf(t,e,s){const r=Rg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ju(t){const e=[],s=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Mg(l,r,s)};for(let l=0;l<t.length;l+=1)vf(t.charCodeAt(l),i,a);return e.join("")}function Lg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Dg(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Lg(r,e)}}function Mg(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ug(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)vf(t.charCodeAt(i),s,r);return new Uint8Array(e)}function zg(t){const e=[];return Dg(t,s=>e.push(s)),new Uint8Array(e)}function Fg(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>bu(i,s,r)),bu(null,s,r),e.join("")}function Bg(t){return Math.round(Date.now()/1e3)+t}function Wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},wf=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function Hg(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>gn(async()=>{const{default:r}=await Promise.resolve().then(()=>fr);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Vg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$s=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ls=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Lt=async(t,e)=>{await t.removeItem(e)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Zi.promiseConstructor=Promise;function Da(t){const e=t.split(".");if(e.length!==3)throw new Wl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Pg.test(e[r]))throw new Wl("JWT not in base64url format");return{header:JSON.parse(ju(e[0])),payload:JSON.parse(ju(e[1])),signature:Ug(e[2]),raw:{header:e[0],payload:e[1]}}}async function Kg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qg(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function Gg(t){return("0"+t.toString(16)).substr(-2)}function Jg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Gg).join("")}async function Qg(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Yg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Qg(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ps(t,e,s=!1){const r=Jg();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await $s(t,`${e}-code-verifier`,i);const a=await Yg(r);return[a,r===a?"plain":"s256"]}const Xg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zg(t){const e=t.headers.get(Fl);if(!e||!e.match(Xg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ex(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(t){if(!sx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ma(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nu(t){return JSON.parse(JSON.stringify(t))}var rx=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};const us=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nx=[502,503,504];async function ku(t){var e;if(!Vg(t))throw new Bl(us(t),0);if(nx.includes(t.status))throw new Bl(us(t),t.status);let s;try{s=await t.json()}catch(a){throw new yf(us(a),a)}let r;const i=Zg(t);if(i&&i.getTime()>=xf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new vu(us(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Dt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new vu(us(s),t.status,s.weak_password.reasons);throw new Ag(us(s),t.status||500,r)}const ix=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function H(t,e,s,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Fl]||(a[Fl]=xf["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await ax(t,e,s+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ax(t,e,s,r,i,a){const l=ix(e,r,i,a);let o;try{o=await t(s,Object.assign({},l))}catch(c){throw console.error(c),new Bl(us(c),0)}if(o.ok||await ku(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await ku(c)}}function ht(t){var e;let s=null;ux(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Bg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function _u(t){const e=ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lx(t){return{data:t,error:null}}function ox(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=t,l=rx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function cx(t){return t}function ux(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ua=["global","local","others"];var dx=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};class hx{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=bf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Ua[0]){if(Ua.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ua.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Bt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=dx(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ox,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(B(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bt})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,a,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:cx});if(d.error)throw d.error;const h=await d.json(),f=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return w.length>0&&(w.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(g.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ts(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bt})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ts(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Bt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Ts(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Bt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ts(e.userId);try{const{data:s,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(B(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ts(e.userId),Ts(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}}function Su(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function fx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const As={debug:!!(globalThis&&wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mx extends jf{}async function px(t,e,s){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(As.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Nf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function gx(t){return parseInt(t,16)}function xx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function yx(t){var e;const{chainId:s,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Nf(t.address),g=d?`${d}://${r}`:r,v=t.statement?`${t.statement}
`:"",k=`${g} wants you to sign in with your Ethereum account:
${w}

${v}`;let x=`URI: ${h}
Version: ${f}
Chain ID: ${s}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);m+=`
- ${p}`}x+=m}return`${k}
${x}`}fx();const vx={url:Sg,storageKey:Eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Eu(t,e,s){return await s()}const Os={};class cn{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cn.nextInstanceID,cn.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},vx),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bf(i.fetch),this.lock=i.lock||Eu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ve()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=px:this.lock=Eu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Su(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Su(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Hg(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ve()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$g(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return B(s)?{error:s}:{error:new yf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ht}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var s,r,i;try{let a;if("email"in e){const{email:d,password:h,options:f}=e;let w=null,g=null;this.flowType==="pkce"&&([w,g]=await Ps(this.storage,this.storageKey)),a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:w,code_challenge_method:g},xform:ht})}else if("phone"in e){const{phone:d,password:h,options:f}=e;a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ht})}else throw new Fn("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let s;if("email"in e){const{email:a,password:l,options:o}=e;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_u})}else if("phone"in e){const{phone:a,password:l,options:o}=e;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_u})}else throw new Fn("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _r}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,i,a,l,o,c,u,d,h,f;let w,g;if("message"in e)w=e.message,g=e.signature;else{const{chain:v,wallet:k,statement:x,options:m}=e;let p;if(Ve())if(typeof k=="object")p=k;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")p=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=k}const y=new URL((s=m==null?void 0:m.url)!==null&&s!==void 0?s:window.location.href),j=await p.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Nf(j[0]);let E=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const $=await p.request({method:"eth_chainId"});E=gx($)}const b={domain:y.host,address:_,statement:x,uri:y.href,version:"1",chainId:E,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};w=yx(b),g=await p.request({method:"personal_sign",params:[xx(w),_]})}try{const{data:v,error:k}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(k)throw k;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new _r}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:k})}catch(v){if(B(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var s,r,i,a,l,o,c,u,d,h,f,w;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:k,wallet:x,statement:m,options:p}=e;let y;if(Ve())if(typeof x=="object")y=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))y=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const j=new URL((s=p==null?void 0:p.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in y&&y.signIn){const _=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await y.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:k,error:x}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Fg(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ht});if(x)throw x;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new _r}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:x})}catch(k){if(B(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const s=await ls(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:l}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ht});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new _r}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(B(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:a,nonce:l}=e,o=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ht}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _r}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,i,a,l;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ps(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fn("You must provide either an email or phone number.")}catch(o){if(B(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var s,r;try{let i,a;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:o}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ht});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,r,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Ps(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:lx})}catch(a){if(B(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Dt;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await H(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:o}=await H(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Fn("You must provide either an email or phone number and a type")}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ra:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await ls(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Ma()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bt}):await this._useSession(async s=>{var r,i,a;const{data:l,error:o}=s;if(o)throw o;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Bt})})}catch(s){if(B(s))return Ig(s)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Dt;const l=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Ps(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Bt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Dt;const s=Date.now()/1e3;let r=s,i=!0,a=null;const{payload:l}=Da(e.access_token);if(l.exp&&(r=l.exp,i=r<=s),i){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(B(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:l,error:o}=s;if(o)throw o;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Dt;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ve())throw new Bn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new yu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yu("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=e;if(!a||!o||!l||!u)throw new Bn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const w=f-d;w*1e3<=Is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:v,error:k}=await this._getUser(a);if(k)throw k;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:l,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{error:a};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(Og(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Wg(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:l}=s;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ps(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(B(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var l,o,c,u,d;const{data:h,error:f}=a;if(f)throw f;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ve()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:a,error:l}=s;if(l)throw l;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await qg(async i=>(i>0&&await Kg(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(i,a)=>{const l=200*Math.pow(2,i);return a&&La(a)&&Date.now()+l-r<Is})}catch(r){if(this._debug(s,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ve()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ls(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await $s(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Ma()}else if(i&&!i.user&&!i.user){const l=await ls(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Lt(this.storage,this.storageKey+"-user"),await $s(this.storage,this.storageKey,i)):i.user=Ma()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ra;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ra}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),La(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(i.access_token);!o&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zi;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Dt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),B(a)){const l={session:null,error:a};return La(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,s)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await $s(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=Nu(i);await $s(this.storage,this.storageKey,a)}else{const i=Nu(s);await $s(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Is);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Is}ms, refresh threshold is ${zl} ticks`),i<=zl&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Ps(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:l,error:o}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(s){if(B(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Da(i.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Tg>i)return r;const{data:a,error:l}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:w,error:g}=await this.getSession();if(g||!w.session)return{data:null,error:g};r=w.session.access_token}const{header:i,payload:a,signature:l,raw:{header:o,payload:c}}=Da(r);s!=null&&s.allowExpired||ex(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:a,header:i,signature:l},error:null}}const d=tx(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,zg(`${o}.${c}`)))throw new Wl("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}cn.nextInstanceID=0;const wx=cn;class bx extends wx{constructor(e){super(e)}}var jx=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})};class Nx{constructor(e,s,r){var i,a,l;this.supabaseUrl=e,this.supabaseKey=s;const o=_g(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:pg,realtime:xg,auth:Object.assign(Object.assign({},gg),{storageKey:c}),global:mg},d=kg(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=bg(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new A0(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new dg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new c0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return jx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:o,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bx({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:l,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,userStorage:a,flowType:o,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new G0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kx=(t,e,s)=>new Nx(t,e,s);function _x(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_x()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sx="https://uwlpkdgcfzdhgiptasov.supabase.co",Ex="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3bHBrZGdjZnpkaGdpcHRhc292Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk5MDkwOTMsImV4cCI6MjA4NTQ4NTA5M30.5OjHxT0MytV-cQSBhiFCjunurm8KIiZz4WBDnGfYu1Q",ct=kx(Sx,Ex);async function Hl(t){try{console.log("  - ID:",t);const{data:e,error:s}=await ct.from("user_event_participation").select("event_id").eq("user_id",t).eq("is_active",!0);if(s)return console.error(" Get user participating events error:",s),[];const r=e?e.map(i=>i.event_id):[];return console.log(" :",r),r}catch(e){return console.error(" Get user participating events failed:",e),[]}}async function Cx(t,e){try{console.log(" :",{userId:t,eventIds:e});const{error:s}=await ct.from("user_event_participation").delete().eq("user_id",t);if(s)return console.error(" Delete existing events error:",s),!1;if(console.log(" "),e.length>0){const r=e.map(a=>({user_id:t,event_id:a,is_active:!0}));console.log(" ...",r);const{error:i}=await ct.from("user_event_participation").insert(r);if(i)return console.error(" Insert participation error:",i),console.error("  - :",i.code,":",i.message,":",i.details),!1;console.log(" ")}return console.log(" "),!0}catch(s){return console.error(" Save user participating events failed:",s),!1}}async function Px(t){try{const{data:e,error:s}=await ct.from("users").select("*").eq("email",t.email).eq("password",t.password).limit(1);if(s)return console.error("Login error:",s),null;if(!e||e.length===0)return console.error("User not found or password incorrect"),null;const r=e[0],i=await Hl(r.id);return{id:r.id,name:r.name,email:r.email,department:r.department,role:r.role,avatar:r.avatar,participatingEvents:i}}catch(e){return console.error("Login failed:",e),null}}async function Tx(t){try{const{data:e,error:s}=await ct.from("users").select("email").eq("email",t.email).limit(1);if(s)return console.error("Email check error:",s),null;if(e&&e.length>0)return console.error("Email already exists"),null;const{data:r,error:i}=await ct.from("users").insert([{name:t.name,email:t.email,password:t.password,department:t.department,role:t.role||"learner"}]).select().single();return i?(console.error("Registration error:",i),null):{id:r.id,name:r.name,email:r.email,department:r.department,role:r.role,avatar:r.avatar}}catch(e){return console.error("Registration failed:",e),null}}async function Ax(t,e){try{const{data:s,error:r}=await ct.from("users").update(e).eq("id",t).select().single();return r?(console.error("Update user error:",r),null):{id:s.id,name:s.name,email:s.email,department:s.department,role:s.role,avatar:s.avatar}}catch(s){return console.error("Update user failed:",s),null}}function vn(){const[t,e]=N.useState({user:null,isAuthenticated:!1,isLoading:!0});N.useEffect(()=>{const a=localStorage.getItem("ai-teacher-user");if(a)try{const l=JSON.parse(a);e({user:l,isAuthenticated:!0,isLoading:!1})}catch(l){console.error("Failed to parse saved user:",l),localStorage.removeItem("ai-teacher-user"),e({user:null,isAuthenticated:!1,isLoading:!1})}else e({user:null,isAuthenticated:!1,isLoading:!1})},[]);const s=async(a,l)=>{try{if(!a&&!l){const c={id:"guest",name:"",email:"",department:"",role:"learner"};return localStorage.setItem("ai-teacher-user",JSON.stringify(c)),e({user:c,isAuthenticated:!0,isLoading:!1}),!0}const o=await Px({email:a,password:l});return o?(localStorage.setItem("ai-teacher-user",JSON.stringify(o)),e({user:o,isAuthenticated:!0,isLoading:!1}),!0):!1}catch(o){return console.error("Login failed:",o),!1}},r=()=>{localStorage.removeItem("ai-teacher-user"),e({user:null,isAuthenticated:!1,isLoading:!1})},i=async a=>{if(t.user)try{const l=await Ax(t.user.id,a);return l?(localStorage.setItem("ai-teacher-user",JSON.stringify(l)),e(o=>({...o,user:l})),!0):!1}catch(l){return console.error("Update user failed:",l),!1}return!1};return{user:t.user,isAuthenticated:t.isAuthenticated,isLoading:t.isLoading,login:s,logout:r,updateUser:i}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(t,e)=>{const s=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>N.createElement("svg",{ref:d,...Ox,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Ix(t)}`,o].join(" "),...u},[...e.map(([h,f])=>N.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=L("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=L("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=L("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=L("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=L("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=L("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=L("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=L("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=L("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=L("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=L("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=L("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=L("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=L("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=L("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=L("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=L("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=L("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=L("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=L("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=L("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=L("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=L("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=L("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=L("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=L("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=L("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=L("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=L("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=L("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=L("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=L("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=L("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=L("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Iu={email:"tanaka@marui.co.jp",password:"password123"};function iy({onLogin:t}){const[e,s]=N.useState(!1),[r,i]=N.useState(""),a=async()=>{s(!0),i("");try{await t(Iu.email,Iu.password)||i("")}catch{i("")}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-light-gray to-sky-blue/20 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 bg-vivid-red rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(or,{className:"w-10 h-10 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:""})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[r&&n.jsxs("div",{className:"flex items-center space-x-2 p-3 mb-4 bg-red-50 border border-red-200 rounded-lg",children:[n.jsx(xe,{className:"w-5 h-5 text-vivid-red"}),n.jsx("span",{className:"text-sm text-red-700",children:r})]}),n.jsx("button",{type:"button",onClick:a,disabled:e,className:"w-full flex items-center justify-center px-4 py-3 bg-vivid-red text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-bold",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"..."]}):""})]})]})})}const ay=["","","","","","","","","","","","","","","","",""];function ly({onSignup:t,onBackToLogin:e}){const[s,r]=N.useState({name:"",email:"",password:"",confirmPassword:"",department:""}),[i,a]=N.useState(!1),[l,o]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(""),f=(v,k)=>{r(x=>({...x,[v]:k})),d&&h("")},w=()=>s.name.trim()?s.email.trim()?s.email.includes("@")?s.password?s.password.length<6?(h("6"),!1):s.password!==s.confirmPassword?(h(""),!1):s.department?!0:(h(""),!1):(h(""),!1):(h(""),!1):(h(""),!1):(h(""),!1),g=async v=>{if(v.preventDefault(),!!w()){u(!0),h("");try{await t(s.name,s.email,s.password,s.department)||h("")}catch(k){console.error("Signup error:",k),h("")}finally{u(!1)}}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-light-gray to-sky-blue/20 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 bg-vivid-red rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(or,{className:"w-10 h-10 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-gray-600",children:""})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(or,{className:"w-5 h-5 text-gray-400"})}),n.jsx("input",{type:"text",value:s.name,onChange:v=>f("name",v.target.value),placeholder:" ",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",disabled:c})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Hx,{className:"w-5 h-5 text-gray-400"})}),n.jsx("input",{type:"email",value:s.email,onChange:v=>f("email",v.target.value),placeholder:"your-email@marui.co.jp",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",disabled:c})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Lx,{className:"w-5 h-5 text-gray-400"})}),n.jsxs("select",{value:s.department,onChange:v=>f("department",v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent appearance-none",disabled:c,children:[n.jsx("option",{value:"",children:""}),ay.map(v=>n.jsx("option",{value:v,children:v},v))]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ou,{className:"w-5 h-5 text-gray-400"})}),n.jsx("input",{type:i?"text":"password",value:s.password,onChange:v=>f("password",v.target.value),placeholder:"6",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",disabled:c}),n.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:c,children:i?n.jsx(Au,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"}):n.jsx(Ti,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ou,{className:"w-5 h-5 text-gray-400"})}),n.jsx("input",{type:l?"text":"password",value:s.confirmPassword,onChange:v=>f("confirmPassword",v.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",disabled:c}),n.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:c,children:l?n.jsx(Au,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"}):n.jsx(Ti,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),d&&n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[n.jsx(xe,{className:"w-5 h-5 text-vivid-red"}),n.jsx("span",{className:"text-sm text-red-700",children:d})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-4 py-3 bg-vivid-red text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"..."]}):""})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:n.jsxs("button",{onClick:e,disabled:c,className:"w-full flex items-center justify-center px-4 py-2 text-gray-700 hover:text-sky-blue transition-colors text-sm font-medium",children:[n.jsx(pr,{className:"w-4 h-4 mr-2"}),""]})})]}),n.jsx("div",{className:"text-center mt-8",children:n.jsx("p",{className:"text-sm text-gray-500",children:" 2024  "})})]})})}function oy({onComplete:t}){const[e,s]=N.useState(0),r=[{id:1,title:"",subtitle:`
`,description:"",bgColor:"bg-gradient-to-br from-blue-50 to-indigo-100"},{id:2,title:"",subtitle:"",description:"",bgColor:"bg-gradient-to-br from-white to-sky-50"},{id:3,title:"",subtitle:"",description:"",bgColor:"bg-gradient-to-br from-orange-50 to-red-50"},{id:4,title:"",subtitle:"",description:"",bgColor:"bg-gradient-to-br from-green-50 to-teal-50"}],i=()=>{e<r.length-1&&s(e+1)},a=()=>{e>0&&s(e-1)},l=r[e];return n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 font-sans text-slate-900",children:n.jsx("div",{className:`w-full max-w-4xl rounded-[2.5rem] shadow-2xl overflow-hidden transition-all duration-700 ${l.bgColor} border-4 border-white`,children:n.jsxs("div",{className:"relative min-h-[600px] flex flex-col",style:{minHeight:"85vh"},children:[n.jsx("div",{className:"absolute top-6 left-12 right-12 h-1.5 bg-black/5 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(239,68,68,0.5)]",style:{width:`${(e+1)/r.length*100}%`}})}),n.jsxs("div",{className:"flex-1 p-8 sm:p-12 flex flex-col justify-center",children:[e===0&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("img",{src:"/mvp3/app-icon.png?v=3",alt:" ",className:"w-24 h-24 rounded-[1.5rem] mx-auto shadow-xl object-cover"}),n.jsx("h1",{className:"text-5xl font-black tracking-tight whitespace-pre-line",children:l.title}),n.jsx("h2",{className:"text-2xl font-bold text-blue-600 whitespace-pre-line",children:l.subtitle}),n.jsx("p",{className:"text-lg text-slate-500 max-w-md mx-auto",children:l.description})]}),e===1&&n.jsxs("div",{className:"text-center relative",children:[n.jsx("h1",{className:"text-4xl font-black mb-2 whitespace-pre-line",children:l.title}),n.jsx("p",{className:"text-slate-500 mb-12",children:l.description}),n.jsxs("div",{className:"relative h-64 w-64 mx-auto flex items-center justify-center",children:[[sa,Qe,na,zx,kf,Ae].map((o,c)=>n.jsx("div",{className:"absolute animate-pulse",style:{animation:`converge 2s infinite ease-in-out ${c*.2}s`,opacity:0},children:n.jsx("div",{className:"p-3 bg-white rounded-full shadow-md text-blue-400",children:n.jsx(o,{size:24})})},c)),n.jsx("div",{className:"z-10 w-24 h-24 rounded-[1.5rem] flex items-center justify-center shadow-2xl border-4 border-white overflow-hidden bg-white",children:n.jsx("img",{src:"/mvp3/app-icon.png?v=3",alt:" ",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute w-40 h-40 bg-blue-400/20 rounded-full animate-ping"})]}),n.jsx("style",{dangerouslySetInnerHTML:{__html:`
                    @keyframes converge {
                      0% { transform: translate(var(--tw-translate-x), var(--tw-translate-y)) scale(1.2); opacity: 0; }
                      20% { opacity: 1; }
                      80% { transform: translate(0, 0) scale(0.5); opacity: 0.5; }
                      100% { transform: translate(0, 0) scale(0.2); opacity: 0; }
                    }
                    .absolute:nth-child(1) { --tw-translate-x: -120px; --tw-translate-y: -100px; }
                    .absolute:nth-child(2) { --tw-translate-x: 120px; --tw-translate-y: -80px; }
                    .absolute:nth-child(3) { --tw-translate-x: -140px; --tw-translate-y: 60px; }
                    .absolute:nth-child(4) { --tw-translate-x: 140px; --tw-translate-y: 80px; }
                    .absolute:nth-child(5) { --tw-translate-x: 0px; --tw-translate-y: -150px; }
                    .absolute:nth-child(6) { --tw-translate-x: 0px; --tw-translate-y: 150px; }
                  `}})]}),e===2&&n.jsxs("div",{className:"text-center flex flex-col items-center",children:[n.jsx("h1",{className:"text-3xl font-black mb-2 whitespace-pre-line",children:l.title}),n.jsx("h2",{className:"text-lg font-bold text-orange-600 mb-8",children:l.subtitle}),n.jsxs("div",{className:"w-full max-w-md space-y-4",children:[n.jsxs("div",{className:"relative mx-auto w-fit py-4",children:[n.jsx("div",{className:"absolute -left-2 top-2 h-4 w-4 rounded-full bg-white shadow-sm animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"absolute -right-1 top-4 h-3 w-3 rounded-full bg-white shadow-sm animate-bounce",style:{animationDelay:"0.3s"}}),n.jsx("div",{className:"absolute left-1/2 -top-2 h-3 w-3 rounded-full bg-white shadow-sm animate-bounce",style:{animationDelay:"0.5s"}}),n.jsxs("div",{className:"relative flex items-center justify-center",children:[n.jsx("svg",{className:"absolute w-[200px] h-[100px] text-white drop-shadow-md",viewBox:"0 0 200 100",fill:"currentColor",children:n.jsx("path",{d:"M158.4,45.9c0-12.7-10.3-23-23-23c-1.8,0-3.6,0.2-5.3,0.6c-4.4-8.8-13.4-14.8-23.9-14.8c-10.3,0-19.1,5.8-23.6,14.3c-2.4-1.2-5.1-1.9-8-1.9c-8.9,0-16.3,6.5-17.7,15c-1.2-0.2-2.5-0.3-3.8-0.3c-10,0-18.1,8.1-18.1,18.1c0,10,8.1,18.1,18.1,18.1c1.2,0,2.3-0.1,3.4-0.3c3.6,8,11.7,13.6,21.1,13.6c2.8,0,5.4-0.5,7.8-1.4c4.6,7.5,13,12.5,22.5,12.5c10.3,0,19.3-5.8,23.8-14.5c1.8,0.5,3.7,0.8,5.7,0.8c12.7,0,23-10.3,23-23C161.7,55.3,160.4,50.2,158.4,45.9z"})}),n.jsxs("div",{className:"relative z-10 px-8 py-6",children:[n.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase tracking-widest block",children:""}),n.jsx("span",{className:"text-xl font-black text-orange-600 tracking-tighter",children:""})]})]})]}),n.jsx(Cu,{className:"text-orange-400 animate-bounce mx-auto"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border-b-4 border-blue-500",children:[n.jsx(Bx,{className:"mx-auto mb-2 text-blue-500",size:20}),n.jsxs("div",{className:"text-xs font-bold",children:["",n.jsx("br",{}),""]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border-b-4 border-green-500",children:[n.jsx(qx,{className:"mx-auto mb-2 text-green-500",size:20}),n.jsxs("div",{className:"text-xs font-bold",children:["",n.jsx("br",{}),""]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border-b-4 border-red-500",children:[n.jsx(js,{className:"mx-auto mb-2 text-red-500",size:20}),n.jsxs("div",{className:"text-xs font-bold",children:["",n.jsx("br",{}),""]})]})]}),n.jsx(Cu,{className:"text-orange-400 mx-auto"}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-500 font-bold text-lg",children:[n.jsx(ey,{className:"w-6 h-6"})," "]})]})]}),e===3&&n.jsxs("div",{className:"text-center space-y-8",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("div",{className:"w-24 h-24 bg-teal-500 rounded-full flex items-center justify-center mx-auto shadow-2xl",children:n.jsx(Ae,{className:"w-12 h-12 text-white"})}),n.jsx("div",{className:"absolute -right-2 -top-2 bg-yellow-400 text-xs font-black px-3 py-1 rounded-full shadow-md animate-bounce",children:"GO!"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-4xl font-black leading-tight whitespace-pre-line",children:l.title}),n.jsx("p",{className:"text-lg text-slate-500",children:l.description})]})]})]}),n.jsxs("div",{className:"px-12 py-6 mt-auto flex items-center justify-between",children:[n.jsxs("button",{onClick:a,className:`flex items-center gap-1 font-bold transition-all ${e===0?"opacity-0 pointer-events-none":"text-slate-400 hover:text-slate-900"}`,children:[n.jsx(Mx,{size:24}),n.jsx("span",{children:""})]}),e<r.length-1?n.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-slate-900 text-white px-8 py-3 rounded-2xl font-bold hover:bg-black transition-all shadow-lg hover:-translate-y-0.5",children:[n.jsx("span",{children:""}),n.jsx(_t,{size:20})]}):n.jsxs("button",{onClick:()=>t("cases"),className:"flex items-center gap-1 bg-slate-900 text-white px-8 py-3 rounded-2xl font-bold hover:bg-black transition-all shadow-lg hover:-translate-y-0.5",children:[n.jsx("span",{children:""}),n.jsx(_t,{size:20})]})]})]})})})}function cy({title:t,onMenuToggle:e,onProfileClick:s,onLogout:r,onLogoClick:i,user:a}){return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:e,className:"hidden p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Vx,{className:"w-5 h-5"})}),n.jsxs("button",{onClick:i,className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[n.jsx("img",{src:"/mvp3/app-icon.png?v=3",alt:" ",className:"w-8 h-8 rounded-lg object-cover"}),n.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:""})]}),n.jsx("div",{className:"hidden md:block w-px h-6 bg-gray-300"}),n.jsx("h2",{className:"hidden md:block text-base lg:text-lg text-gray-700",children:t})]}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 sm:pl-4 sm:border-l border-gray-200",children:[n.jsxs("button",{onClick:r,className:"inline-flex items-center gap-1.5 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-gray-500 hover:bg-red-50 hover:text-vivid-red transition-colors",title:"",children:[n.jsx(Wx,{className:"w-4 h-4"}),n.jsx("span",{children:""})]}),n.jsx("button",{onClick:s,className:"flex items-center space-x-2 hover:bg-gray-100 rounded-lg p-1 transition-colors",children:n.jsx("img",{src:(a==null?void 0:a.avatar)||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",alt:(a==null?void 0:a.name)||"",className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:a==null?void 0:a.name}),n.jsx("div",{className:"text-xs text-gray-500",children:a==null?void 0:a.department})]})]})]})})}const uy=[{id:"dashboard",label:"",icon:ea},{id:"cases",label:"",icon:_f}];function dy({activeTab:t,onTabChange:e}){return n.jsx("aside",{className:"hidden lg:block w-64 bg-white border-r border-gray-200 min-h-screen",children:n.jsx("nav",{className:"px-4 py-6",children:n.jsx("ul",{className:"space-y-2",children:uy.map(s=>{const r=s.icon,i=t===s.id;return n.jsx("li",{children:n.jsxs("button",{onClick:()=>e(s.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${i?"bg-red-50 text-vivid-red border border-red-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[n.jsx(r,{className:`w-5 h-5 ${i?"text-vivid-red":"text-gray-400"}`}),n.jsx("span",{className:"font-medium",children:s.label})]})},s.id)})})})})}const hy=[{id:"dashboard",label:"",icon:ea},{id:"cases",label:"",icon:_f}];function fy({activeTab:t,onTabChange:e}){return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden border-t border-gray-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/85",children:n.jsx("div",{className:"grid grid-cols-2 gap-1 px-2 py-2 pb-[calc(env(safe-area-inset-bottom)+8px)]",children:hy.map(s=>{const r=s.icon,i=t===s.id;return n.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center justify-center gap-1 rounded-xl px-2 py-2 transition-colors ${i?"text-vivid-red bg-red-50":"text-gray-500 hover:bg-gray-50"}`,children:[n.jsx(r,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[11px] leading-none font-semibold",children:s.label})]},s.id)})})})}const my=`
 Hook / Pitch / Card / Memo
1. Hook 
   : 
2. Pitch 
   : 
3. Card 
   : 
4. Memo 
   : 
`.trim(),py=`
 DECO*27 /  / 
[] 6:42040

Hook
3000
DECO*2723000


Pitch
18
3000B8

Card
VISA
3003000
20


Memo
: 6:4 2040




1) 
2) 
3) 


`.trim(),gy=`
 

DECO*27
: PDECO*27
: , 
: 1030SNS
: MV / 
: 
AI: 
:  / 


: 
: , , , 
: 1020
:  / 
: 
AI: 
:  / 

 
: 
: , , 
: 
:  / 
: 
AI: 
:  / 

SPYFAMILY 
: 
: , 
: SNS
:  / SNS
: SNS
AI: 
:  / 

ONE PIECE FILM RED
: 
: , , , 
: 
:  / 
: 
AI: 
:  / 

 POPUP STORE
: 
: , 
: SNS
:  / SNS
: 
AI: 
:  / 

 
: 
: , 
: 
:  / 
: 
AI: 

 POPUP STORE
: 
: , 
: 
:  / 
: 
AI: 


: 
: , 
: 
:  / 
: 
AI: 

 
: 
: , 
: 
:  / 
: 
AI: 
`.trim(),xy=`
 

1: 
: 20
: 
: 
: 

2: 
: 10
: 
: SNS
: 

3: 
: 40
: 
: 
: 
`.trim();function yy(){return[my,py,gy,xy].join(`

`)}class Xo{static async generateResponse(e,s,r,i=[]){var a,l,o;try{const c="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",u=this.getSystemPrompt(s,r);console.log("[AI Debug] mode:",s),console.log("[AI Debug] API Key exists:",!!c,"/ length:",c.length),console.log("[AI Debug] systemPrompt length:",u.length),console.log("[AI Debug] systemPrompt includes :",u.includes("")),console.log("[AI Debug] systemPrompt first 200 chars:",u.substring(0,200)),console.log("[AI Debug] systemPrompt last 200 chars:",u.substring(u.length-200));const d=[{role:"system",content:u}],h=i.slice(-8);for(let x=0;x<h.length;x++)d.push({role:x%2===0?"user":"assistant",content:h[x]});d.push({role:"user",content:e});const f=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"AI Sales Skill Teacher"},body:JSON.stringify({model:"deepseek/deepseek-chat",messages:d,max_tokens:s==="consultation"?150:200,temperature:.8,top_p:.9})});if(!f.ok){const x=await f.text();throw console.error(`OpenRouter API error: ${f.status} - ${x}`),new Error(`API error: ${f.status}`)}const w=await f.json(),g=(o=(l=(a=w.choices)==null?void 0:a[0])==null?void 0:l.message)==null?void 0:o.content;if(console.log("[AI Debug] API response status:",f.status),console.log("[AI Debug] AI raw response length:",(g==null?void 0:g.length)||0),console.log("[AI Debug] AI raw response:",g==null?void 0:g.substring(0,300)),!g)throw console.error("No content in API response:",w),new Error("No response content from AI");let v=g.trim();v=v.replace(/^["'`]|["'`]$/g,""),v=v.replace(/^\*\*|\*\*$/g,"");const k=s==="consultation"?100:300;return v.length>k&&(v=v.substring(0,k)+"..."),v}catch(c){return console.error("[AI Debug] CAUGHT ERROR - using fallback response"),console.error("AI Service Request Failed:",c),c instanceof Error&&console.error("Error details:",c.message),this.getFallbackResponse(s)}}static getSystemPrompt(e,s){return e==="consultation"?`AI



- 12100
- 
- 1
- 
- 
- 

=====  =====
${yy()}
=====  =====`:e==="staff"?`${s}


- 
- 
- 1-3
- 

`:`${s}


- 
- 
- 1-3
- 

`}static getFallbackResponse(e){const r={customer:["","","",""],staff:["","","",""],consultation:["","","",""]}[e];return r[Math.floor(Math.random()*r.length)]}}function vy(){const[t,e]=N.useState(""),[s,r]=N.useState(!1),[i,a]=N.useState([{id:"m1",role:"assistant",text:"",time:"09:12"}]),l=N.useRef(null);N.useEffect(()=>{var u;(u=l.current)==null||u.scrollIntoView({behavior:"smooth"})},[i,s]);const o=async()=>{const u=t.trim();if(!u||s)return;const d=new Date().toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),h={id:`u-${Date.now()}`,role:"user",text:u,time:d};a(f=>[...f,h]),e(""),r(!0);try{const f=i.filter(v=>v.id!=="m1").map(v=>v.text),w=await Xo.generateResponse(u,"consultation","",f),g={id:`a-${Date.now()+1}`,role:"assistant",text:w,time:new Date().toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})};a(v=>[...v,g])}catch(f){console.error("AI response error:",f)}finally{r(!1)}},c=N.useMemo(()=>i,[i]);return n.jsx("div",{className:"h-[calc(100vh-140px)]",children:n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-white",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-success-green text-white flex items-center justify-center",children:n.jsx(za,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"AI"}),n.jsx("p",{className:"font-semibold text-gray-900",children:""}),n.jsx("p",{className:"text-xs text-green-600 font-medium mt-0.5",children:"AI"})]})]}),n.jsx("div",{className:"flex-1 px-6 py-5 bg-gradient-to-b from-green-50/40 via-white to-white overflow-y-auto",children:n.jsxs("div",{className:"space-y-4",children:[c.map(u=>n.jsxs("div",{className:`flex items-start gap-3 ${u.role==="user"?"justify-end":"justify-start"}`,children:[u.role==="assistant"&&n.jsx("div",{className:"w-9 h-9 rounded-full bg-green-100 text-success-green flex items-center justify-center flex-shrink-0",children:n.jsx(za,{className:"w-4 h-4"})}),n.jsxs("div",{className:`max-w-[72%] space-y-1 ${u.role==="user"?"items-end":""}`,children:[n.jsx("div",{className:`px-4 py-3 rounded-2xl text-sm leading-relaxed shadow-sm ${u.role==="user"?"bg-success-green text-white rounded-br-md":"bg-white border border-green-100 text-gray-700 rounded-bl-md"}`,children:u.text}),n.jsx("p",{className:`text-xs text-gray-400 ${u.role==="user"?"text-right":""}`,children:u.time})]}),u.role==="user"&&n.jsx("div",{className:"w-9 h-9 rounded-full bg-green-100 text-success-green flex items-center justify-center flex-shrink-0",children:n.jsx(or,{className:"w-4 h-4"})})]},u.id)),s&&n.jsxs("div",{className:"flex items-start gap-3 justify-start",children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-green-100 text-success-green flex items-center justify-center flex-shrink-0",children:n.jsx(za,{className:"w-4 h-4"})}),n.jsx("div",{className:"max-w-[72%] space-y-1",children:n.jsx("div",{className:"px-4 py-3 rounded-2xl text-sm leading-relaxed shadow-sm bg-white border border-green-100 text-gray-400 rounded-bl-md",children:"..."})})]}),n.jsx("div",{ref:l})]})}),n.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-white",children:[n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-xs text-gray-500",children:""}),n.jsx("textarea",{value:t,onChange:u=>e(u.target.value),rows:2,placeholder:": ",className:"mt-2 w-full resize-none rounded-xl border border-gray-200 px-4 py-3 text-sm focus:ring-2 focus:ring-success-green focus:border-transparent"})]}),n.jsxs("button",{onClick:o,disabled:s,className:`flex items-center gap-2 px-5 py-3 rounded-xl transition-colors shadow-sm ${s?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-success-green text-white hover:bg-emerald-green"}`,children:[n.jsx(Yo,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-semibold",children:""})]})]}),n.jsx("div",{className:"mt-3 text-xs text-gray-500 flex items-center justify-between",children:n.jsx("span",{children:""})})]})]})})}const wy=[{id:"u1",title:"",summary:"",date:"2026/02/05",isNew:!0},{id:"u2",title:"2",summary:"210",date:"2026/02/03"},{id:"u3",title:"",summary:"",date:"2026/02/01",isNew:!0}],$u=[{id:"p1",title:"",summary:"",date:"2026/01/28"},{id:"p2",title:"",summary:"",date:"2026/01/22"},{id:"p3",title:"",summary:"",date:"2026/01/18"},{id:"p4",title:"",summary:"",date:"2026/01/12"},{id:"p5",title:"",summary:"",date:"2026/01/08"},{id:"p6",title:"",summary:"",date:"2026/01/05"},{id:"p7",title:"",summary:"",date:"2025/12/28"},{id:"p8",title:"",summary:"",date:"2025/12/22"},{id:"p9",title:"",summary:"",date:"2025/12/15"},{id:"p10",title:"",summary:"",date:"2025/12/08"}];function Ru({onNavigateToSimulation:t}){const[e,s]=N.useState("learning"),[r,i]=N.useState(!1),[a,l]=N.useState(1),[o,c]=N.useState(!1),[u,d]=N.useState(!1),[h,f]=N.useState(!1),[w,g]=N.useState(!1),v=j=>{s(j)},k=n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-1 overflow-hidden",children:n.jsxs("div",{className:"flex space-x-2 w-full",children:[n.jsx("button",{type:"button",onClick:()=>v("learning"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${e==="learning"?"bg-sky-blue text-white":"text-gray-600 hover:bg-blue-50 hover:text-sky-blue"}`,children:""}),n.jsx("button",{type:"button",onClick:()=>v("practice"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${e==="practice"?"bg-success-green text-white":"text-gray-600 hover:bg-green-50 hover:text-success-green"}`,children:""})]})});if(e==="practice")return n.jsxs("div",{className:"space-y-6",children:[k,n.jsx(vy,{})]});const x=5,m=Math.ceil($u.length/x),p=(a-1)*x,y=$u.slice(p,p+x);return n.jsxs("div",{className:"space-y-6",children:[k,n.jsx("div",{}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-sky-50 to-white rounded-xl border border-blue-200 p-6 shadow-sm",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:""})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:wy.map(j=>n.jsxs("button",{type:"button",onClick:()=>f(!0),className:"bg-white rounded-lg border border-blue-100 p-4 shadow-sm hover:border-sky-blue hover:shadow-md transition-all text-left",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[j.isNew&&n.jsx("span",{className:"text-xs bg-sky-blue text-white px-2 py-0.5 rounded-full shadow-sm",children:""}),n.jsxs("span",{className:"text-xs text-gray-500",children:[" ",j.date]})]}),n.jsx("span",{className:"text-xs text-gray-500"})]}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:j.title}),n.jsx("p",{className:"text-xs text-gray-600",children:j.summary})]},j.id))}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{type:"button",onClick:()=>i(j=>!j),className:"text-sm font-medium text-sky-blue hover:text-blue-600 transition-colors",children:""})})]}),r&&n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map(j=>n.jsxs("button",{type:"button",onClick:()=>g(!0),className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:border-sky-blue hover:shadow-md transition-all text-left",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("span",{className:"text-xs text-gray-500",children:[" ",j.date]})}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:j.title}),n.jsx("p",{className:"text-xs text-gray-600",children:j.summary})]},j.id))}),m>1&&n.jsx("div",{className:"flex items-center justify-center gap-2 mt-6",children:Array.from({length:m},(j,_)=>{const E=_+1,b=E===a;return n.jsx("button",{type:"button",onClick:()=>l(E),className:`w-8 h-8 rounded-full text-sm font-semibold transition-colors ${b?"bg-sky-blue text-white":"bg-white text-gray-600 border border-gray-200 hover:border-sky-blue hover:text-sky-blue"}`,children:E},E)})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("button",{onClick:()=>c(!0),className:"bg-white rounded-xl border-2 border-sky-200 p-6 text-left shadow-sm hover:border-sky-blue hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-sky-100 text-sky-blue rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(sa,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:""}),n.jsx("p",{className:"text-xs text-gray-500 mt-3",children:""})]})]})}),n.jsx("button",{onClick:()=>d(!0),className:"bg-white rounded-xl border-2 border-sky-200 p-6 text-left shadow-sm hover:border-sky-blue hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-sky-100 text-sky-blue rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Qe,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:""}),n.jsx("p",{className:"text-xs text-gray-500 mt-3",children:""})]})]})})]}),o&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>c(!1)}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-11/12 max-w-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:""}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:"OK"})})]})]}),u&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>d(!1)}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-11/12 max-w-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:""}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:"OK"})})]})]}),h&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>f(!1)}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-11/12 max-w-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:""}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:"OK"})})]})]}),w&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>g(!1)}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-11/12 max-w-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:""}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:"OK"})})]})]})]})}const Wn=5;function by({scenario:t,mode:e,onExit:s}){const[r,i]=N.useState(1),[a,l]=N.useState([{id:"1",sender:"ai",content:"...",timestamp:new Date}]),[o,c]=N.useState(""),[u,d]=N.useState(75),[h,f]=N.useState(!1),[w,g]=N.useState(!1),[v,k]=N.useState(0),[x,m]=N.useState([]),[p,y]=N.useState([]),j=N.useRef(null),[_,E]=N.useState(null),[b,$]=N.useState(!1),R=()=>{var D;(D=j.current)==null||D.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{R()},[a]);const G=async()=>{if(!o.trim()||b)return;const D={id:Date.now().toString(),sender:"user",content:o,timestamp:new Date},Q=[{type:"good",message:" ",icon:""},{type:"good",message:" ",icon:""},{type:"warning",message:" ",icon:""},{type:"warning",message:"",icon:""}],ke=Q[Math.floor(Math.random()*Q.length)];D.feedback=ke,E(ke),ke.type==="good"?d(Math.min(100,u+5)):ke.type==="warning"&&d(Math.max(0,u-2));const Me=[...a,D];l(Me),c(""),$(!0);try{const T=Me.slice(0,-1).filter(O=>O.id!=="1").map(O=>O.content),z=await Xo.generateResponse(o,e,t.title,T),F={id:(Date.now()+1).toString(),sender:"ai",content:z,timestamp:new Date};l(O=>[...O,F]),Me.length>=8&&i(Math.min(Wn,r+1))}catch(T){console.error("AI response error:",T)}finally{$(!1)}},P=()=>{k(u),m(["","",""]),y(["",""]),g(!0)},I=()=>{l([{id:"1",sender:"ai",content:"...",timestamp:new Date}]),i(1),d(75),c(""),E(null),g(!1)};return w?n.jsx("div",{className:"min-h-screen bg-light-gray p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-success-green rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ra,{className:"w-10 h-10 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-gray-600",children:t.title})]})}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),n.jsx("div",{className:"text-6xl font-bold text-success-green mb-2",children:v}),n.jsx("div",{className:"text-gray-600",children:"/ 100"}),n.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:[1,2,3,4,5].map(D=>n.jsx("div",{className:`text-3xl ${D<=Math.floor(v/20)?"text-yellow-400":"text-gray-300"}`,children:""},D))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(wn,{className:"w-5 h-5 text-success-green"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})]}),n.jsx("div",{className:"space-y-3",children:x.map((D,Q)=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-success-green text-sm",children:""})}),n.jsx("p",{className:"text-gray-700",children:D})]},Q))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(xe,{className:"w-5 h-5 text-orange-500"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})]}),n.jsx("div",{className:"space-y-3",children:p.map((D,Q)=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-orange-500 text-sm",children:"!"})}),n.jsx("p",{className:"text-gray-700",children:D})]},Q))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:I,className:"p-4 border-2 border-success-green text-success-green rounded-lg hover:bg-green-50 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold mb-1",children:""}),n.jsx("div",{className:"text-sm",children:""})]}),n.jsxs("button",{onClick:s,className:"p-4 border-2 border-sky-blue text-sky-blue rounded-lg hover:bg-blue-50 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold mb-1",children:""}),n.jsx("div",{className:"text-sm",children:""})]}),n.jsxs("button",{onClick:s,className:"p-4 border-2 border-purple-500 text-purple-500 rounded-lg hover:bg-purple-50 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold mb-1",children:""}),n.jsx("div",{className:"text-sm",children:""})]}),n.jsxs("button",{onClick:s,className:"p-4 border-2 border-vivid-red text-vivid-red rounded-lg hover:bg-red-50 transition-colors text-left",children:[n.jsx("div",{className:"font-semibold mb-1",children:""}),n.jsx("div",{className:"text-sm",children:""})]})]})]}),n.jsx("button",{onClick:s,className:"w-full py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-semibold",children:""})]})}):n.jsxs("div",{className:"min-h-screen bg-light-gray flex flex-col",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(pr,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t.title}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[n.jsxs("span",{children:[" ",t.customerType]}),n.jsxs("span",{children:[" ",t.duration,""]}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e==="staff"?"bg-green-100 text-success-green":"bg-blue-100 text-sky-blue"}`,children:e==="staff"?"":""})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:""}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"text-2xl font-bold text-success-green",children:u}),n.jsx("div",{className:"text-gray-600",children:"/100"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[n.jsxs("span",{children:["Step ",r," / ",Wn]}),n.jsxs("span",{children:[Math.round(r/Wn*100),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-success-green rounded-full h-2 transition-all duration-300",style:{width:`${r/Wn*100}%`}})})]})]})}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsxs("div",{className:"flex-1 flex flex-col max-w-5xl mx-auto w-full",children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(D=>n.jsx("div",{className:`flex ${D.sender==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-md ${D.sender==="user"?"ml-12":"mr-12"}`,children:[n.jsxs("div",{className:`rounded-2xl px-4 py-3 ${D.sender==="user"?"bg-success-green text-white rounded-br-none":"bg-white border border-gray-200 rounded-bl-none"}`,children:[D.sender==="ai"&&n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-sky-blue rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"AI"})}),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"AI"})]}),n.jsx("p",{className:D.sender==="user"?"text-white":"text-gray-900",children:D.content}),n.jsx("div",{className:`text-xs mt-1 ${D.sender==="user"?"text-green-100":"text-gray-500"}`,children:D.timestamp.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),D.sender==="user"&&D.feedback&&n.jsxs("div",{className:`mt-2 px-3 py-2 rounded-lg text-sm flex items-center space-x-2 ${D.feedback.type==="good"?"bg-green-50 text-green-700 border border-green-200":D.feedback.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[n.jsx("span",{children:D.feedback.icon}),n.jsx("span",{children:D.feedback.message})]})]})},D.id)),n.jsx("div",{ref:j})]}),n.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:n.jsx("div",{className:"max-w-3xl mx-auto",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{className:"p-3 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:n.jsx(Kl,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:o,onChange:D=>c(D.target.value),onKeyPress:D=>D.key==="Enter"&&G(),placeholder:"...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-blue"}),n.jsx("button",{onClick:G,className:"px-6 py-3 bg-success-green text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:n.jsx(Yo,{className:"w-5 h-5"})})]})})})]}),n.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 overflow-y-auto hidden lg:block",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),_&&n.jsxs("div",{className:`p-4 rounded-lg mb-4 ${_.type==="good"?"bg-green-50 border border-green-200":_.type==="warning"?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"}`,children:[n.jsx("div",{className:"text-2xl mb-2",children:_.icon}),n.jsx("p",{className:`text-sm ${_.type==="good"?"text-green-700":_.type==="warning"?"text-yellow-700":"text-red-700"}`,children:_.message})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("div",{className:"space-y-2",children:t.objectives.map((D,Q)=>n.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[n.jsx("div",{className:"w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("span",{className:"text-xs",children:Q+1})}),n.jsx("span",{children:D})]},Q))})]})]})]}),n.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:n.jsxs("div",{className:"max-w-5xl mx-auto flex justify-center space-x-3",children:[n.jsxs("button",{onClick:()=>f(!h),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(Gx,{className:"w-4 h-4"}),n.jsx("span",{children:""})]}),n.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(Qo,{className:"w-4 h-4"}),n.jsx("span",{children:""})]}),n.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-6 py-2 bg-vivid-red text-white rounded-lg hover:bg-red-600 transition-colors font-semibold",children:[n.jsx("span",{children:""}),n.jsx($x,{className:"w-4 h-4"})]})]})})]})}const Sr=[{id:"1",title:"",description:"",difficulty:"beginner",category:"",customerType:"",objectives:["","","",""],duration:15,icon:"alert",completed:!0,score:85},{id:"2",title:"",description:"",difficulty:"intermediate",category:"",customerType:"",objectives:["","",""],duration:20,icon:"card",completed:!0,score:92},{id:"3",title:"",description:"",difficulty:"advanced",category:"",customerType:"",objectives:["","",""],duration:25,icon:"message",completed:!1},{id:"4",title:"",description:"",difficulty:"beginner",category:"",customerType:"",objectives:["","",""],duration:10,icon:"phone",completed:!1},{id:"5",title:"",description:"",difficulty:"intermediate",category:"",customerType:"",objectives:["","",""],duration:15,icon:"alert",completed:!1},{id:"6",title:"",description:"",difficulty:"intermediate",category:"",customerType:"",objectives:["","",""],duration:15,icon:"shopping",completed:!1}];function Lu(t){const e={className:"w-8 h-8"};switch(t){case"alert":return n.jsx(xe,{...e});case"card":return n.jsx(kf,{...e});case"message":return n.jsx(Qe,{...e});case"phone":return n.jsx(Qx,{...e});case"shopping":return n.jsx(sy,{...e});default:return n.jsx(Ai,{...e})}}function Du(t){return{beginner:"bg-green-100 text-green-700 border-green-200",intermediate:"bg-orange-100 text-orange-700 border-orange-200",advanced:"bg-red-100 text-red-700 border-red-200"}[t]||"bg-gray-100 text-gray-600 border-gray-200"}function Mu(t){return{beginner:"",intermediate:"",advanced:""}[t]||""}function jy({onBack:t}){const[e,s]=N.useState("staff"),[r,i]=N.useState(null),[a,l]=N.useState(!1),[o,c]=N.useState(!1),u=()=>{r&&(l(!1),c(!0))},d=()=>{c(!1),i(null)},h=g=>{i(g),l(!0)},f=Sr.filter(g=>g.completed).length,w=Sr.filter(g=>g.score).reduce((g,v)=>g+(v.score||0),0)/Sr.filter(g=>g.score).length||0;return o&&r?n.jsx(by,{scenario:r,mode:e,onExit:d}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"AI"})]}),t&&n.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(pr,{className:"w-4 h-4"}),n.jsx("span",{children:""})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:n.jsx(Ai,{className:"w-6 h-6 text-sky-blue"})}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f}),n.jsx("p",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:n.jsx(Sf,{className:"w-6 h-6 text-success-green"})}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Math.round(w)}),n.jsx("p",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:n.jsx(Qe,{className:"w-6 h-6 text-purple-600"})}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Sr.length}),n.jsx("p",{className:"text-sm text-gray-600",children:""})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>s("staff"),className:`flex-1 flex items-center justify-center space-x-3 px-6 py-4 font-semibold transition-all ${e==="staff"?"bg-success-green text-white border-b-2 border-success-green":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(Pu,{className:"w-5 h-5"}),n.jsx("span",{children:""})]}),n.jsxs("button",{onClick:()=>s("customer"),className:`flex-1 flex items-center justify-center space-x-3 px-6 py-4 font-semibold transition-all ${e==="customer"?"bg-sky-blue text-white border-b-2 border-sky-blue":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(or,{className:"w-5 h-5"}),n.jsx("span",{children:""})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:`mb-6 p-4 rounded-lg ${e==="customer"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:e==="customer"?n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sky-blue mb-2",children:""}),n.jsx("p",{className:"text-sm text-blue-700",children:"AI"})]}):n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-success-green mb-2",children:""}),n.jsx("p",{className:"text-sm text-green-700",children:"AI"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Sr.map(g=>n.jsxs("button",{onClick:()=>h(g),className:"bg-white border-2 border-gray-200 rounded-xl p-5 hover:shadow-lg hover:border-sky-blue transition-all duration-200 text-left group",children:[n.jsx("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mb-4 transition-colors ${e==="customer"?"bg-blue-100 text-sky-blue group-hover:bg-sky-blue group-hover:text-white":"bg-green-100 text-success-green group-hover:bg-success-green group-hover:text-white"}`,children:Lu(g.icon)}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:g.title}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${Du(g.difficulty)}`,children:Mu(g.difficulty)}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full border border-gray-200",children:g.category})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(it,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-1",children:g.customerType})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Tu,{className:"w-4 h-4 flex-shrink-0"}),n.jsxs("span",{children:["",g.duration,""]})]})]}),e==="staff"&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:""}),g.completed&&g.score?n.jsxs("span",{className:"text-lg font-bold text-success-green",children:[g.score,""]}):n.jsx("span",{className:"text-sm text-gray-400",children:""})]})})]},g.id))})]})]}),a&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${e==="customer"?"bg-blue-100 text-sky-blue":"bg-green-100 text-success-green"}`,children:Lu(r.icon)}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full border ${Du(r.difficulty)}`,children:Mu(r.difficulty)}),n.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full border border-gray-200",children:r.category})]})]}),n.jsx("button",{onClick:()=>l(!1),className:"ml-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:`p-4 rounded-lg ${e==="customer"?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e==="customer"?n.jsx(or,{className:"w-5 h-5 text-sky-blue"}):n.jsx(Pu,{className:"w-5 h-5 text-success-green"}),n.jsx("span",{className:`font-semibold ${e==="customer"?"text-sky-blue":"text-success-green"}`,children:e==="customer"?"":""})]}),n.jsx("p",{className:"text-sm text-gray-700",children:e==="customer"?"AI":"AI"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-gray-700",children:r.description})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:""}),n.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[n.jsx(it,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{children:r.customerType})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:""}),n.jsx("div",{className:"space-y-2",children:r.objectives.map((g,v)=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${e==="customer"?"bg-blue-100 text-sky-blue":"bg-green-100 text-success-green"}`,children:n.jsx("span",{className:"text-xs font-bold",children:v+1})}),n.jsx("span",{className:"text-gray-700",children:g})]},v))})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[n.jsx(Tu,{className:"w-5 h-5 text-gray-500"}),n.jsxs("span",{children:["",r.duration,""]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-semibold",children:""}),n.jsxs("button",{onClick:u,className:`flex-1 flex items-center justify-center space-x-2 px-6 py-3 text-white rounded-lg transition-colors font-semibold ${e==="customer"?"bg-sky-blue hover:bg-blue-600":"bg-success-green hover:bg-green-600"}`,children:[n.jsx(un,{className:"w-5 h-5"}),n.jsx("span",{children:""})]})]})]})]})})]})}const Oi=class Oi{static async evaluateConversation(e){var s,r,i;try{const a=this.createEvaluationPrompt(e),l=await fetch(`${this.baseUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:a}]}],generationConfig:{temperature:.3,topK:40,topP:.95,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!l.ok)throw new Error(`Gemini API error: ${l.status}`);const c=(i=(r=(s=(await l.json()).candidates[0])==null?void 0:s.content)==null?void 0:r.parts[0])==null?void 0:i.text;if(!c)throw new Error("No evaluation content received from Gemini");return this.parseEvaluationResponse(c,e)}catch(a){return console.error("Gemini evaluation error:",a),this.generateFallbackEvaluation(e)}}static createEvaluationPrompt(e){return`


: ${e.scenario}
: ${Math.floor(e.duration/60)}
:
${e.conversationHistory.map((s,r)=>`${r%2===0?"":""}: ${s}`).join(`
`)}

50-100JSON

1. 
2. 
3. 
4. 
5. 


- 100
- 3
- 3
- tone: positive/neutral/negative, confidence: 0-100, engagement: 0-100


{
  "overallScore": 85,
  "categoryScores": {
    "communication": 80,
    "empathy": 90,
    "problemSolving": 85,
    "productKnowledge": 88,
    "professionalism": 82
  },
  "feedback": "",
  "strengths": ["", "", ""],
  "improvements": ["", "", ""],
  "emotionalAnalysis": {
    "tone": "positive",
    "confidence": 75,
    "engagement": 80
  }
}
`}static parseEvaluationResponse(e,s){var r,i,a,l,o,c,u,d;try{const h=e.match(/\{[\s\S]*\}/);if(h){const f=JSON.parse(h[0]);return{overallScore:f.overallScore||75,categoryScores:{communication:((r=f.categoryScores)==null?void 0:r.communication)||75,empathy:((i=f.categoryScores)==null?void 0:i.empathy)||75,problemSolving:((a=f.categoryScores)==null?void 0:a.problemSolving)||75,productKnowledge:((l=f.categoryScores)==null?void 0:l.productKnowledge)||75,professionalism:((o=f.categoryScores)==null?void 0:o.professionalism)||75},feedback:f.feedback||"AI",strengths:f.strengths||["","",""],improvements:f.improvements||["","",""],emotionalAnalysis:{tone:((c=f.emotionalAnalysis)==null?void 0:c.tone)||"positive",confidence:((u=f.emotionalAnalysis)==null?void 0:u.confidence)||75,engagement:((d=f.emotionalAnalysis)==null?void 0:d.engagement)||75}}}}catch(h){console.error("Failed to parse Gemini response:",h)}return this.generateFallbackEvaluation(s)}static generateFallbackEvaluation(e){const s=e.conversationHistory.length,r=e.userResponses.reduce((a,l)=>a+l.length,0)/e.userResponses.length||0,i=Math.min(90,60+s*2+(r>30?10:0));return{overallScore:i,categoryScores:{communication:Math.max(60,i+Math.floor(Math.random()*10)-5),empathy:Math.max(60,i+Math.floor(Math.random()*10)-5),problemSolving:Math.max(60,i+Math.floor(Math.random()*10)-5),productKnowledge:Math.max(60,i+Math.floor(Math.random()*10)-5),professionalism:Math.max(60,i+Math.floor(Math.random()*10)-5)},feedback:"",strengths:["","",""],improvements:["","",""],emotionalAnalysis:{tone:"positive",confidence:Math.max(60,i),engagement:Math.max(60,i+5)}}}};Oi.apiKey="YOUR_API_KEY",Oi.baseUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent";let ql=Oi;const ue={scenario:"",description:"",duration:300,customerProfile:"20"};function Ny({onComplete:t}){const[e,s]=N.useState(!1),[r,i]=N.useState(!1),[a,l]=N.useState(!1),[o,c]=N.useState(ue.duration),[u,d]=N.useState(""),[h,f]=N.useState(!1),[w,g]=N.useState([]),[v,k]=N.useState([]),[x,m]=N.useState(""),[p,y]=N.useState(""),[j,_]=N.useState([]),[E,b]=N.useState(null),$=N.useRef(null);N.useRef(null);const R=N.useRef(null),G=N.useRef(null);N.useEffect(()=>()=>{G.current&&clearInterval(G.current),I()},[]);const P=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});R.current=O,$.current&&($.current.srcObject=O),l(!0)}catch(O){console.error(":",O),alert("")}},I=()=>{R.current&&(R.current.getTracks().forEach(O=>O.stop()),R.current=null),l(!1)},D=()=>{if(R.current)if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const O=window.SpeechRecognition||window.webkitSpeechRecognition,M=new O;M.continuous=!0,M.interimResults=!0,M.lang="ja-JP",M.onresult=W=>{let te="",yt="";for(let S=W.resultIndex;S<W.results.length;S++){const K=W.results[S][0].transcript;W.results[S].isFinal?te+=K:yt+=K}y(yt),te&&(m(te),y(""),ke(te))},M.onerror=W=>{console.error(":",W.error),i(!1)},M.onend=()=>{i(!1)},M.start(),b(M),i(!0)}else alert("ChromeEdgeSafari")},Q=()=>{E&&r&&(E.stop(),i(!1))},ke=async O=>{try{k(W=>[...W,O]),_(W=>[...W,O]);const M=await Xo.generateResponse(O,"staff",ue.scenario,v);if(d(M),f(!0),k(W=>[...W,M]),"speechSynthesis"in window){const W=new SpeechSynthesisUtterance(M);W.lang="ja-JP",W.rate=.9,W.onend=()=>f(!1),speechSynthesis.speak(W)}g(W=>[...W,M]),m("")}catch(M){console.error("AI:",M);const W="";if(d(W),f(!0),k(te=>[...te,W]),"speechSynthesis"in window){const te=new SpeechSynthesisUtterance(W);te.lang="ja-JP",te.rate=.9,te.onend=()=>f(!1),speechSynthesis.speak(te)}g(te=>[...te,W]),m("")}},Me=async()=>{await P(),s(!0),c(ue.duration),G.current=setInterval(()=>{c(O=>O<=1?(T(),0):O-1)},1e3),setTimeout(async()=>{try{const O="";if(d(O),f(!0),k([O]),"speechSynthesis"in window){const M=new SpeechSynthesisUtterance(O);M.lang="ja-JP",M.rate=.9,M.onend=()=>f(!1),speechSynthesis.speak(M)}}catch{const M="";if(d(M),f(!0),k([M]),"speechSynthesis"in window){const W=new SpeechSynthesisUtterance(M);W.lang="ja-JP",W.rate=.9,W.onend=()=>f(!1),speechSynthesis.speak(W)}}},1e3)},T=async()=>{G.current&&clearInterval(G.current),Q(),I();try{const O=await ql.evaluateConversation({conversationHistory:v,userResponses:j,scenario:ue.scenario,duration:ue.duration-o}),M={...O.categoryScores,overallScore:O.overallScore,feedback:O.feedback,strengths:O.strengths,improvements:O.improvements,emotionalAnalysis:O.emotionalAnalysis,sessionMessages:v,completedAt:new Date};t(M)}catch(O){console.error(":",O);const M={communication:Math.floor(Math.random()*20)+75,empathy:Math.floor(Math.random()*20)+70,problemSolving:Math.floor(Math.random()*20)+80,productKnowledge:Math.floor(Math.random()*20)+85,professionalism:Math.floor(Math.random()*20)+78,sessionMessages:v,completedAt:new Date};t(M)}},z=()=>{G.current&&clearInterval(G.current),Q(),I(),s(!1),c(ue.duration),d(""),k([]),g([]),m(""),y(""),_([])},F=O=>{const M=Math.floor(O/60),W=O%60;return`${M}:${W.toString().padStart(2,"0")}`};return e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:ue.scenario})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-vivid-red",children:F(o)}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]}),n.jsx("button",{onClick:T,className:"px-4 py-2 bg-sunshine-yellow text-charcoal-gray rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:""}),n.jsx("button",{onClick:z,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Qo,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),n.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:[n.jsx("video",{ref:$,autoPlay:!0,muted:!0,className:"w-full h-full object-cover"}),!a&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx(ri,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm opacity-75",children:"..."})]})}),n.jsx("div",{className:"absolute top-4 right-4 flex space-x-2",children:r&&n.jsx("div",{className:"w-3 h-3 bg-vivid-red rounded-full animate-pulse"})})]}),n.jsx("div",{className:"flex items-center justify-center space-x-4 mt-4",children:n.jsxs("button",{onClick:r?Q:D,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${r?"bg-vivid-red text-white hover:bg-red-600":"bg-success-green text-white hover:bg-emerald-green"}`,children:[r?n.jsx(ry,{className:"w-4 h-4"}):n.jsx(Kl,{className:"w-4 h-4"}),n.jsx("span",{children:r?"":""})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI "}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 min-h-32",children:[n.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[v.map((O,M)=>n.jsxs("div",{className:`p-3 rounded-lg ${M%2===1?"bg-blue-50 border-l-4 border-sky-blue":"bg-yellow-50 border-l-4 border-sunshine-yellow"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${M%2===1?"bg-sky-blue":"bg-sunshine-yellow"}`,children:n.jsx("span",{className:"text-xs font-medium text-white",children:M%2===1?"":""})}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:M%2===1?"":"AI"})]}),n.jsx("p",{className:"text-sm text-gray-700",children:O})]},M)),(p||x)&&n.jsxs("div",{className:"p-3 bg-blue-50 border-l-4 border-sky-blue rounded-lg opacity-75",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-sky-blue rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-white",children:""})}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",p?"- ":""]})]}),n.jsx("p",{className:"text-sm text-gray-700",children:p||x})]}),h&&n.jsxs("div",{className:"p-3 bg-yellow-50 border-l-4 border-sunshine-yellow rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-sunshine-yellow rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-charcoal-gray",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"AI"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-sunshine-yellow rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-sunshine-yellow rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-sunshine-yellow rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),n.jsx("p",{className:"text-sm text-gray-700",children:u||"..."})]})]}),v.length===0&&!x&&!p&&n.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border-l-4 border-sky-blue",children:n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-sky-blue rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-white",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"..."})]})})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-sky-blue mb-2",children:""}),n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:ue.description}),n.jsxs("p",{className:"text-xs text-gray-600",children:[" ",ue.customerProfile]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:""}),n.jsxs("span",{className:"text-sm text-gray-600",children:[F(ue.duration-o)," / ",F(ue.duration)]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-sky-blue to-lime-green transition-all duration-1000",style:{width:`${(ue.duration-o)/ue.duration*100}%`}})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-sky-blue",children:w.length}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-success-green",children:r?"":""}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-sunshine-yellow",children:a?"ON":"OFF"}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-vivid-red",children:[Math.floor((ue.duration-o)/ue.duration*100),"%"]}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]})]})]})]}),o<=30&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-sunshine-yellow rounded-full animate-pulse"}),n.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:["",o,""]})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:"AI"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-vivid-red to-red-600 rounded-xl flex items-center justify-center",children:n.jsx(ri,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600",children:"AI"})]})]}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-semibold text-vivid-red mb-2",children:""}),n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:ue.scenario}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:ue.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{children:[" ",ue.customerProfile]}),n.jsxs("span",{children:[" ",Math.floor(ue.duration/60),""]})]})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ri,{className:"w-5 h-5 text-sky-blue"}),n.jsx("span",{className:"text-sm text-gray-700",children:""})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Kl,{className:"w-5 h-5 text-success-green"}),n.jsx("span",{className:"text-sm text-gray-700",children:""})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(un,{className:"w-5 h-5 text-sunshine-yellow"}),n.jsx("span",{className:"text-sm text-gray-700",children:"AI"})]})]}),n.jsxs("button",{onClick:Me,className:"w-full flex items-center justify-center space-x-3 px-6 py-4 bg-vivid-red text-white rounded-lg hover:bg-red-600 transition-colors font-semibold text-lg",children:[n.jsx(un,{className:"w-6 h-6"}),n.jsx("span",{children:""})]})]})]})}const Hn=[{id:"1",title:"",description:"",type:"strength",estimatedDuration:30,scenarios:["1","2"],tags:["",""]},{id:"2",title:"",description:"",type:"strength",estimatedDuration:45,scenarios:["2","3"],tags:["",""]},{id:"3",title:"",description:"",type:"improvement",estimatedDuration:25,scenarios:["3"],tags:["",""]}],Er=[{date:new Date("2024-01-01"),scores:{communication:65,productKnowledge:70,empathy:80,professionalism:60,problemSolving:55}},{date:new Date("2024-01-15"),scores:{communication:72,productKnowledge:75,empathy:85,professionalism:68,problemSolving:62}},{date:new Date("2024-02-01"),scores:{communication:78,productKnowledge:82,empathy:88,professionalism:75,problemSolving:70}}],ky=[{skill:"",userScore:78,averageScore:65,percentile:75},{skill:"",userScore:82,averageScore:70,percentile:80},{skill:"",userScore:88,averageScore:72,percentile:90},{skill:"",userScore:75,averageScore:68,percentile:70},{skill:"",userScore:70,averageScore:75,percentile:45}],_y=[{id:"1",title:"",situation:"20",innovation:"",result:"",learning:"",tags:["#","#","#","#"],author:{name:" ",department:"",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},visibility:"public",eventId:"1",reactions:{like:24,empathy:18,helpful:32},comments:[{id:"1",author:{name:" ",department:"",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},content:"",createdAt:new Date("2024-01-20T10:30:00")}],views:156,createdAt:new Date("2024-01-18T14:20:00"),aiSummary:"",isApprovedForAI:!0},{id:"2",title:"",situation:"10",innovation:"",result:"SNS",learning:"",tags:["#","#","#","#"],author:{name:" ",department:"",avatar:"https://images.pexels.com/photos/762020/pexels-photo-762020.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},visibility:"public",eventId:"1",reactions:{like:45,empathy:38,helpful:52},comments:[{id:"2",author:{name:" ",department:"",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},content:"",createdAt:new Date("2024-01-19T16:45:00")}],views:298,createdAt:new Date("2024-01-19T11:15:00"),aiSummary:"",isApprovedForAI:!0},{id:"3",title:"",situation:"40",innovation:"",result:"",learning:"",tags:["#","#","#","#"],author:{name:" ",department:"",avatar:"https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},visibility:"department",targetDepartment:"",reactions:{like:19,empathy:35,helpful:28},comments:[],views:89,createdAt:new Date("2024-01-16T09:30:00"),aiSummary:""}],ia=["#","#","#","#","#","#","#","#","#","#","#","#","#QR","#","#","#"],Ef=["","","","","","","","","",""],Cf=["","","","","","","",""];function Sy({scores:t}){const e=[{key:"communication",label:"",value:t.communication},{key:"empathy",label:"",value:t.empathy},{key:"problemSolving",label:"",value:t.problemSolving},{key:"productKnowledge",label:"",value:t.productKnowledge},{key:"professionalism",label:"",value:t.professionalism}],s=100,r=a=>{const l={communication:"",empathy:"",problemSolving:"",productKnowledge:"",professionalism:""};return ky.find(o=>o.skill===l[a])},i=(a,l)=>{const o=a-l;return o>5?n.jsx(ra,{className:"w-4 h-4 text-success-green"}):o<-5?n.jsx(ny,{className:"w-4 h-4 text-vivid-red"}):n.jsx(Kx,{className:"w-4 h-4 text-gray-400"})};return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:""}),n.jsx("div",{className:"space-y-4",children:e.map(a=>{const l=a.value/s*100,o=r(a.key);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.label}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-bold text-gray-900",children:a.value}),o&&i(a.value,o.averageScore)]})]}),n.jsxs("div",{className:"relative w-full bg-gray-200 rounded-full h-3",children:[o&&n.jsx("div",{className:"absolute top-0 h-3 w-0.5 bg-gray-400 rounded-full",style:{left:`${o.averageScore/s*100}%`},title:`: ${o.averageScore}`}),n.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ${o&&a.value>o.averageScore?"bg-gradient-to-r from-success-green to-emerald-green":"bg-gradient-to-r from-sky-blue to-blue-500"}`,style:{width:`${l}%`}})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{className:"text-gray-500",children:[l>=90&&"",l>=80&&l<90&&"",l>=70&&l<80&&"",l>=60&&l<70&&"",l<60&&""]}),o&&n.jsxs("span",{className:"text-gray-400",children:[" ",o.averageScore," | ",100-o.percentile,"%"]})]})]},a.key)})}),n.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-50 to-yellow-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:""}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"text-2xl font-bold text-vivid-red",children:Math.round(Object.values(t).reduce((a,l)=>a+l,0)/Object.values(t).length)}),n.jsx("div",{className:"text-sm text-gray-600",children:"/100"}),n.jsx("div",{className:"ml-4 text-sm text-gray-600",children:": 75"})]})]})]})}function Ey({evaluationData:t}){const e=[{key:"communication",label:"",score:t.communication},{key:"empathy",label:"",score:t.empathy},{key:"problemSolving",label:"",score:t.problemSolving},{key:"productKnowledge",label:"",score:t.productKnowledge},{key:"professionalism",label:"",score:t.professionalism}],s=e.reduce((l,o)=>l.score>o.score?l:o),r=e.reduce((l,o)=>l.score<o.score?l:o),i=Hn.find(l=>l.type==="strength"&&l.targetSkill===s.key)||Hn.find(l=>l.type==="strength"),a=Hn.find(l=>l.type==="improvement"&&l.targetSkill===r.key)||Hn.find(l=>l.type==="improvement");return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Ai,{className:"w-6 h-6 text-vivid-red"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i&&n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-lime-50 rounded-lg p-6 border border-green-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(Sf,{className:"w-5 h-5 text-success-green"}),n.jsx("span",{className:"px-3 py-1 bg-green-100 text-success-green text-xs font-medium rounded-full",children:""})]}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:i.description}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:":"}),n.jsxs("span",{className:"font-medium text-success-green",children:[s.label," (",s.score,")"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:":"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[i.estimatedDuration,""]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:":"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[i.scenarios.length,""]})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tags.map((l,o)=>n.jsx("span",{className:"text-xs bg-white text-success-green px-2 py-1 rounded border border-green-200",children:l},o))}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-success-green text-white rounded-lg hover:bg-emerald-green transition-colors font-medium",children:[n.jsx(un,{className:"w-4 h-4"}),n.jsx("span",{children:""})]})]}),a&&n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-sky-50 rounded-lg p-6 border border-blue-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(Ai,{className:"w-5 h-5 text-sky-blue"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-sky-blue text-xs font-medium rounded-full",children:""})]}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.title}),n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:a.description}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:":"}),n.jsxs("span",{className:"font-medium text-sky-blue",children:[r.label," (",r.score,")"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:":"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[a.estimatedDuration,""]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:":"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[a.scenarios.length,""]})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.tags.map((l,o)=>n.jsx("span",{className:"text-xs bg-white text-sky-blue px-2 py-1 rounded border border-blue-200",children:l},o))}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:[n.jsx(un,{className:"w-4 h-4"}),n.jsx("span",{children:""})]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsx("h4",{className:"font-medium text-sunshine-yellow mb-2",children:" "}),n.jsxs("p",{className:"text-sm text-gray-700",children:[" ",s.label,""]})]})]})}function Cy(){const t=Er[Er.length-1],e=Er[Er.length-2],s={communication:"",empathy:"",problemSolving:"",productKnowledge:"",professionalism:""},r=l=>e?t.scores[l]-e.scores[l]:0,i=l=>l>0?"text-success-green":l<0?"text-vivid-red":"text-gray-500",a=l=>l>0?"":l<0?"":"";return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[n.jsx(ra,{className:"w-5 h-5 text-sky-blue"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-success-green",children:Er.length}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-success-green",children:Math.round(Object.values(t.scores).reduce((l,o)=>l+o,0)/5)}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:""}),Object.entries(s).map(([l,o])=>{const c=r(l),u=t.scores[l];return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:o}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-bold text-gray-900",children:u}),n.jsxs("span",{className:`text-sm font-medium ${i(c)}`,children:[a(c)," ",Math.abs(c)]})]})]},l)})]}),n.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-yellow-50 to-red-50 rounded-lg border border-yellow-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ae,{className:"w-4 h-4 text-sunshine-yellow"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:""})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"1"})]})]})]})}function Py({evaluationData:t,onRetakeDiagnosis:e}){const s=t.overallScore||Math.round(Object.values(t).slice(0,5).reduce((a,l)=>a+l,0)/5),i=(a=>{if(t.feedback&&t.strengths&&t.improvements)return{strengths:t.strengths,improvements:t.improvements};const l=[],o=[];return a.productKnowledge>=85&&l.push(""),a.professionalism>=85&&l.push(""),a.empathy>=85&&l.push(""),a.communication<80&&o.push(""),a.problemSolving<80&&o.push(""),a.empathy<80&&o.push(""),{strengths:l,improvements:o}})(t);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})}),n.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(Qo,{className:"w-4 h-4"}),n.jsx("span",{children:""})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-red-50 to-yellow-50 rounded-xl p-6 border border-red-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-vivid-red mb-2",children:s}),n.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-1",children:""}),t.feedback?n.jsx("div",{className:"text-sm text-gray-700 max-w-2xl mx-auto",children:t.feedback}):n.jsxs("div",{className:"text-sm text-gray-600",children:[s>=90&&"",s>=80&&s<90&&"",s>=70&&s<80&&"",s<70&&""]}),t.emotionalAnalysis&&n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-sky-blue",children:t.emotionalAnalysis.confidence}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-success-green",children:t.emotionalAnalysis.engagement}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-sunshine-yellow",children:t.emotionalAnalysis.tone==="positive"?"":t.emotionalAnalysis.tone==="negative"?"":""}),n.jsx("div",{className:"text-xs text-gray-600",children:""})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(Sy,{scores:t})}),n.jsxs("div",{className:"space-y-6",children:[i.strengths.length>0&&n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(Vl,{className:"w-5 h-5 text-success-green"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:""})]}),n.jsx("div",{className:"space-y-3",children:i.strengths.map((a,l)=>n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-success-green rounded-full mt-2 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-gray-700",children:a})]},l))})]}),i.improvements.length>0&&n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(ra,{className:"w-5 h-5 text-sunshine-yellow"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:""})]}),n.jsx("div",{className:"space-y-3",children:i.improvements.map((a,l)=>n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-sunshine-yellow rounded-full mt-2 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-gray-700",children:a})]},l))})]})]})]}),n.jsx(Ey,{evaluationData:t}),n.jsx(Cy,{}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(Ae,{className:"w-5 h-5 text-sky-blue"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-sky-blue",children:t.sessionMessages.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"AI"})]}),n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"text-lg font-bold text-lime-green",children:[Math.floor(300/60),""]}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-sunshine-yellow",children:"+"}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]})]})}function Ty(){const[t,e]=N.useState("diagnosis"),[s,r]=N.useState(null),i=l=>{r(l),e("results")},a=()=>{e("diagnosis"),r(null)};return n.jsx("div",{className:"min-h-0",children:t==="diagnosis"?n.jsx(Ny,{onComplete:i}):n.jsx(Py,{evaluationData:s,onRetakeDiagnosis:a})})}function Ay({onSubmit:t,onCancel:e}){const[s,r]=N.useState({title:"",situation:"",innovation:"",result:"",learning:"",tags:[],visibility:"public"}),[i,a]=N.useState(""),[l,o]=N.useState(!1),[c,u]=N.useState({}),[d,h]=N.useState([]),[f,w]=N.useState(!1),g=(y,j)=>{r(_=>({..._,[y]:j})),c[y]&&u(_=>({..._,[y]:""})),(y==="title"||y==="situation"||y==="innovation")&&setTimeout(()=>{const _=[];(j.includes("")||j.includes(""))&&_.push("#","#"),(j.includes("")||j.includes(""))&&_.push("#","#"),(j.includes("")||j.includes(""))&&_.push("#","#"),h(_)},500)},v=y=>{!s.tags.includes(y)&&s.tags.length<8&&r(j=>({...j,tags:[...j.tags,y]})),a(""),o(!1)},k=y=>{r(j=>({...j,tags:j.tags.filter(_=>_!==y)}))},x=()=>{const y={};return s.title.trim()||(y.title=""),s.situation.trim()||(y.situation=""),s.innovation.trim()||(y.innovation=""),s.result.trim()||(y.result=""),s.learning.trim()||(y.learning=""),s.tags.length===0&&(y.tags="1"),s.visibility==="department"&&!s.targetDepartment&&(y.targetDepartment=""),s.visibility==="theme"&&!s.targetTheme&&(y.targetTheme=""),u(y),Object.keys(y).length===0},m=y=>{y.preventDefault(),x()&&t(s)},p=ia.filter(y=>y.toLowerCase().includes(i.toLowerCase())&&!s.tags.includes(y));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:""})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(js,{className:"w-5 h-5 text-sky-blue mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-sky-blue mb-1",children:"AI"}),n.jsx("p",{className:"text-sm text-blue-700",children:"AI "})]})]})}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ty,{className:"w-5 h-5 text-success-green mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-success-green mb-1",children:"AI"}),n.jsx("p",{className:"text-sm text-green-700",children:""})]})]})}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("input",{type:"text",value:s.title,onChange:y=>g("title",y.target.value),placeholder:"",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.title?"border-red-300":"border-gray-300"}`,maxLength:100}),c.title&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:c.title})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:s.situation,onChange:y=>g("situation",y.target.value),placeholder:"20",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.situation?"border-red-300":"border-gray-300"}`,maxLength:500}),c.situation&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:c.situation})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:s.innovation,onChange:y=>g("innovation",y.target.value),placeholder:"",rows:4,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.innovation?"border-red-300":"border-gray-300"}`,maxLength:1e3}),c.innovation&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:c.innovation})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:s.result,onChange:y=>g("result",y.target.value),placeholder:"",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.result?"border-red-300":"border-gray-300"}`,maxLength:500}),c.result&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:c.result})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:s.learning,onChange:y=>g("learning",y.target.value),placeholder:"",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.learning?"border-red-300":"border-gray-300"}`,maxLength:500}),c.learning&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:c.learning})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-4",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"8"})]}),d.length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(na,{className:"w-4 h-4 text-sky-blue"}),n.jsx("span",{className:"text-sm font-medium text-sky-blue",children:"AI"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(y=>n.jsxs("button",{type:"button",onClick:()=>v(y),className:"px-3 py-1 bg-sky-blue text-white text-sm rounded-full hover:bg-blue-600 transition-colors",children:["+ ",y]},y))})]}),s.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.map(y=>n.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-sky-blue text-white text-sm rounded-full",children:[n.jsx("span",{children:y}),n.jsx("button",{type:"button",onClick:()=>k(y),className:"text-white hover:text-gray-200",children:""})]},y))}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:i,onChange:y=>a(y.target.value),onFocus:()=>o(!0),placeholder:"...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",onKeyPress:y=>{y.key==="Enter"&&(y.preventDefault(),i.trim()&&!i.startsWith("#")?v("#"+i.trim()):i.trim()&&v(i.trim()))}}),l&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:p.length>0?p.map(y=>n.jsx("button",{type:"button",onClick:()=>v(y),className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",children:y},y)):n.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:""})})]}),c.tags&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:c.tags})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-4",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"radio",name:"visibility",value:"public",checked:s.visibility==="public",onChange:y=>g("visibility",y.target.value),className:"text-sky-blue focus:ring-sky-blue"}),n.jsx(lr,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:""}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"radio",name:"visibility",value:"department",checked:s.visibility==="department",onChange:y=>g("visibility",y.target.value),className:"text-sky-blue focus:ring-sky-blue"}),n.jsx(ta,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:""}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"radio",name:"visibility",value:"theme",checked:s.visibility==="theme",onChange:y=>g("visibility",y.target.value),className:"text-sky-blue focus:ring-sky-blue"}),n.jsx(it,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:""}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]}),s.visibility==="department"&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("select",{value:s.targetDepartment||"",onChange:y=>g("targetDepartment",y.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.targetDepartment?"border-red-300":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:""}),Ef.map(y=>n.jsx("option",{value:y,children:y},y))]}),c.targetDepartment&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.targetDepartment})]}),s.visibility==="theme"&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("select",{value:s.targetTheme||"",onChange:y=>g("targetTheme",y.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${c.targetTheme?"border-red-300":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:""}),Cf.map(y=>n.jsx("option",{value:y,children:y},y))]}),c.targetTheme&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.targetTheme})]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:f,onChange:y=>w(y.target.checked),className:"mt-1 text-sky-blue focus:ring-sky-blue"}),n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:""}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" AI"})]})]})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:""}),n.jsx("button",{type:"submit",disabled:!f,className:"flex-1 px-6 py-3 bg-vivid-red text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:""})]})]})]})}function Oy({post:t,onReaction:e,onClick:s}){const i=(()=>{switch(t.visibility){case"public":return{icon:lr,label:"",color:"text-green-600 bg-green-100"};case"department":return{icon:ta,label:t.targetDepartment||"",color:"text-blue-600 bg-blue-100"};case"theme":return{icon:it,label:t.targetTheme||"",color:"text-purple-600 bg-purple-100"};default:return{icon:lr,label:"",color:"text-gray-600 bg-gray-100"}}})(),a=i.icon;t.reactions.like+t.reactions.empathy+t.reactions.helpful;const l=(o,c)=>{o.stopPropagation(),e(t.id,c)};return n.jsxs("div",{onClick:s,className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:t.author.avatar,alt:t.author.name,className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:t.author.name}),n.jsx("div",{className:"text-sm text-gray-600",children:t.author.department})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 text-xs font-medium rounded-full ${i.color}`,children:[n.jsx(a,{className:"w-3 h-3"}),n.jsx("span",{children:i.label})]}),t.isApprovedForAI&&n.jsxs("span",{className:"inline-flex items-center space-x-1 px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:[n.jsx(js,{className:"w-3 h-3"}),n.jsx("span",{children:"AI"})]}),new Date().getTime()-t.createdAt.getTime()<24*60*60*1e3&&n.jsx("span",{className:"inline-flex items-center space-x-1 px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-vivid-red",children:n.jsx("span",{children:"NEW"})}),n.jsx(_t,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-sky-blue transition-colors",children:t.title}),t.aiSummary&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(js,{className:"w-4 h-4 text-sky-blue mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-sky-blue mb-1",children:"AI"}),n.jsx("p",{className:"text-sm text-blue-700",children:t.aiSummary})]})]})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:""}),n.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:t.situation})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:""}),n.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:t.innovation})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.tags.slice(0,4).map((o,c)=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:o},c)),t.tags.length>4&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded-md",children:["+",t.tags.length-4,""]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:o=>l(o,"like"),className:`flex items-center space-x-1 px-2 py-1 rounded-md text-sm transition-colors ${t.userReaction==="like"?"bg-blue-100 text-sky-blue":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(wn,{className:"w-4 h-4"}),n.jsx("span",{children:t.reactions.like})]}),n.jsxs("button",{onClick:o=>l(o,"empathy"),className:`flex items-center space-x-1 px-2 py-1 rounded-md text-sm transition-colors ${t.userReaction==="empathy"?"bg-red-100 text-vivid-red":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(Go,{className:"w-4 h-4"}),n.jsx("span",{children:t.reactions.empathy})]}),n.jsxs("button",{onClick:o=>l(o,"helpful"),className:`flex items-center space-x-1 px-2 py-1 rounded-md text-sm transition-colors ${t.userReaction==="helpful"?"bg-yellow-100 text-sunshine-yellow":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(Jo,{className:"w-4 h-4"}),n.jsx("span",{children:t.reactions.helpful})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 text-sm",children:[n.jsx(Qe,{className:"w-4 h-4"}),n.jsx("span",{children:t.comments.length})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ti,{className:"w-4 h-4"}),n.jsx("span",{children:t.views})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ae,{className:"w-4 h-4"}),n.jsx("span",{children:t.createdAt.toLocaleDateString("ja-JP")})]})]})]})]})}function Iy({post:t,onBack:e,onReaction:s}){const[r,i]=N.useState(""),[a,l]=N.useState(t.comments),c=(()=>{switch(t.visibility){case"public":return{icon:lr,label:"",color:"text-green-600 bg-green-100"};case"department":return{icon:ta,label:t.targetDepartment||"",color:"text-blue-600 bg-blue-100"};case"theme":return{icon:it,label:t.targetTheme||"",color:"text-purple-600 bg-purple-100"};default:return{icon:lr,label:"",color:"text-gray-600 bg-gray-100"}}})(),u=c.icon,d=f=>{if(f.preventDefault(),!r.trim())return;const w={id:Date.now().toString(),author:{name:" ",department:"",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},content:r,createdAt:new Date};l([...a,w]),i("")},h=f=>{s(t.id,f)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex-1",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Zx,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Rx,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:t.author.avatar,alt:t.author.name,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:t.author.name}),n.jsx("div",{className:"text-sm text-gray-600",children:t.author.department})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium rounded-full ${c.color}`,children:[n.jsx(u,{className:"w-4 h-4"}),n.jsx("span",{children:c.label})]}),t.isApprovedForAI&&n.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-700",children:[n.jsx(js,{className:"w-4 h-4"}),n.jsx("span",{children:"AI"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ae,{className:"w-4 h-4"}),n.jsx("span",{children:t.createdAt.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ti,{className:"w-4 h-4"}),n.jsxs("span",{children:[t.views," "]})]})]})]}),t.aiSummary&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(js,{className:"w-6 h-6 text-sky-blue mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sky-blue mb-2",children:"AI"}),n.jsx("p",{className:"text-blue-700",children:t.aiSummary})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[n.jsx("span",{className:"w-6 h-6 bg-blue-100 text-sky-blue rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),n.jsx("span",{children:""})]}),n.jsx("p",{className:"text-gray-700 leading-relaxed pl-8",children:t.situation})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[n.jsx("span",{className:"w-6 h-6 bg-green-100 text-success-green rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),n.jsx("span",{children:""})]}),n.jsx("p",{className:"text-gray-700 leading-relaxed pl-8",children:t.innovation})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[n.jsx("span",{className:"w-6 h-6 bg-yellow-100 text-sunshine-yellow rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),n.jsx("span",{children:""})]}),n.jsx("p",{className:"text-gray-700 leading-relaxed pl-8",children:t.result})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[n.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),n.jsx("span",{children:""})]}),n.jsx("p",{className:"text-gray-700 leading-relaxed pl-8",children:t.learning})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((f,w)=>n.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-gray-200 cursor-pointer transition-colors",children:f},w))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(Qe,{className:"w-5 h-5"}),n.jsxs("span",{children:[" (",a.length,")"]})]}),n.jsx("form",{onSubmit:d,className:"mb-6",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("img",{src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",alt:"",className:"w-8 h-8 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{value:r,onChange:f=>i(f.target.value),placeholder:"...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent resize-none"}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsxs("button",{type:"submit",disabled:!r.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-sky-blue text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(Yo,{className:"w-4 h-4"}),n.jsx("span",{children:""})]})})]})]})}),n.jsx("div",{className:"space-y-4",children:a.map(f=>n.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:f.author.avatar,alt:f.author.name,className:"w-8 h-8 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900",children:f.author.name}),n.jsx("span",{className:"text-sm text-gray-500",children:f.author.department}),n.jsx("span",{className:"text-sm text-gray-400",children:f.createdAt.toLocaleDateString("ja-JP")})]}),n.jsx("p",{className:"text-gray-700",children:f.content})]})]},f.id))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>h("like"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${t.userReaction==="like"?"bg-blue-50 border-sky-blue text-sky-blue":"border-gray-200 hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(wn,{className:"w-5 h-5"}),n.jsx("span",{children:""})]}),n.jsx("span",{className:"font-semibold",children:t.reactions.like})]}),n.jsxs("button",{onClick:()=>h("empathy"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${t.userReaction==="empathy"?"bg-red-50 border-vivid-red text-vivid-red":"border-gray-200 hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Go,{className:"w-5 h-5"}),n.jsx("span",{children:""})]}),n.jsx("span",{className:"font-semibold",children:t.reactions.empathy})]}),n.jsxs("button",{onClick:()=>h("helpful"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${t.userReaction==="helpful"?"bg-yellow-50 border-sunshine-yellow text-sunshine-yellow":"border-gray-200 hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Jo,{className:"w-5 h-5"}),n.jsx("span",{children:""})]}),n.jsx("span",{className:"font-semibold",children:t.reactions.helpful})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:""}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:""}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:""})]}),n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:""}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:""})]})]})]})]})]})]})}async function Uu(){const{data:t,error:e}=await ct.from("community_posts").select("*").order("created_at",{ascending:!1}).returns();if(e)throw console.error("Failed to fetch community_posts:",e.message,"code:",e.code,"details:",e.details),new Error(e.message||"fetchOtherCasePosts failed");if(!t||t.length===0)return[];const s=Array.from(new Set((t||[]).map(i=>i.author_id))).filter(Boolean);let r=new Map;if(s.length>0){const{data:i,error:a}=await ct.from("users").select("id,name,department,avatar").in("id",s).returns();if(a)console.error("Failed to fetch users for community_posts:",a.message);else if(i)for(const l of i)r.set(l.id,l)}return(t||[]).map(i=>{const a=r.get(i.author_id);return{id:i.id,title:i.title,situation:i.situation,innovation:i.innovation,result:i.result,learning:i.learning,tags:Array.isArray(i.tags)?i.tags:[],author:{name:(a==null?void 0:a.name)||"",department:(a==null?void 0:a.department)||"",avatar:(a==null?void 0:a.avatar)||"https://placehold.co/80x80"},visibility:i.visibility||"public",eventId:void 0,reactions:{like:i.like_count??0,empathy:i.empathy_count??0,helpful:i.helpful_count??0},comments:[],views:i.views??0,createdAt:new Date(i.created_at),aiSummary:i.ai_summary||void 0,isApprovedForAI:!!i.is_approved_for_ai}})}async function Pf(t){const{authorId:e,title:s,eventName:r,hook:i,pitch:a,card:l,memo:o,tags:c}=t,u={author_id:e,category:"other",title:s,situation:i,approach:a,result:l,notes:o||null,tags:c};r&&(u.event_title=r);const{error:d}=await ct.from("case_posts").insert([u]);return d?(console.error("Failed to insert other case post:",d.message,"code:",d.code,"details:",d.details),!1):!0}async function $y(){const{data:t,error:e}=await ct.from("case_posts").select("id,author_id,title,event_title,situation,approach,result,notes,tags,like_count,helpful_count,created_at").eq("category","other").order("created_at",{ascending:!1});return e?(console.error("fetchRawCasePosts error:",e),[]):t||[]}function Ry({reloadKey:t=0}){const{user:e}=vn(),[s,r]=N.useState("list"),[i,a]=N.useState(null),[l,o]=N.useState([]),[c,u]=N.useState(!0),[d,h]=N.useState(null);N.useEffect(()=>{(async()=>{console.log("Community: Loading posts from database..."),u(!0),h(null);try{const I=await Uu();console.log("Community: Loaded posts:",I),o(I)}catch(I){console.error("Community: Error loading posts:",I),h("")}finally{u(!1)}})()},[t]);const[f,w]=N.useState(""),[g,v]=N.useState([]),[k,x]=N.useState("latest"),[m,p]=N.useState("all"),[y,j]=N.useState(!1),[_,E]=N.useState([{id:"1",type:"reaction",message:"",timestamp:new Date("2024-01-20T10:30:00"),read:!1},{id:"2",type:"ai_adoption",message:"AI",timestamp:new Date("2024-01-19T15:45:00"),read:!1}]),b=async P=>{if(!e||e.id==="guest"){alert("");return}try{if(await Pf({authorId:e.id,title:P.title,situation:P.situation,approach:P.innovation,result:P.result,notes:P.learning,tags:P.tags})){const D=await Uu();o(D),r("list")}else alert("")}catch(I){console.error(":",I),alert("")}},$=(P,I)=>{o(l.map(D=>{if(D.id===P){const Q={...D.reactions};return D.userReaction&&Q[D.userReaction]--,D.userReaction!==I?(Q[I]++,{...D,reactions:Q,userReaction:I}):{...D,reactions:Q,userReaction:null}}return D}))},R=l.filter(P=>!(f&&!P.title.toLowerCase().includes(f.toLowerCase())&&!P.situation.toLowerCase().includes(f.toLowerCase())&&!P.tags.some(I=>I.toLowerCase().includes(f.toLowerCase()))||g.length>0&&!g.some(I=>P.tags.includes(I))||m!=="all"&&P.visibility!==m)).sort((P,I)=>{switch(k){case"popular":const D=P.reactions.like+P.reactions.empathy+P.reactions.helpful;return I.reactions.like+I.reactions.empathy+I.reactions.helpful-D;case"views":return I.views-P.views;case"trending":const ke=(P.reactions.like+P.reactions.empathy+P.reactions.helpful)*2+P.views;return(I.reactions.like+I.reactions.empathy+I.reactions.helpful)*2+I.views-ke;case"latest":default:return I.createdAt.getTime()-P.createdAt.getTime()}}),G=ia.slice(0,8);return l.reduce((P,I)=>P+I.reactions.like+I.reactions.empathy+I.reactions.helpful,0),_.filter(P=>!P.read).length,s==="create"?n.jsx(Ay,{onSubmit:b,onCancel:()=>r("list")}):s==="detail"&&i?n.jsx(Iy,{post:i,onBack:()=>r("list"),onReaction:$}):n.jsxs("div",{className:"space-y-6 w-full max-w-full overflow-x-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-red-50 rounded-xl p-6 border border-yellow-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Vl,{className:"w-6 h-6 text-sunshine-yellow"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"TOP3"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.sort((P,I)=>{const D=P.reactions.like+P.reactions.empathy+P.reactions.helpful;return I.reactions.like+I.reactions.empathy+I.reactions.helpful-D}).slice(0,3).map((P,I)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-sm font-bold ${I===0?"bg-sunshine-yellow":I===1?"bg-gray-400":"bg-orange-500"}`,children:I+1}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.author.department})]}),n.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-2 line-clamp-2",children:P.title}),n.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[n.jsxs("span",{children:[P.reactions.like+P.reactions.empathy+P.reactions.helpful," "]}),n.jsxs("span",{children:[P.views," "]})]})]},P.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:n.jsx(Qe,{className:"w-5 h-5 text-vivid-red"})}),n.jsx("div",{className:"text-xl font-bold text-gray-900",children:l.length}),n.jsx("p",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 text-center",children:[n.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:n.jsx(js,{className:"w-5 h-5 text-sunshine-yellow"})}),n.jsx("div",{className:"text-xl font-bold text-gray-900",children:l.filter(P=>P.isApprovedForAI).length}),n.jsx("p",{className:"text-sm text-gray-600",children:"AI"})]})]}),n.jsxs("div",{className:"hidden bg-gradient-to-r from-yellow-50 to-red-50 rounded-xl p-6 border border-yellow-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Vl,{className:"w-6 h-6 text-sunshine-yellow"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"TOP3"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.sort((P,I)=>{const D=P.reactions.like+P.reactions.empathy+P.reactions.helpful;return I.reactions.like+I.reactions.empathy+I.reactions.helpful-D}).slice(0,3).map((P,I)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-sm font-bold ${I===0?"bg-sunshine-yellow":I===1?"bg-gray-400":"bg-orange-500"}`,children:I+1}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.author.department})]}),n.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-2 line-clamp-2",children:P.title}),n.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[n.jsxs("span",{children:[P.reactions.like+P.reactions.empathy+P.reactions.helpful," "]}),n.jsxs("span",{children:[P.views," "]})]})]},P.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"...",value:f,onChange:P=>w(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:k,onChange:P=>x(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",children:[n.jsx("option",{value:"latest",children:""}),n.jsx("option",{value:"popular",children:""}),n.jsx("option",{value:"trending",children:""}),n.jsx("option",{value:"views",children:""})]}),n.jsxs("select",{value:m,onChange:P=>p(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"public",children:""}),n.jsx("option",{value:"department",children:""}),n.jsx("option",{value:"theme",children:""})]}),n.jsx("button",{onClick:()=>j(!y),className:`px-3 py-2 border rounded-lg transition-colors ${y?"bg-sky-blue text-white border-sky-blue":"border-gray-300 hover:bg-gray-50"}`,children:n.jsx(Fx,{className:"w-4 h-4"})})]})]}),y&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:G.map(P=>n.jsx("button",{onClick:()=>{g.includes(P)?v(g.filter(I=>I!==P)):v([...g,P])},className:`px-3 py-1 text-sm rounded-full border transition-colors ${g.includes(P)?"bg-sky-blue text-white border-sky-blue":"bg-gray-100 text-gray-700 border-gray-200 hover:bg-gray-200"}`,children:P},P))})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(na,{className:"w-6 h-6 text-sky-blue"}),n.jsx("h3",{className:"font-semibold text-sky-blue",children:""})]}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"AI"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.slice(0,2).map(P=>n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:P.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:P.situation}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx("span",{children:P.author.department}),n.jsx("span",{children:""}),n.jsxs("span",{children:[P.reactions.like+P.reactions.empathy+P.reactions.helpful," "]})]}),n.jsx("button",{className:"text-sky-blue hover:text-blue-600 text-sm font-medium",children:""})]})]},P.id))})]}),n.jsxs("div",{className:"space-y-4",children:[c&&n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-600",children:"..."}),!c&&d&&n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-red-600",children:d}),!c&&!d&&R.length===0?n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[n.jsx(Qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),n.jsx("p",{className:"text-gray-600 mb-4",children:""}),n.jsx("button",{onClick:()=>r("create"),className:"px-4 py-2 bg-vivid-red text-white rounded-lg hover:bg-red-600 transition-colors",children:""})]}):!c&&!d&&R.map(P=>n.jsx(Oy,{post:P,onReaction:$,onClick:()=>{a(P),r("detail")}},P.id))]})]})}function Ly({onSubmit:t,onCancel:e,events:s}){const[r,i]=N.useState({title:"",eventId:"",situation:"",innovation:"",result:"",learning:"",tags:[],visibility:"public"}),[a,l]=N.useState(""),[o,c]=N.useState(!1),[u,d]=N.useState({}),[h,f]=N.useState([]),[w,g]=N.useState(!1),v=(b,$)=>{i(R=>({...R,[b]:$})),u[b]&&d(R=>({...R,[b]:""})),(b==="title"||b==="situation"||b==="innovation")&&setTimeout(()=>{const R=[];($.includes("")||$.includes(""))&&R.push("#","#"),($.includes("")||$.includes(""))&&R.push("#","#"),($.includes("")||$.includes(""))&&R.push("#","#"),f(R)},500)},k=b=>{!r.tags.includes(b)&&r.tags.length<8&&i($=>({...$,tags:[...$.tags,b]})),l(""),c(!1)},x=b=>{i($=>({...$,tags:$.tags.filter(R=>R!==b)}))},m=()=>{const b={};return r.title.trim()||(b.title=""),r.eventId||(b.eventId=""),r.situation.trim()||(b.situation=""),r.innovation.trim()||(b.innovation=""),r.result.trim()||(b.result=""),r.learning.trim()||(b.learning=""),r.tags.length===0&&(b.tags="1"),r.visibility==="department"&&!r.targetDepartment&&(b.targetDepartment=""),r.visibility==="theme"&&!r.targetTheme&&(b.targetTheme=""),d(b),Object.keys(b).length===0},p=b=>{b.preventDefault(),m()&&t(r)},y=s.find(b=>b.id===r.eventId),j=b=>{switch(b){case"active":return"text-success-green";case"completed":return"text-gray-600";case"upcoming":return"text-sky-blue";default:return"text-gray-600"}},_=b=>{switch(b){case"active":return"";case"completed":return"";case"upcoming":return"";default:return""}},E=ia.filter(b=>b.toLowerCase().includes(a.toLowerCase())&&!r.tags.includes(b));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:""})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Ae,{className:"w-5 h-5 text-sky-blue mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-sky-blue mb-1",children:""}),n.jsx("p",{className:"text-sm text-blue-700",children:" "})]})]})}),n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("select",{value:r.eventId,onChange:b=>v("eventId",b.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.eventId?"border-red-300":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:""}),s.map(b=>n.jsxs("option",{value:b.id,children:[b.name," (",_(b.status),")"]},b.id))]}),y&&n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:":"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.name}),n.jsxs("span",{className:`text-sm ${j(y.status)}`,children:["(",_(y.status),")"]})]}),u.eventId&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.eventId})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("input",{type:"text",value:r.title,onChange:b=>v("title",b.target.value),placeholder:"",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,maxLength:100}),u.title&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.title})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:r.situation,onChange:b=>v("situation",b.target.value),placeholder:"20",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.situation?"border-red-300":"border-gray-300"}`,maxLength:500}),u.situation&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.situation})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:r.innovation,onChange:b=>v("innovation",b.target.value),placeholder:"",rows:4,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.innovation?"border-red-300":"border-gray-300"}`,maxLength:1e3}),u.innovation&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.innovation})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:r.result,onChange:b=>v("result",b.target.value),placeholder:"",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.result?"border-red-300":"border-gray-300"}`,maxLength:500}),u.result&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.result})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsx("textarea",{value:r.learning,onChange:b=>v("learning",b.target.value),placeholder:"",rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.learning?"border-red-300":"border-gray-300"}`,maxLength:500}),u.learning&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.learning})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-4",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"8"})]}),h.length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(na,{className:"w-4 h-4 text-sky-blue"}),n.jsx("span",{className:"text-sm font-medium text-sky-blue",children:"AI"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(b=>n.jsxs("button",{type:"button",onClick:()=>k(b),className:"px-3 py-1 bg-sky-blue text-white text-sm rounded-full hover:bg-blue-600 transition-colors",children:["+ ",b]},b))})]}),r.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map(b=>n.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-sky-blue text-white text-sm rounded-full",children:[n.jsx("span",{children:b}),n.jsx("button",{type:"button",onClick:()=>x(b),className:"text-white hover:text-gray-200",children:""})]},b))}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),onFocus:()=>c(!0),placeholder:"...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),a.trim()&&!a.startsWith("#")?k("#"+a.trim()):a.trim()&&k(a.trim()))}}),o&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:E.length>0?E.map(b=>n.jsx("button",{type:"button",onClick:()=>k(b),className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",children:b},b)):n.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:""})})]}),u.tags&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center space-x-1",children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{children:u.tags})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-4",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"radio",name:"visibility",value:"public",checked:r.visibility==="public",onChange:b=>v("visibility",b.target.value),className:"text-sky-blue focus:ring-sky-blue"}),n.jsx(lr,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:""}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"radio",name:"visibility",value:"department",checked:r.visibility==="department",onChange:b=>v("visibility",b.target.value),className:"text-sky-blue focus:ring-sky-blue"}),n.jsx(ta,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:""}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"radio",name:"visibility",value:"theme",checked:r.visibility==="theme",onChange:b=>v("visibility",b.target.value),className:"text-sky-blue focus:ring-sky-blue"}),n.jsx(it,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:""}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]}),r.visibility==="department"&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("select",{value:r.targetDepartment||"",onChange:b=>v("targetDepartment",b.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.targetDepartment?"border-red-300":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:""}),Ef.map(b=>n.jsx("option",{value:b,children:b},b))]}),u.targetDepartment&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.targetDepartment})]}),r.visibility==="theme"&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("select",{value:r.targetTheme||"",onChange:b=>v("targetTheme",b.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent ${u.targetTheme?"border-red-300":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:""}),Cf.map(b=>n.jsx("option",{value:b,children:b},b))]}),u.targetTheme&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.targetTheme})]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:w,onChange:b=>g(b.target.checked),className:"mt-1 text-sky-blue focus:ring-sky-blue"}),n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:""}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" AI"})]})]})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:""}),n.jsx("button",{type:"submit",disabled:!w,className:"flex-1 px-6 py-3 bg-vivid-red text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:""})]})]})]})}const Zo=`<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>
  <script src="https://cdn.tailwindcss.com"><\/script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    body {
      background-color: #f3f4f6;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Sans", "Yu Gothic", "Meiryo", sans-serif;
      word-break: break-all;
    }
    .fade-in {
      animation: fadeInUp 0.6s ease-out forwards;
      opacity: 0;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .step-line { position: relative; }
    .step-line::after {
      content: '';
      position: absolute;
      left: 24px;
      top: 48px;
      bottom: -24px;
      width: 2px;
      border-left: 2px dashed #cbd5e1;
      z-index: 0;
    }
    .step-line:last-child::after { display: none; }
    .bubble {
      position: relative;
      background: white;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    }
    .bubble::before {
      content: "";
      position: absolute;
      top: 12px;
      left: -8px;
      border-style: solid;
      border-width: 8px 10px 8px 0;
      border-color: transparent white transparent transparent;
    }
    .bg-ice { background: linear-gradient(135deg, #fce38a 0%, #f38181 100%); }
    .bg-hook { background: linear-gradient(135deg, #ff9d6c 0%, #ff6200 100%); }
    .bg-lead { background: linear-gradient(135deg, #56d364 0%, #2ea44f 100%); }
    .bg-info { background: linear-gradient(135deg, #60a5fa 0%, #2563eb 100%); }
  </style>
</head>

<body class="pb-8">

  <div class="bg-white px-6 pt-10 pb-8 rounded-b-[3rem] shadow-sm mb-6 fade-in" style="animation-delay: 0.1s;">
    <p class="text-blue-600 font-bold text-xs tracking-widest mb-1 text-center">EPOS CARD SALES GUIDE</p>
    <h1 class="text-3xl font-black text-gray-800 text-center leading-tight">
      <br><span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-red-600"></span>
    </h1>
    <div class="mt-4 bg-gray-50 rounded-2xl p-4 flex items-center gap-3 border border-gray-100">
      <div class="bg-white p-2 rounded-xl shadow-sm">
        <i class="fa-solid fa-wand-magic-sparkles text-orange-500 text-xl"></i>
      </div>
      <p class="text-sm font-bold text-gray-600 leading-snug">
            <br>
      </p>
    </div>
  </div>

  <div class="px-5 max-w-md mx-auto space-y-10">
    
    <div class="step-line flex gap-4 fade-in" style="animation-delay: 0.2s;">
      <div class="z-10 shrink-0 w-12 h-12 bg-ice rounded-2xl flex items-center justify-center text-white shadow-lg shadow-red-100">
        <span class="text-xl font-black">0</span>
      </div>
      <div class="flex-1 pt-1">
        <h2 class="text-pink-600 font-black text-lg flex items-center gap-2">
          
        </h2>
        <p class="mt-2 text-sm font-bold text-gray-700 leading-relaxed">
          <span class="text-pink-600"></span><br>
        </p>
      </div>
    </div>

    <div class="step-line flex gap-4 fade-in" style="animation-delay: 0.3s;">
      <div class="z-10 shrink-0 w-12 h-12 bg-hook rounded-2xl flex items-center justify-center text-white shadow-lg shadow-orange-200">
        <span class="text-xl font-black">1</span>
      </div>
      <div class="flex-1 pt-1">
        <h2 class="text-orange-600 font-black text-lg flex items-center gap-2">
          
        </h2>
        <p class="mt-2 text-sm font-bold text-gray-700 leading-relaxed">
          <span class="text-orange-600"><br></span>
        </p>
      </div>
    </div>

    <div class="step-line flex gap-4 fade-in" style="animation-delay: 0.4s;">
      <div class="z-10 shrink-0 w-12 h-12 bg-lead rounded-2xl flex items-center justify-center text-white shadow-lg shadow-green-200">
        <span class="text-xl font-black">2</span>
      </div>
      <div class="flex-1 pt-1">
        <h2 class="text-green-600 font-black text-lg flex items-center gap-2">
          
        </h2>
        <p class="mt-2 text-sm font-bold text-gray-700 leading-relaxed">
          <span class="text-green-600"><br></span>
        </p>
      </div>
    </div>

    <div class="step-line flex gap-4 fade-in" style="animation-delay: 0.5s;">
      <div class="z-10 shrink-0 w-12 h-12 bg-info rounded-2xl flex items-center justify-center text-white shadow-lg shadow-blue-200">
        <span class="text-xl font-black">3</span>
      </div>
      <div class="flex-1 pt-1">
        <h2 class="text-blue-600 font-black text-lg flex items-center gap-2">
          
        </h2>
        <p class="mt-2 text-sm font-bold text-gray-700 leading-relaxed">
          <span class="text-blue-600"><br></span>
        </p>
      </div>
    </div>

    <div class="mt-12 bg-slate-900 rounded-[2.5rem] p-6 shadow-2xl fade-in" style="animation-delay: 0.6s;">
      <div class="flex items-center gap-2 mb-6">
        <div class="w-2 h-6 bg-yellow-400 rounded-full"></div>
        <h3 class="text-white font-black text-lg italic">Talk Example <span class="text-xs font-normal opacity-60">MGA</span></h3>
      </div>

      <div class="space-y-6">
        <div class="flex gap-3">
          <div class="shrink-0 w-8 h-8 rounded-full border border-pink-500/50 flex items-center justify-center text-[10px] font-bold text-pink-400 mt-1">0</div>
          <div class="bubble">
            <p class="text-sm font-bold text-gray-800"></p>
          </div>
        </div>
        <div class="flex gap-3">
          <div class="shrink-0 w-8 h-8 rounded-full border border-orange-500/50 flex items-center justify-center text-[10px] font-bold text-orange-400 mt-1">1</div>
          <div class="bubble">
            <p class="text-sm font-bold text-gray-800 italic"></p>
          </div>
        </div>
        <div class="flex gap-3">
          <div class="shrink-0 w-8 h-8 rounded-full border border-green-500/50 flex items-center justify-center text-[10px] font-bold text-green-400 mt-1">2</div>
          <div class="bubble">
            <p class="text-sm font-bold text-gray-800 leading-relaxed">
              <span class="text-red-500 border-b-2 border-red-200">500</span><span class="text-red-500 font-black">2,000</span>
            </p>
          </div>
        </div>
        <div class="flex gap-3">
          <div class="shrink-0 w-8 h-8 rounded-full border border-blue-500/50 flex items-center justify-center text-[10px] font-bold text-blue-400 mt-1">3</div>
          <div class="bubble">
            <p class="text-sm font-bold text-gray-800"><br>20</p>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-gradient-to-br from-indigo-600 to-purple-700 rounded-3xl p-6 text-white shadow-xl fade-in" style="animation-delay: 0.7s;">
      <h4 class="font-black text-sm flex items-center gap-2 mb-5">
        <i class="fa-solid fa-lightbulb text-yellow-300"></i>
        
      </h4>
      <div class="space-y-5">
        <div>
          <p class="text-sm font-black mb-1 flex items-center gap-2">
            <span class="w-1.5 h-1.5 bg-yellow-400 rounded-full"></span>
            
          </p>
          <p class="text-xs font-medium opacity-80 leading-relaxed ml-3.5">
            
          </p>
        </div>
        <div>
          <p class="text-sm font-black mb-1 flex items-center gap-2">
            <span class="w-1.5 h-1.5 bg-yellow-400 rounded-full"></span>
            
          </p>
          <p class="text-xs font-medium opacity-80 leading-relaxed ml-3.5">
            
          </p>
        </div>
        <div>
          <p class="text-sm font-black mb-1 flex items-center gap-2">
            <span class="w-1.5 h-1.5 bg-yellow-400 rounded-full"></span>
            
          </p>
          <p class="text-xs font-medium opacity-80 leading-relaxed ml-3.5">
            
          </p>
        </div>
      </div>
    </div>
  </div>

</body>
</html>`,Tf=[{id:"deco27",name:"DECO*27",description:"PDECO*27",startDate:new Date("2024-02-01"),endDate:new Date("2024-02-28"),status:"active",tags:["#DECO27","#","#","#"],totalPosts:10,totalViews:420,totalReactions:95,stores:["",""],bestPractices:[],successPatterns:["MV",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"DECO*27",mainCharacters:["",""],fanBase:["1030","SNS"],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://www.deco27.com/"}},{id:"jujutsu",name:"",description:"",startDate:new Date("2024-01-15"),endDate:new Date("2024-02-15"),status:"active",tags:["#","#","#","#"],totalPosts:12,totalViews:456,totalReactions:89,stores:["","","",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["1020",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://jujutsukaisen.jp/"}},{id:"kimetsu",name:" ",description:"",startDate:new Date("2024-02-01"),endDate:new Date("2024-03-01"),status:"active",tags:["#","#","#","#"],totalPosts:15,totalViews:521,totalReactions:102,stores:["","",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://kimetsu.com/anime"}},{id:"spyfamily",name:"SPYFAMILY ",description:"",startDate:new Date("2024-03-01"),endDate:new Date("2024-04-01"),status:"active",tags:["#SPYFAMILY","#","#","#"],totalPosts:8,totalViews:389,totalReactions:67,stores:["",""],bestPractices:[],successPatterns:["","SNS"],keyPhrases:["","SNS"],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["","SNS"],precautions:["",""],servicePoints:["","SNS"],officialSiteUrl:"https://spy-family.net/"}},{id:"onepiece",name:"ONE PIECE FILM RED",description:"",startDate:new Date("2024-02-10"),endDate:new Date("2024-03-10"),status:"active",tags:["#ONEPIECE","#","#"],totalPosts:18,totalViews:723,totalReactions:128,stores:["","","",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://one-piece.com/"}},{id:"oshi",name:"POPUP STORE",description:"",startDate:new Date("2024-03-05"),endDate:new Date("2024-04-05"),status:"active",tags:["#","#","#"],totalPosts:9,totalViews:445,totalReactions:76,stores:["",""],bestPractices:[],successPatterns:["","SNS"],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["","SNS"],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://ichigoproduction.com/"}},{id:"tokyo-revengers",name:" ",description:"",startDate:new Date("2024-02-20"),endDate:new Date("2024-03-20"),status:"completed",tags:["#","#"],totalPosts:7,totalViews:334,totalReactions:58,stores:["",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://tokyo-revengers-anime.com/"}},{id:"chainsaw",name:" POPUP STORE",description:"",startDate:new Date("2024-03-15"),endDate:new Date("2024-04-15"),status:"active",tags:["#","#","#"],totalPosts:6,totalViews:289,totalReactions:45,stores:["",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://chainsawman.dog/"}},{id:"bocchi",name:"",description:"",startDate:new Date("2024-04-15"),endDate:new Date("2024-05-15"),status:"upcoming",tags:["#","#","#"],totalPosts:5,totalViews:201,totalReactions:29,stores:["",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://bocchi.rocks/"}},{id:"blue-lock",name:" ",description:"",startDate:new Date("2024-04-01"),endDate:new Date("2024-05-01"),status:"upcoming",tags:["#","#","#"],totalPosts:4,totalViews:178,totalReactions:23,stores:["",""],bestPractices:[],successPatterns:["",""],keyPhrases:["",""],aiSummary:"",essentialKnowledge:{overview:"",mainCharacters:["","",""],fanBase:["",""],precautions:["",""],servicePoints:["",""],officialSiteUrl:"https://bluelock-pr.com/"}}],Dy=Tf.map(t=>t.name);function Af({refreshKey:t=0}){var yt;const{user:e,updateUser:s}=vn(),[r,i]=N.useState("list"),[a,l]=N.useState(null),[o,c]=N.useState(""),[u,d]=N.useState("all"),[h,f]=N.useState(!1),[w,g]=N.useState([]),[v,k]=N.useState("all"),[x,m]=N.useState(!1);N.useState("knowledge");const[p,y]=N.useState(!1),[j,_]=N.useState(!1),[E,b]=N.useState("all"),[$,R]=N.useState("all"),[G,P]=N.useState(null),[I,D]=N.useState([]),Q=Tf;N.useEffect(()=>{(async()=>{if(e!=null&&e.id){const K=await Hl(e.id);g(K)}})()},[e==null?void 0:e.id]),N.useEffect(()=>{const S=K=>{var _e;((_e=K.data)==null?void 0:_e.type)==="closeHookHelp"&&y(!1)};return window.addEventListener("message",S),()=>window.removeEventListener("message",S)},[]),N.useEffect(()=>{$y().then(D).catch(()=>D([]))},[t]);const ke=Q.filter(S=>{const K=S.name.toLowerCase().includes(o.toLowerCase())||S.tags.some(Ss=>Ss.toLowerCase().includes(o.toLowerCase())),_e=u==="all"||S.status===u||u==="my-events"&&w.includes(S.id);return K&&_e}),Me=S=>{switch(S){case"active":return"bg-green-100 text-success-green";case"completed":return"bg-gray-100 text-gray-600";case"upcoming":return"bg-blue-100 text-sky-blue";default:return"bg-gray-100 text-gray-600"}},T=S=>{switch(S){case"active":return"";case"completed":return"";case"upcoming":return"";default:return""}},z=S=>{l(S),i("detail"),window.scrollTo(0,0)},F=()=>{l(null),i("list")},O=S=>{},M=S=>{g(K=>K.includes(S)?K.filter(_e=>_e!==S):[...K,S])},W=async()=>{if(!(e!=null&&e.id)){console.error("ID");return}m(!0);try{if(await Cx(e.id,w)){const K=await Hl(e.id);g(K),f(!1),alert("")}else console.error(""),alert("")}catch(S){console.error(":",S),alert("")}finally{m(!1)}},te=Q.filter(S=>{const K=S.startDate.getFullYear()===2024||S.endDate.getFullYear()===2024;if(v==="all")return K;const Ss={:["",""],:["","","","","",""],:["","","","","","","","","","",""],:["","","","","","",""],:["","","","","",""],:["","","","",""],:["","","",""],:["","","","","","","",""]}[v]||[],is=S.stores.some($t=>Ss.some(vt=>$t.includes(vt)))||S.stores.includes("");return K&&is});if(r==="create")return n.jsx(Ly,{onSubmit:O,onCancel:F,events:Q.map(S=>({id:S.id,name:S.name,status:S.status}))});if(r==="detail"&&a){const S={id:0,staffName:"",eventName:"DECO*27",storeName:"",tags:["6:4","20","40"],hookWords:["3000",""],pitchWords:["18","3000","B8"],cardWords:["300","","20"],hookContent:`
3000
DECO*2723000
`,pitchContent:`
18
3000B8`,cardContent:`
VISA3003000
20
`,memoContent:`

6:4  20
40
`,adminComment:`
1) 
2) 
3) 


`,adminAuthor:"",adminUpdatedAt:"2026-02-19",likes:100,helpful:0},K=U=>{var ut,ec;const wt=((ut=U.stores)==null?void 0:ut[0])||"",bn=U.keyPhrases.length>0?U.keyPhrases.slice(0,2):[""],jn=U.successPatterns.length>0?U.successPatterns.slice(0,3):[""],bt=["",`${U.name}`,"20"];return{id:Number(String(U.id).replace(/\D/g,""))||1,staffName:"",eventName:U.name,storeName:wt,tags:[...U.tags.slice(0,3),`${U.status==="active"?"":U.status==="upcoming"?"":""}`],hookWords:bn,pitchWords:jn,cardWords:bt,hookContent:`
${bn.join(`
`)}

`,pitchContent:`
${jn.join(`
`)}

`,cardContent:`

${U.aiSummary}

`,memoContent:`
: ${U.description}
: ${U.stores.join(" / ")}
: ${(((ec=U.essentialKnowledge)==null?void 0:ec.precautions)||[""]).join(" / ")}`,adminComment:`${U.successPatterns[0]||""}
${U.successPatterns[1]||""}`,adminAuthor:"",adminUpdatedAt:"2026-02-19",likes:Math.max(U.totalReactions,1),helpful:0}},_e=a.id==="deco27"?S:K(a),is=I.filter(U=>U.event_title===a.name).map((U,wt)=>({id:wt+1e4,staffName:"",eventName:U.event_title||a.name,storeName:"",tags:Array.isArray(U.tags)?U.tags:[],hookWords:[U.situation.slice(0,60)],pitchWords:[U.approach.slice(0,60)],cardWords:[(U.result||"").slice(0,60)],hookContent:U.situation,pitchContent:U.approach,cardContent:U.result||"",memoContent:U.notes||"",likes:U.like_count||0,helpful:U.helpful_count||0})),$t=[_e,...is].sort((U,wt)=>(wt.likes||0)-(U.likes||0)),vt=$t[0];return n.jsxs("div",{className:"space-y-6 pb-10",children:[n.jsx("div",{children:n.jsxs("button",{onClick:F,className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-semibold hover:bg-gray-200 transition-colors",children:[n.jsx(_t,{className:"w-4 h-4 rotate-180"}),""]})}),n.jsxs("section",{className:"relative overflow-hidden rounded-[2rem] bg-gradient-to-br from-gray-900 to-gray-800 p-6 text-white shadow-xl shadow-gray-200",children:[n.jsx("div",{className:"absolute -right-4 -top-4 text-9xl opacity-10",children:""}),n.jsx("span",{className:"inline-block rounded-full bg-white/10 px-3 py-1 text-[10px] font-bold tracking-widest uppercase",children:"Current Event"}),n.jsx("h2",{className:"mt-2 text-3xl font-extrabold leading-tight",children:a.name}),n.jsx("p",{className:"mt-1 text-xs font-medium text-white/70",children:""})]}),n.jsxs("section",{className:"grid grid-cols-2 gap-3",children:[(yt=a.essentialKnowledge)!=null&&yt.officialSiteUrl?n.jsxs("a",{href:a.essentialKnowledge.officialSiteUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-3xl border border-gray-200 p-4 flex flex-col items-center text-center gap-2 shadow-sm hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:n.jsx(Ae,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-xs font-bold",children:""})]}):n.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-4 flex flex-col items-center text-center gap-2 shadow-sm",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:n.jsx(Ae,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-xs font-bold",children:""})]}),n.jsxs("a",{href:"https://www.eposcard.co.jp/gecard/ec00013/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-3xl border border-gray-200 p-4 flex flex-col items-center text-center gap-2 shadow-sm hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center text-orange-600",children:n.jsx(Ux,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-xs font-bold",children:""})]})]}),n.jsxs("section",{className:"rounded-3xl border border-gray-100 bg-white p-5 shadow-sm",children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:n.jsx(Qe,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold leading-tight",children:""}),n.jsxs("p",{className:"text-[11px] text-gray-400 font-semibold mt-0.5",children:[vt.adminAuthor||"",vt.adminUpdatedAt?`  ${vt.adminUpdatedAt}`:""]})]})]})}),n.jsx("div",{className:"mt-4 rounded-2xl border border-gray-100 bg-gray-50 p-4",children:n.jsx("p",{className:"text-[13px] whitespace-pre-wrap text-gray-700 leading-relaxed",children:vt.adminComment||""})})]}),n.jsxs("div",{className:"px-1 space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h3",{className:"text-xl font-bold tracking-tight",children:""})}),n.jsxs("button",{onClick:()=>y(!0),className:"w-full inline-flex items-center justify-center gap-2 rounded-2xl py-3 bg-sky-blue text-white font-bold shadow-lg shadow-sky-200 hover:bg-blue-600 transition-colors",children:["",n.jsx(_t,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"space-y-6",children:$t.map((U,wt)=>{const bn=wt===0?"text-yellow-500":wt===1?"text-gray-400":"text-amber-600",jn=wt===0?"border-blue-500":"border-gray-300";return n.jsxs("div",{className:`bg-white rounded-3xl border border-gray-200 border-l-8 ${jn} p-6 shadow-sm`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-6 gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-[9px] font-black text-white bg-blue-600 px-2 py-0.5 rounded uppercase tracking-widest",children:U.eventName}),n.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest",children:U.storeName})]}),n.jsxs("h4",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("span",{className:bn,children:""}),U.staffName]})]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gray-100 text-xs font-bold text-gray-700 active:scale-95 transition-transform",children:[n.jsx(wn,{className:"w-4 h-4 text-gray-500"}),U.helpful]})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"pl-4 border-l-[3px] border-orange-400",children:[n.jsx("span",{className:"text-[10px] font-bold tracking-wider text-orange-500 uppercase",children:"Hook / "}),n.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:U.hookWords.map((bt,ut)=>n.jsx("span",{className:"px-3 py-1 text-[11px] font-semibold rounded-xl bg-orange-50 text-orange-700 border border-orange-100",children:bt},`${U.id}-hook-${ut}`))})]}),n.jsxs("div",{className:"pl-4 border-l-[3px] border-green-500",children:[n.jsx("span",{className:"text-[10px] font-bold tracking-wider text-green-600 uppercase",children:"Pitch / "}),n.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:U.pitchWords.map((bt,ut)=>n.jsx("span",{className:"px-3 py-1 text-[11px] font-semibold rounded-xl bg-green-50 text-green-700 border border-green-100",children:bt},`${U.id}-pitch-${ut}`))})]}),n.jsxs("div",{className:"pl-4 border-l-[3px] border-blue-500",children:[n.jsx("span",{className:"text-[10px] font-bold tracking-wider text-blue-600 uppercase",children:"Card / "}),n.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:U.cardWords.map((bt,ut)=>n.jsx("span",{className:"px-3 py-1 text-[11px] font-semibold rounded-xl bg-blue-50 text-blue-700 border border-blue-100",children:bt},`${U.id}-card-${ut}`))})]})]}),n.jsx("div",{className:"pt-4 border-t border-gray-100",children:n.jsx("div",{className:"flex flex-wrap gap-1.5",children:U.tags.map((bt,ut)=>n.jsx("span",{className:"px-2 py-1 text-[10px] font-semibold rounded-xl bg-gray-100 text-gray-600 border border-gray-200",children:bt},`${U.id}-tag-${ut}`))})}),n.jsxs("details",{className:"mt-5 pt-4 border-t border-gray-100 group",children:[n.jsxs("summary",{className:"list-none flex justify-center items-center gap-2 text-xs font-bold cursor-pointer",children:[n.jsx("span",{className:"text-blue-600 group-open:hidden",children:""}),n.jsx("span",{className:"text-gray-400 hidden group-open:inline",children:""}),n.jsx(_t,{className:"w-3 h-3 text-blue-600 transition-transform group-open:rotate-90"})]}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"bg-orange-50/50 p-5 rounded-3xl text-sm leading-relaxed border border-orange-100/70",children:[n.jsx("p",{className:"font-bold text-orange-500 text-[10px] uppercase mb-2 tracking-widest",children:"Hook "}),n.jsx("div",{className:"whitespace-pre-wrap text-gray-700 text-[13px]",children:U.hookContent})]}),n.jsxs("div",{className:"bg-green-50/50 p-5 rounded-3xl text-sm leading-relaxed border border-green-100/70",children:[n.jsx("p",{className:"font-bold text-green-600 text-[10px] uppercase mb-2 tracking-widest",children:"Pitch "}),n.jsx("div",{className:"whitespace-pre-wrap text-gray-700 text-[13px]",children:U.pitchContent})]}),n.jsxs("div",{className:"bg-blue-50/50 p-5 rounded-3xl text-sm leading-relaxed border border-blue-100/70",children:[n.jsx("p",{className:"font-bold text-blue-600 text-[10px] uppercase mb-2 tracking-widest",children:"Info "}),n.jsx("div",{className:"whitespace-pre-wrap text-gray-700 text-[13px]",children:U.cardContent})]}),n.jsxs("div",{className:"bg-gray-100/60 p-5 rounded-3xl text-sm leading-relaxed border border-gray-200/70",children:[n.jsx("p",{className:"font-bold text-gray-500 text-[10px] uppercase mb-2 tracking-widest",children:"Memo / "}),n.jsx("div",{className:"whitespace-pre-wrap text-gray-700 text-[13px]",children:U.memoContent})]})]})]})]},U.id)})}),p&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-3 py-6",onClick:()=>y(!1),children:n.jsxs("div",{className:"relative w-full max-w-3xl",onClick:U=>U.stopPropagation(),children:[n.jsx("div",{className:"h-[85vh] bg-white rounded-2xl shadow-2xl overflow-hidden",children:n.jsx("iframe",{title:"",srcDoc:Zo,className:"w-full h-full border-0"})}),n.jsx("button",{type:"button",onClick:()=>y(!1),"aria-label":"",className:"absolute top-[calc(100%+8px)] left-1/2 -translate-x-1/2 z-10 w-9 h-9 rounded-full bg-gray-900 text-white text-xl leading-none flex items-center justify-center shadow-md hover:bg-gray-800",children:""})]})})]})}return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent"})]}),n.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"my-events",children:""}),n.jsx("option",{value:"active",children:""}),n.jsx("option",{value:"upcoming",children:""}),n.jsx("option",{value:"completed",children:""})]})]})}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ke.map(S=>n.jsxs("div",{onClick:()=>z(S),className:`bg-white rounded-2xl border-2 p-4 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group ${w.includes(S.id)?"border-purple-400 bg-purple-50/40":"border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${Me(S.status)}`,children:T(S.status)}),n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-semibold rounded-full bg-sky-50 text-sky-blue border border-sky-100",children:[" ",S.totalPosts]}),w.includes(S.id)&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-700",children:[n.jsx(it,{className:"w-3 h-3"}),n.jsx("span",{children:""})]})]}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-snug group-hover:text-sky-blue transition-colors",children:S.name})]}),n.jsx(_t,{className:"w-5 h-5 mt-1 text-gray-400 group-hover:text-sky-blue transition-colors shrink-0"})]}),n.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[S.tags.slice(0,3).map((K,_e)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-lg",children:K},_e)),S.tags.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-500 text-xs font-medium rounded-lg",children:["+",S.tags.length-3,""]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-3 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-1.5 min-w-0",children:[n.jsx(Ae,{className:"w-4 h-4 shrink-0"}),n.jsxs("span",{children:[S.startDate.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})," -",S.endDate.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})]})]}),n.jsxs("button",{type:"button",onClick:K=>{K.stopPropagation(),P(_e=>_e===S.id?null:S.id)},"aria-expanded":G===S.id,className:`flex items-center gap-1.5 shrink-0 px-2 py-1 rounded-md border text-xs font-semibold transition-colors ${G===S.id?"text-sky-blue border-sky-200 bg-sky-50":"text-gray-600 border-gray-200 bg-white hover:text-sky-blue hover:border-sky-200"}`,children:[n.jsx(it,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.stores.length,""]}),n.jsx("span",{className:"text-[10px] text-gray-400",children:""}),n.jsx(_t,{className:`w-3 h-3 transition-transform ${G===S.id?"rotate-90 text-sky-blue":"text-gray-400"}`})]})]}),G===S.id&&n.jsxs("div",{onClick:K=>K.stopPropagation(),className:"mt-3 rounded-xl border border-gray-200 bg-gray-50 p-3",children:[n.jsx("p",{className:"text-[11px] font-semibold text-gray-500 mb-2",children:""}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:S.stores.map(K=>n.jsx("span",{className:"px-2 py-1 rounded-md bg-white border border-gray-200 text-xs text-gray-700",children:K},`${S.id}-${K}`))})]})]},S.id))}),ke.length===0&&n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[n.jsx(Ae,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u==="my-events"?"":""}),n.jsx("p",{className:"text-gray-600",children:u==="my-events"?"":""})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),n.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:":"}),["all","","","","","","","",""].map(S=>n.jsx("button",{onClick:()=>k(S),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${v===S?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:S==="all"?"":S},S))]})]}),n.jsx("div",{className:"p-6 space-y-4",children:te.length>0?te.map(S=>n.jsx("button",{onClick:()=>M(S.id),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${w.includes(S.id)?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-success-green",children:""})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ae,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.startDate.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})," -",S.endDate.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(it,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.stores.length,""]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qe,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.totalPosts,""]})]})]})]}),n.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ml-3 ${w.includes(S.id)?"border-purple-600 bg-purple-600":"border-gray-300"}`,children:w.includes(S.id)&&n.jsx(Dx,{className:"w-4 h-4 text-white"})})]})},S.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ae,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:""})]})}),n.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[w.length,""]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:""}),n.jsx("button",{onClick:W,disabled:x,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed",children:x?"...":""})]})]})]})}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:""}),n.jsxs("select",{value:E,onChange:S=>b(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""}),n.jsx("option",{value:"",children:""})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:""}),n.jsxs("select",{value:$,onChange:S=>R(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",children:[n.jsx("option",{value:"all",children:""}),n.jsx("option",{value:"2024",children:"2024"}),n.jsx("option",{value:"2023",children:"2023"}),n.jsx("option",{value:"2022",children:"2022"}),n.jsx("option",{value:"2021",children:"2021"})]})]})]})]}),n.jsx("div",{className:"p-6 space-y-4",children:Q.filter(S=>{const K=is=>{const $t={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},vt=Object.keys($t).find(U=>is.includes(U));return vt?$t[vt]:""},_e=E==="all"||S.stores.some(is=>K(is)===E)||E===""&&S.stores.includes(""),Ss=$==="all"||S.startDate.getFullYear().toString()===$;return _e&&Ss}).map(S=>n.jsx("div",{onClick:()=>{_(!1),z(S)},className:"p-4 rounded-xl border-2 border-gray-200 hover:border-sky-blue hover:bg-gray-50 transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Me(S.status)}`,children:T(S.status)})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ae,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.startDate.toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})," -",S.endDate.toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(it,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.stores.length,""]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qe,{className:"w-4 h-4"}),n.jsxs("span",{children:[S.totalPosts,""]})]})]})]}),n.jsx(_t,{className:"w-5 h-5 text-gray-400 flex-shrink-0 ml-3"})]})},S.id))})]})})]})}function My(){const{user:t,updateUser:e}=vn(),[s,r]=N.useState(!1),[i,a]=N.useState({name:(t==null?void 0:t.name)||"",introduction:"",learningGoals:""}),l={knowhowPosts:12},o=_y.reduce((d,h)=>d+h.reactions.like,0),c=()=>{t&&e({name:i.name}),r(!1)},u=()=>{a({name:(t==null?void 0:t.name)||"",introduction:"",learningGoals:""}),r(!1)};return t?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsxs("button",{onClick:()=>r(!s),className:"flex items-center space-x-2 px-4 py-2 bg-sky-blue text-white rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(Jx,{className:"w-4 h-4"}),n.jsx("span",{children:s?"":""})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:t.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",alt:t.name,className:"w-24 h-24 rounded-full object-cover mx-auto"}),s&&n.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-sky-blue text-white rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors",children:n.jsx(ri,{className:"w-4 h-4"})})]}),s?n.jsx("input",{type:"text",value:i.name,onChange:d=>a(h=>({...h,name:d.target.value})),className:"mt-4 text-xl font-bold text-center w-full border border-gray-300 rounded-lg px-3 py-2"}):n.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-4",children:t.name}),n.jsx("p",{className:"text-gray-600",children:t.department}),n.jsx("p",{className:"text-sm text-gray-500",children:"ID: EMP001"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:""}),s?n.jsx("textarea",{value:i.introduction,onChange:d=>a(h=>({...h,introduction:d.target.value})),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}):n.jsx("p",{className:"text-sm text-gray-700",children:i.introduction})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:""}),s?n.jsx("textarea",{value:i.learningGoals,onChange:d=>a(h=>({...h,learningGoals:d.target.value})),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}):n.jsx("p",{className:"text-sm text-gray-700",children:i.learningGoals})]}),s&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-success-green text-white rounded-lg hover:bg-emerald-green transition-colors",children:[n.jsx(Xx,{className:"w-4 h-4"}),n.jsx("span",{children:""})]}),n.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(cr,{className:"w-4 h-4"}),n.jsx("span",{children:""})]})]})]})]})}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(it,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[n.jsx(wn,{className:"w-5 h-5 text-sky-blue"}),n.jsx(Go,{className:"w-5 h-5 text-vivid-red"}),n.jsx(Jo,{className:"w-5 h-5 text-sunshine-yellow"})]}),n.jsx("div",{className:"text-xl font-bold text-gray-900",children:o}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx(Qe,{className:"w-8 h-8 text-success-green mx-auto mb-2"}),n.jsx("div",{className:"text-xl font-bold text-gray-900",children:l.knowhowPosts}),n.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]})})]})]}):n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsx("p",{className:"text-gray-500",children:"..."})})}function Uy({isOpen:t,onClose:e,onSubmit:s}){const[r,i]=N.useState(!1),[a,l]=N.useState(""),[o,c]=N.useState({title:"",eventName:"",hook:"",pitch:"",card:"",memo:"",tags:[]}),u=()=>{i(!1),l(""),c({title:"",eventName:"",hook:"",pitch:"",card:"",memo:"",tags:[]})},d=g=>{if(g.preventDefault(),!o.eventName){alert("");return}if(!o.hook){alert("");return}if(!o.pitch){alert("");return}if(!o.card){alert("");return}s({...o,title:o.eventName}),e(),u()},h=()=>{e(),u()},f=g=>{const v=g.startsWith("#")?g:`#${g}`;v.length>1&&!o.tags.includes(v)&&c(k=>({...k,tags:[...k.tags,v]})),l("")},w=g=>{c(v=>({...v,tags:v.tags.filter(k=>k!==g)}))};return t?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between rounded-t-2xl",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("button",{onClick:h,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[n.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl bg-sky-blue text-white font-bold shadow-lg hover:bg-blue-600 transition-colors",children:[n.jsx(ea,{className:"w-5 h-5"}),""]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"eventSelect",className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"})]}),n.jsxs("select",{id:"eventSelect",value:o.eventName,onChange:g=>c(v=>({...v,eventName:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent bg-white",children:[n.jsx("option",{value:"",children:""}),Dy.map(g=>n.jsx("option",{value:g,children:g},g))]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"hook",className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"}),n.jsx("span",{className:"ml-1 text-xs text-gray-400 font-normal",children:""})]}),n.jsx("textarea",{id:"hook",value:o.hook,onChange:g=>c(v=>({...v,hook:g.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",placeholder:": 3000"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"pitch",className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"}),n.jsx("span",{className:"ml-1 text-xs text-gray-400 font-normal",children:""})]}),n.jsx("textarea",{id:"pitch",value:o.pitch,onChange:g=>c(v=>({...v,pitch:g.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",placeholder:": 3000B"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"card",className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",n.jsx("span",{className:"text-vivid-red",children:"*"}),n.jsx("span",{className:"ml-1 text-xs text-gray-400 font-normal",children:""})]}),n.jsx("textarea",{id:"card",value:o.card,onChange:g=>c(v=>({...v,card:g.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",placeholder:": "})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"memo",className:"block text-sm font-medium text-gray-700 mb-2",children:["",n.jsx("span",{className:"ml-1 text-xs text-gray-400 font-normal",children:""})]}),n.jsx("textarea",{id:"memo",value:o.memo,onChange:g=>c(v=>({...v,memo:g.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent",placeholder:": 20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:o.tags.map(g=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[g,n.jsx("button",{type:"button",onClick:()=>w(g),className:"hover:text-red-600",children:n.jsx(cr,{className:"w-3 h-3"})})]},g))}),n.jsx("div",{className:"flex gap-2",children:n.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),a.trim()&&f(a.trim()))},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-blue focus:border-transparent text-sm",placeholder:"Enter"})}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:ia.filter(g=>!o.tags.includes(g)).slice(0,8).map(g=>n.jsx("button",{type:"button",onClick:()=>f(g),className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-colors",children:g},g))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:h,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:""}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-vivid-red text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:""})]})]})]}),r&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 px-3 py-6",children:n.jsxs("div",{className:"relative w-full max-w-3xl",children:[n.jsx("div",{className:"h-[85vh] bg-white rounded-2xl shadow-2xl overflow-hidden",children:n.jsx("iframe",{title:"",srcDoc:Zo,className:"w-full h-full border-0"})}),n.jsx("button",{type:"button",onClick:()=>i(!1),"aria-label":"",className:"absolute top-[calc(100%+8px)] left-1/2 -translate-x-1/2 z-10 w-9 h-9 rounded-full bg-gray-900 text-white text-xl leading-none flex items-center justify-center shadow-md hover:bg-gray-800",children:""})]})})]}):null}function zy({initialShowHookHelp:t=!1,onInitialHookHelpHandled:e}){const[s,r]=N.useState(!1),[i,a]=N.useState(!1),[l,o]=N.useState(0),{user:c}=vn();N.useEffect(()=>{if(!t)return;const d=setTimeout(()=>{a(!0),e==null||e()},2e3);return()=>clearTimeout(d)},[t,e]);const u=async d=>{try{if(!c||c.id==="guest"){alert("");return}await Pf({authorId:c.id,title:d.eventName,eventName:d.eventName,hook:d.hook,pitch:d.pitch,card:d.card,memo:d.memo,tags:d.tags})?(o(f=>f+1),alert("")):alert("")}catch(h){console.error(h),alert("")}};return n.jsxs("div",{className:"space-y-6 w-full max-w-full overflow-x-hidden",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:""})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1.5 text-xs text-gray-400 hover:text-gray-600 transition-colors",children:[n.jsx(ea,{className:"w-3.5 h-3.5"}),""]}),n.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-1 text-xs text-gray-400 hover:text-gray-600 transition-colors",children:[n.jsx(Yx,{className:"w-3.5 h-3.5"}),""]})]}),n.jsx(Af,{refreshKey:l}),n.jsx(Uy,{isOpen:s,onClose:()=>r(!1),onSubmit:u}),i&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-3 py-6",children:n.jsxs("div",{className:"relative w-full max-w-3xl",children:[n.jsx("div",{className:"h-[85vh] bg-white rounded-2xl shadow-2xl overflow-hidden",children:n.jsx("iframe",{title:"",srcDoc:Zo,className:"w-full h-full border-0"})}),n.jsx("button",{type:"button",onClick:()=>a(!1),"aria-label":"",className:"absolute top-[calc(100%+8px)] left-1/2 -translate-x-1/2 z-10 w-9 h-9 rounded-full bg-gray-900 text-white text-xl leading-none flex items-center justify-center shadow-md hover:bg-gray-800",children:""})]})})]})}function Fy(){const{user:t,isAuthenticated:e,isLoading:s,login:r,logout:i}=vn(),[a,l]=N.useState("dashboard"),[o,c]=N.useState(!0),[u,d]=N.useState(0),[h,f]=N.useState(!1),[w,g]=N.useState("login");if(s)return n.jsx("div",{className:"min-h-screen bg-light-gray flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-sky-blue border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"..."})]})});const v=async(j,_,E,b)=>await Tx({name:j,email:_,password:E,department:b,role:"learner"})&&await r(_,E)?(g("login"),!0):!1;if(!e)return w==="signup"?n.jsx(ly,{onSignup:v,onBackToLogin:()=>g("login")}):n.jsx(iy,{onLogin:r,onNavigateToSignup:()=>g("signup")});const k=(j="evaluation")=>{c(!1),l(j),f(j==="cases")},x=()=>{i(),c(!0),l("dashboard")},m=()=>{l("cases"),d(j=>j+1)};if(o)return n.jsx(oy,{onComplete:k});const p=j=>({dashboard:"Dashboard",simulation:"Simulation",evaluation:"Evaluation",events:"Events",community:"Community",cases:"Cases"})[j]||"App",y=()=>{switch(a){case"dashboard":return n.jsx(Ru,{onNavigateToSimulation:()=>l("simulation")});case"simulation":return n.jsx(jy,{});case"evaluation":return n.jsx(Ty,{});case"events":return n.jsx(Af,{});case"community":return n.jsx(Ry,{});case"cases":return n.jsx(zy,{initialShowHookHelp:h,onInitialHookHelpHandled:()=>f(!1)},u);case"profile":return n.jsx(My,{});default:return n.jsx(Ru,{onNavigateToSimulation:()=>l("simulation")})}};return n.jsxs("div",{className:"min-h-screen bg-light-gray overflow-x-hidden",children:[n.jsx(cy,{title:p(a),onMenuToggle:()=>{},onProfileClick:()=>l("profile"),onLogoClick:m,onLogout:x,user:t}),n.jsx("div",{className:"h-20"}),n.jsx(fy,{activeTab:a,onTabChange:l}),n.jsxs("div",{className:"flex",children:[n.jsx(dy,{activeTab:a,onTabChange:l}),n.jsx("main",{className:"flex-1 w-full p-4 sm:p-6 pb-24 lg:pb-6 max-w-7xl mx-auto overflow-x-hidden",children:y()})]})]})}Xh(document.getElementById("root")).render(n.jsx(N.StrictMode,{children:n.jsx(Fy,{})}));
